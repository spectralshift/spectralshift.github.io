/*! For license information please see 390.dbabd1f4.chunk.js.LICENSE.txt */
(self.webpackChunkoveranalyse=self.webpackChunkoveranalyse||[]).push([[390],{74802:(e,t,n)=>{"use strict";var o=n(24994);t.A=void 0;var r=o(n(40039)),i=n(70579);t.A=(0,r.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},17392:(e,t,n)=>{"use strict";n.d(t,{A:()=>w});var o=n(98587),r=n(58168),i=n(65043),a=n(58387),s=n(68606),c=n(67266),l=n(34535),u=n(98206),d=n(75429),f=n(6803),h=n(57056),p=n(32400);function g(e){return(0,p.Ay)("MuiIconButton",e)}const v=(0,h.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]);var m=n(70579);const y=["edge","children","className","color","disabled","disableFocusRipple","size"],b=(0,l.Ay)(d.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat((0,f.A)(n.color))],n.edge&&t["edge".concat((0,f.A)(n.edge))],t["size".concat((0,f.A)(n.size))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var o;const i=null==(o=(t.vars||t).palette)?void 0:o[n.color];return(0,r.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,r.A)({color:null==i?void 0:i.main},!n.disableRipple&&{"&:hover":(0,r.A)({},i&&{backgroundColor:t.vars?"rgba(".concat(i.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)(i.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{["&.".concat(v.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),w=i.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiIconButton"}),{edge:i=!1,children:c,className:l,color:d="default",disabled:h=!1,disableFocusRipple:p=!1,size:v="medium"}=n,w=(0,o.A)(n,y),x=(0,r.A)({},n,{edge:i,color:d,disabled:h,disableFocusRipple:p,size:v}),E=(e=>{const{classes:t,disabled:n,color:o,edge:r,size:i}=e,a={root:["root",n&&"disabled","default"!==o&&"color".concat((0,f.A)(o)),r&&"edge".concat((0,f.A)(r)),"size".concat((0,f.A)(i))]};return(0,s.A)(a,g,t)})(x);return(0,m.jsx)(b,(0,r.A)({className:(0,a.A)(E.root,l),centerRipple:!0,focusRipple:!p,disabled:h,ref:t},w,{ownerState:x,children:c}))}))},32143:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var o=n(98587),r=n(58168),i=n(65043),a=n(58387),s=n(68606),c=n(67266),l=n(34535),u=n(61475),d=n(98206),f=n(51347),h=n(75429),p=n(55013),g=n(95849),v=n(5658),m=n(71424),y=n(28052),b=n(57056),w=n(32400);function x(e){return(0,w.Ay)("MuiMenuItem",e)}const E=(0,b.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var S=n(70579);const _=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],C=(0,l.Ay)(h.A,{shouldForwardProp:e=>(0,u.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(E.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(E.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,c.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(E.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,c.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(E.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(E.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(v.A.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(v.A.inset)]:{marginLeft:52},["& .".concat(y.A.root)]:{marginTop:0,marginBottom:0},["& .".concat(y.A.inset)]:{paddingLeft:36},["& .".concat(m.A.root)]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,r.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(m.A.root," svg")]:{fontSize:"1.25rem"}}))})),N=i.forwardRef((function(e,t){const n=(0,d.b)({props:e,name:"MuiMenuItem"}),{autoFocus:c=!1,component:l="li",dense:u=!1,divider:h=!1,disableGutters:v=!1,focusVisibleClassName:m,role:y="menuitem",tabIndex:b,className:w}=n,E=(0,o.A)(n,_),N=i.useContext(f.A),M=i.useMemo((()=>({dense:u||N.dense||!1,disableGutters:v})),[N.dense,u,v]),k=i.useRef(null);(0,p.A)((()=>{c&&k.current&&k.current.focus()}),[c]);const A=(0,r.A)({},n,{dense:M.dense,divider:h,disableGutters:v}),I=(e=>{const{disabled:t,dense:n,divider:o,disableGutters:i,selected:a,classes:c}=e,l={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",o&&"divider",a&&"selected"]},u=(0,s.A)(l,x,c);return(0,r.A)({},c,u)})(n),O=(0,g.A)(k,t);let P;return n.disabled||(P=void 0!==b?b:-1),(0,S.jsx)(f.A.Provider,{value:M,children:(0,S.jsx)(C,(0,r.A)({ref:O,role:y,tabIndex:P,component:l,focusVisibleClassName:(0,a.A)(I.focusVisible,m),className:(0,a.A)(I.root,w)},E,{ownerState:A,classes:I}))})}))},57972:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var o=n(58168),r=n(98587),i=n(65043),a=n(58387),s=n(68606),c=n(34535),l=n(98206),u=n(57056),d=n(32400);function f(e){return(0,d.Ay)("MuiFormGroup",e)}(0,u.A)("MuiFormGroup",["root","row","error"]);var h=n(85213),p=n(74827),g=n(70579);const v=["className","row"],m=(0,c.Ay)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})((e=>{let{ownerState:t}=e;return(0,o.A)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),y=i.forwardRef((function(e,t){const n=(0,l.b)({props:e,name:"MuiFormGroup"}),{className:i,row:c=!1}=n,u=(0,r.A)(n,v),d=(0,h.A)(),y=(0,p.A)({props:n,muiFormControl:d,states:["error"]}),b=(0,o.A)({},n,{row:c,error:y.error}),w=(e=>{const{classes:t,row:n,error:o}=e,r={root:["root",n&&"row",o&&"error"]};return(0,s.A)(r,f,t)})(b);return(0,g.jsx)(m,(0,o.A)({className:(0,a.A)(w.root,i),ownerState:b,ref:t},u))}));function b(e){return(0,d.Ay)("MuiRadioGroup",e)}(0,u.A)("MuiRadioGroup",["root","row","error"]);var w=n(95849),x=n(75242),E=n(12487),S=n(45879);const _=["actions","children","className","defaultValue","name","onChange","value"],C=i.forwardRef((function(e,t){const{actions:n,children:c,className:l,defaultValue:u,name:d,onChange:f,value:h}=e,p=(0,r.A)(e,_),v=i.useRef(null),m=(e=>{const{classes:t,row:n,error:o}=e,r={root:["root",n&&"row",o&&"error"]};return(0,s.A)(r,b,t)})(e),[C,N]=(0,x.A)({controlled:h,default:u,name:"RadioGroup"});i.useImperativeHandle(n,(()=>({focus:()=>{let e=v.current.querySelector("input:not(:disabled):checked");e||(e=v.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const M=(0,w.A)(t,v),k=(0,S.A)(d),A=i.useMemo((()=>({name:k,onChange(e){N(e.target.value),f&&f(e,e.target.value)},value:C})),[k,f,N,C]);return(0,g.jsx)(E.A.Provider,{value:A,children:(0,g.jsx)(y,(0,o.A)({role:"radiogroup",ref:M,className:(0,a.A)(m.root,l)},p,{children:c}))})}))},12487:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o=n(65043).createContext(void 0)},14256:(e,t,n)=>{"use strict";n.d(t,{A:()=>P});var o=n(98587),r=n(58168),i=n(65043),a=n(58387),s=n(68606),c=n(67266),l=n(33064),u=n(98206),d=n(59662),f=n(70579);const h=(0,d.A)((0,f.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),p=(0,d.A)((0,f.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var g=n(34535),v=n(61475);const m=(0,g.Ay)("span",{shouldForwardProp:v.A})({position:"relative",display:"flex"}),y=(0,g.Ay)(h)({transform:"scale(1)"}),b=(0,g.Ay)(p)((e=>{let{theme:t,ownerState:n}=e;return(0,r.A)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const w=function(e){const{checked:t=!1,classes:n={},fontSize:o}=e,i=(0,r.A)({},e,{checked:t});return(0,f.jsxs)(m,{className:n.root,ownerState:i,children:[(0,f.jsx)(y,{fontSize:o,className:n.background,ownerState:i}),(0,f.jsx)(b,{fontSize:o,className:n.dot,ownerState:i})]})};var x=n(6803),E=n(6593),S=n(12487);var _=n(57056),C=n(32400);function N(e){return(0,C.Ay)("MuiRadio",e)}const M=(0,_.A)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),k=["checked","checkedIcon","color","icon","name","onChange","size","className"],A=(0,g.Ay)(l.A,{shouldForwardProp:e=>(0,v.A)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t["size".concat((0,x.A)(n.size))],t["color".concat((0,x.A)(n.color))]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{["&.".concat(M.checked)]:{color:(t.vars||t).palette[n.color].main}},{["&.".concat(M.disabled)]:{color:(t.vars||t).palette.action.disabled}})}));const I=(0,f.jsx)(w,{checked:!0}),O=(0,f.jsx)(w,{}),P=i.forwardRef((function(e,t){var n,c;const l=(0,u.b)({props:e,name:"MuiRadio"}),{checked:d,checkedIcon:h=I,color:p="primary",icon:g=O,name:v,onChange:m,size:y="medium",className:b}=l,w=(0,o.A)(l,k),_=(0,r.A)({},l,{color:p,size:y}),C=(e=>{const{classes:t,color:n,size:o}=e,i={root:["root","color".concat((0,x.A)(n)),"medium"!==o&&"size".concat((0,x.A)(o))]};return(0,r.A)({},t,(0,s.A)(i,N,t))})(_),M=i.useContext(S.A);let P=d;const R=(0,E.A)(m,M&&M.onChange);let z=v;var D,T;return M&&("undefined"===typeof P&&(D=M.value,P="object"===typeof(T=l.value)&&null!==T?D===T:String(D)===String(T)),"undefined"===typeof z&&(z=M.name)),(0,f.jsx)(A,(0,r.A)({type:"radio",icon:i.cloneElement(g,{fontSize:null!=(n=O.props.fontSize)?n:y}),checkedIcon:i.cloneElement(h,{fontSize:null!=(c=I.props.fontSize)?c:y}),ownerState:_,classes:C,name:z,checked:P,onChange:R,ref:t,className:(0,a.A)(C.root,b)},w))}))},79650:(e,t,n)=>{"use strict";n.d(t,{A:()=>v});var o=n(58168),r=n(98587),i=n(65043),a=n(58387),s=n(68606),c=n(98206),l=n(34535),u=n(57056),d=n(32400);function f(e){return(0,d.Ay)("MuiTableContainer",e)}(0,u.A)("MuiTableContainer",["root"]);var h=n(70579);const p=["className","component"],g=(0,l.Ay)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),v=i.forwardRef((function(e,t){const n=(0,c.b)({props:e,name:"MuiTableContainer"}),{className:i,component:l="div"}=n,u=(0,r.A)(n,p),d=(0,o.A)({},n,{component:l}),v=(e=>{const{classes:t}=e;return(0,s.A)({root:["root"]},f,t)})(d);return(0,h.jsx)(g,(0,o.A)({ref:t,as:l,className:(0,a.A)(v.root,i),ownerState:d},u))}))},63577:(e,t,n)=>{e.exports={graphlib:n(17938),layout:n(86675),debug:n(3774),util:{time:n(65641).time,notime:n(65641).notime},version:n(45185)}},5673:(e,t,n)=>{"use strict";var o=n(78208),r=n(63130);e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?r(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};function i(a){o.has(r,a)||(r[a]=!0,n[a]=!0,o.forEach(e.outEdges(a),(function(e){o.has(n,e.w)?t.push(e):i(e.w)})),delete n[a])}return o.forEach(e.nodes(),i),t}(e);o.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,o.uniqueId("rev"))}))},undo:function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var o=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,o)}}))}}},5972:(e,t,n)=>{var o=n(78208),r=n(65641);function i(e,t,n,o,i,a){var s={width:0,height:0,rank:a,borderType:t},c=i[t][a-1],l=r.addDummyNode(e,"border",s,n);i[t][a]=l,e.setParent(l,o),c&&e.setEdge(c,l,{weight:1})}e.exports=function(e){o.forEach(e.children(),(function t(n){var r=e.children(n),a=e.node(n);if(r.length&&o.forEach(r,t),o.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,c=a.maxRank+1;s<c;++s)i(e,"borderLeft","_bl",n,a,s),i(e,"borderRight","_br",n,a,s)}}))}},21981:(e,t,n)=>{"use strict";var o=n(78208);function r(e){o.forEach(e.nodes(),(function(t){i(e.node(t))})),o.forEach(e.edges(),(function(t){i(e.edge(t))}))}function i(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||r(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){o.forEach(e.nodes(),(function(t){a(e.node(t))})),o.forEach(e.edges(),(function(t){var n=e.edge(t);o.forEach(n.points,a),o.has(n,"y")&&a(n)}))}(e);"lr"!==t&&"rl"!==t||(!function(e){o.forEach(e.nodes(),(function(t){s(e.node(t))})),o.forEach(e.edges(),(function(t){var n=e.edge(t);o.forEach(n.points,s),o.has(n,"x")&&s(n)}))}(e),r(e))}}},66684:e=>{function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function o(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,o)),n=n._prev;return"["+e.join(", ")+"]"}},3774:(e,t,n)=>{var o=n(78208),r=n(65641),i=n(17938).Graph;e.exports={debugOrdering:function(e){var t=r.buildLayerMatrix(e),n=new i({compound:!0,multigraph:!0}).setGraph({});return o.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),o.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),o.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),o.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}}},17938:(e,t,n)=>{var o;try{o=n(79207)}catch(r){}o||(o=window.graphlib),e.exports=o},63130:(e,t,n)=>{var o=n(78208),r=n(17938).Graph,i=n(66684);e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new r,a=0,s=0;o.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),o.forEach(e.edges(),(function(e){var o=n.edge(e.v,e.w)||0,r=t(e),i=o+r;n.setEdge(e.v,e.w,i),s=Math.max(s,n.node(e.v).out+=r),a=Math.max(a,n.node(e.w).in+=r)}));var l=o.range(s+a+3).map((function(){return new i})),u=a+1;return o.forEach(n.nodes(),(function(e){c(l,u,n.node(e))})),{graph:n,buckets:l,zeroIdx:u}}(e,t||a),l=function(e,t,n){var o,r=[],i=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;o=a.dequeue();)s(e,t,n,o);for(;o=i.dequeue();)s(e,t,n,o);if(e.nodeCount())for(var c=t.length-2;c>0;--c)if(o=t[c].dequeue()){r=r.concat(s(e,t,n,o,!0));break}}return r}(n.graph,n.buckets,n.zeroIdx);return o.flatten(o.map(l,(function(t){return e.outEdges(t.v,t.w)})),!0)};var a=o.constant(1);function s(e,t,n,r,i){var a=i?[]:void 0;return o.forEach(e.inEdges(r.v),(function(o){var r=e.edge(o),s=e.node(o.v);i&&a.push({v:o.v,w:o.w}),s.out-=r,c(t,n,s)})),o.forEach(e.outEdges(r.v),(function(o){var r=e.edge(o),i=o.w,a=e.node(i);a.in-=r,c(t,n,a)})),e.removeNode(r.v),a}function c(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},86675:(e,t,n)=>{"use strict";var o=n(78208),r=n(5673),i=n(22786),a=n(12460),s=n(65641).normalizeRanks,c=n(76467),l=n(65641).removeEmptyRanks,u=n(35146),d=n(5972),f=n(21981),h=n(550),p=n(81277),g=n(65641),v=n(17938).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?g.time:g.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new v({multigraph:!0,compound:!0}),n=N(e.graph());return t.setGraph(o.merge({},y,C(n,m),o.pick(n,b))),o.forEach(e.nodes(),(function(n){var r=N(e.node(n));t.setNode(n,o.defaults(C(r,w),x)),t.setParent(n,e.parent(n))})),o.forEach(e.edges(),(function(n){var r=N(e.edge(n));t.setEdge(n,o.merge({},S,C(r,E),o.pick(r,_)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,o.forEach(e.edges(),(function(n){var o=e.edge(n);o.minlen*=2,"c"!==o.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?o.width+=o.labeloffset:o.height+=o.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){o.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){r.run(e)})),t("    nestingGraph.run",(function(){u.run(e)})),t("    rank",(function(){a(g.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var o=e.node(t.v),r={rank:(e.node(t.w).rank-o.rank)/2+o.rank,e:t};g.addDummyNode(e,"edge-proxy",r,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){l(e)})),t("    nestingGraph.cleanup",(function(){u.cleanup(e)})),t("    normalizeRanks",(function(){s(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;o.forEach(e.nodes(),(function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=o.max(t,r.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){o.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){i.run(e)})),t("    parentDummyChains",(function(){c(e)})),t("    addBorderSegments",(function(){d(e)})),t("    order",(function(){h(e)})),t("    insertSelfEdges",(function(){!function(e){var t=g.buildLayerMatrix(e);o.forEach(t,(function(t){var n=0;o.forEach(t,(function(t,r){var i=e.node(t);i.order=r+n,o.forEach(i.selfEdges,(function(t){g.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){f.adjust(e)})),t("    position",(function(){p(e)})),t("    positionSelfEdges",(function(){!function(e){o.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var o=e.node(n.e.v),r=o.x+o.width/2,i=o.y,a=n.x-r,s=o.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:r+2*a/3,y:i-s},{x:r+5*a/6,y:i-s},{x:r+a,y:i},{x:r+5*a/6,y:i+s},{x:r+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){o.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(o.last(n.borderLeft)),s=e.node(o.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(i.y-r.y),n.x=a.x+n.width/2,n.y=r.y+n.height/2}})),o.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){i.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);if(o.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){f.undo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,c=a.marginy||0;function l(e){var o=e.x,a=e.y,s=e.width,c=e.height;t=Math.min(t,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-c/2),i=Math.max(i,a+c/2)}o.forEach(e.nodes(),(function(t){l(e.node(t))})),o.forEach(e.edges(),(function(t){var n=e.edge(t);o.has(n,"x")&&l(n)})),t-=s,r-=c,o.forEach(e.nodes(),(function(n){var o=e.node(n);o.x-=t,o.y-=r})),o.forEach(e.edges(),(function(n){var i=e.edge(n);o.forEach(i.points,(function(e){e.x-=t,e.y-=r})),o.has(i,"x")&&(i.x-=t),o.has(i,"y")&&(i.y-=r)})),a.width=n-t+s,a.height=i-r+c}(e)})),t("    assignNodeIntersects",(function(){!function(e){o.forEach(e.edges(),(function(t){var n,o,r=e.edge(t),i=e.node(t.v),a=e.node(t.w);r.points?(n=r.points[0],o=r.points[r.points.length-1]):(r.points=[],n=a,o=i),r.points.unshift(g.intersectRect(i,n)),r.points.push(g.intersectRect(a,o))}))}(e)})),t("    reversePoints",(function(){!function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){r.undo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){o.forEach(e.nodes(),(function(n){var o=e.node(n),r=t.node(n);o&&(o.x=r.x,o.y=r.y,t.children(n).length&&(o.width=r.width,o.height=r.height))})),o.forEach(e.edges(),(function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,o.has(i,"x")&&(r.x=i.x,r.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))};var m=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],w=["width","height"],x={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],S={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},_=["labelpos"];function C(e,t){return o.mapValues(o.pick(e,t),Number)}function N(e){var t={};return o.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}},78208:(e,t,n)=>{var o;try{o={cloneDeep:n(56434),constant:n(22541),defaults:n(31163),each:n(62580),filter:n(50723),find:n(98990),flatten:n(20819),forEach:n(55491),forIn:n(77717),has:n(62117),isUndefined:n(141),last:n(74065),map:n(33411),mapValues:n(91733),max:n(50539),merge:n(34677),min:n(76745),minBy:n(59364),now:n(4757),pick:n(22616),range:n(96604),reduce:n(12759),sortBy:n(87424),uniqueId:n(80111),values:n(26727),zipObject:n(78129)}}catch(r){}o||(o=window._),e.exports=o},35146:(e,t,n)=>{var o=n(78208),r=n(65641);function i(e,t,n,a,s,c,l){var u=e.children(l);if(u.length){var d=r.addBorderNode(e,"_bt"),f=r.addBorderNode(e,"_bb"),h=e.node(l);e.setParent(d,l),h.borderTop=d,e.setParent(f,l),h.borderBottom=f,o.forEach(u,(function(o){i(e,t,n,a,s,c,o);var r=e.node(o),u=r.borderTop?r.borderTop:o,h=r.borderBottom?r.borderBottom:o,p=r.borderTop?a:2*a,g=u!==h?1:s-c[l]+1;e.setEdge(d,u,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(h,f,{weight:p,minlen:g,nestingEdge:!0})})),e.parent(l)||e.setEdge(t,d,{weight:0,minlen:s+c[l]})}else l!==t&&e.setEdge(t,l,{weight:0,minlen:n})}e.exports={run:function(e){var t=r.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,i){var a=e.children(r);a&&a.length&&o.forEach(a,(function(e){n(e,i+1)})),t[r]=i}return o.forEach(e.children(),(function(e){n(e,1)})),t}(e),a=o.max(o.values(n))-1,s=2*a+1;e.graph().nestingRoot=t,o.forEach(e.edges(),(function(t){e.edge(t).minlen*=s}));var c=function(e){return o.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;o.forEach(e.children(),(function(o){i(e,t,s,c,a,n,o)})),e.graph().nodeRankFactor=s},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,o.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},22786:(e,t,n)=>{"use strict";var o=n(78208),r=n(65641);e.exports={run:function(e){e.graph().dummyChains=[],o.forEach(e.edges(),(function(t){!function(e,t){var n,o,i,a=t.v,s=e.node(a).rank,c=t.w,l=e.node(c).rank,u=t.name,d=e.edge(t),f=d.labelRank;if(l===s+1)return;for(e.removeEdge(t),i=0,++s;s<l;++i,++s)d.points=[],o={width:0,height:0,edgeLabel:d,edgeObj:t,rank:s},n=r.addDummyNode(e,"edge",o,"_d"),s===f&&(o.width=d.width,o.height=d.height,o.dummy="edge-label",o.labelpos=d.labelpos),e.setEdge(a,n,{weight:d.weight},u),0===i&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,c,{weight:d.weight},u)}(e,t)}))},undo:function(e){o.forEach(e.graph().dummyChains,(function(t){var n,o=e.node(t),r=o.edgeLabel;for(e.setEdge(o.edgeObj,r);o.dummy;)n=e.successors(t)[0],e.removeNode(t),r.points.push({x:o.x,y:o.y}),"edge-label"===o.dummy&&(r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height),t=n,o=e.node(t)}))}}},8381:(e,t,n)=>{var o=n(78208);e.exports=function(e,t,n){var r,i={};o.forEach(n,(function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}}))}},46297:(e,t,n)=>{var o=n(78208);e.exports=function(e,t){return o.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=o.reduce(n,(function(t,n){var o=e.edge(n),r=e.node(n.v);return{sum:t.sum+o.weight*r.order,weight:t.weight+o.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))}},81987:(e,t,n)=>{var o=n(78208),r=n(17938).Graph;e.exports=function(e,t,n){var i=function(e){var t;for(;e.hasNode(t=o.uniqueId("_root")););return t}(e),a=new r({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(t){return e.node(t)}));return o.forEach(e.nodes(),(function(r){var s=e.node(r),c=e.parent(r);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(r),a.setParent(r,c||i),o.forEach(e[n](r),(function(t){var n=t.v===r?t.w:t.v,i=a.edge(n,r),s=o.isUndefined(i)?0:i.weight;a.setEdge(n,r,{weight:e.edge(t).weight+s})})),o.has(s,"minRank")&&a.setNode(r,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))})),a}},74308:(e,t,n)=>{"use strict";var o=n(78208);function r(e,t,n){for(var r=o.zipObject(n,o.map(n,(function(e,t){return t}))),i=o.flatten(o.map(t,(function(t){return o.sortBy(o.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var c=o.map(new Array(s),(function(){return 0})),l=0;return o.forEach(i.forEach((function(e){var t=e.pos+a;c[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=c[t+1]),c[t=t-1>>1]+=e.weight;l+=e.weight*n}))),l}e.exports=function(e,t){for(var n=0,o=1;o<t.length;++o)n+=r(e,t[o-1],t[o]);return n}},550:(e,t,n)=>{"use strict";var o=n(78208),r=n(5819),i=n(74308),a=n(49791),s=n(81987),c=n(8381),l=n(17938).Graph,u=n(65641);function d(e,t,n){return o.map(t,(function(t){return s(e,t,n)}))}function f(e,t){var n=new l;o.forEach(e,(function(e){var r=e.graph().root,i=a(e,r,n,t);o.forEach(i.vs,(function(t,n){e.node(t).order=n})),c(e,n,i.vs)}))}function h(e,t){o.forEach(t,(function(t){o.forEach(t,(function(t,n){e.node(t).order=n}))}))}e.exports=function(e){var t=u.maxRank(e),n=d(e,o.range(1,t+1),"inEdges"),a=d(e,o.range(t-1,-1,-1),"outEdges"),s=r(e);h(e,s);for(var c,l=Number.POSITIVE_INFINITY,p=0,g=0;g<4;++p,++g){f(p%2?n:a,p%4>=2),s=u.buildLayerMatrix(e);var v=i(e,s);v<l&&(g=0,c=o.cloneDeep(s),l=v)}h(e,c)}},5819:(e,t,n)=>{"use strict";var o=n(78208);e.exports=function(e){var t={},n=o.filter(e.nodes(),(function(t){return!e.children(t).length})),r=o.max(o.map(n,(function(t){return e.node(t).rank}))),i=o.map(o.range(r+1),(function(){return[]}));var a=o.sortBy(n,(function(t){return e.node(t).rank}));return o.forEach(a,(function n(r){if(o.has(t,r))return;t[r]=!0;var a=e.node(r);i[a.rank].push(r),o.forEach(e.successors(r),n)})),i}},68396:(e,t,n)=>{"use strict";var o=n(78208);e.exports=function(e,t){var n={};return o.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};o.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),o.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];o.isUndefined(t)||o.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(o.isUndefined(t.barycenter)||o.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,o=0;e.weight&&(n+=e.barycenter*e.weight,o+=e.weight);t.weight&&(n+=t.barycenter*t.weight,o+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/o,e.weight=o,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0===--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),o.forEach(i.in.reverse(),n(i)),o.forEach(i.out,r(i))}return o.map(o.filter(t,(function(e){return!e.merged})),(function(e){return o.pick(e,["vs","i","barycenter","weight"])}))}(o.filter(n,(function(e){return!e.indegree})))}},49791:(e,t,n)=>{var o=n(78208),r=n(46297),i=n(68396),a=n(50388);e.exports=function e(t,n,s,c){var l=t.children(n),u=t.node(n),d=u?u.borderLeft:void 0,f=u?u.borderRight:void 0,h={};d&&(l=o.filter(l,(function(e){return e!==d&&e!==f})));var p=r(t,l);o.forEach(p,(function(n){if(t.children(n.v).length){var r=e(t,n.v,s,c);h[n.v]=r,o.has(r,"barycenter")&&(i=n,a=r,o.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var g=i(p,s);!function(e,t){o.forEach(e,(function(e){e.vs=o.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(g,h);var v=a(g,c);if(d&&(v.vs=o.flatten([d,v.vs,f],!0),t.predecessors(d).length)){var m=t.node(t.predecessors(d)[0]),y=t.node(t.predecessors(f)[0]);o.has(v,"barycenter")||(v.barycenter=0,v.weight=0),v.barycenter=(v.barycenter*v.weight+m.order+y.order)/(v.weight+2),v.weight+=2}return v}},50388:(e,t,n)=>{var o=n(78208),r=n(65641);function i(e,t,n){for(var r;t.length&&(r=o.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}e.exports=function(e,t){var n=r.partition(e,(function(e){return o.has(e,"barycenter")})),a=n.lhs,s=o.sortBy(n.rhs,(function(e){return-e.i})),c=[],l=0,u=0,d=0;a.sort((f=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:f?t.i-e.i:e.i-t.i})),d=i(c,s,d),o.forEach(a,(function(e){d+=e.vs.length,c.push(e.vs),l+=e.barycenter*e.weight,u+=e.weight,d=i(c,s,d)}));var f;var h={vs:o.flatten(c,!0)};u&&(h.barycenter=l/u,h.weight=u);return h}},76467:(e,t,n)=>{var o=n(78208);e.exports=function(e){var t=function(e){var t={},n=0;function r(i){var a=n;o.forEach(e.children(i),r),t[i]={low:a,lim:n++}}return o.forEach(e.children(),r),t}(e);o.forEach(e.graph().dummyChains,(function(n){for(var o=e.node(n),r=o.edgeObj,i=function(e,t,n,o){var r,i,a=[],s=[],c=Math.min(t[n].low,t[o].low),l=Math.max(t[n].lim,t[o].lim);r=n;do{r=e.parent(r),a.push(r)}while(r&&(t[r].low>c||l>t[r].lim));i=r,r=o;for(;(r=e.parent(r))!==i;)s.push(r);return{path:a.concat(s.reverse()),lca:i}}(e,t,r.v,r.w),a=i.path,s=i.lca,c=0,l=a[c],u=!0;n!==r.w;){if(o=e.node(n),u){for(;(l=a[c])!==s&&e.node(l).maxRank<o.rank;)c++;l===s&&(u=!1)}if(!u){for(;c<a.length-1&&e.node(l=a[c+1]).minRank<=o.rank;)c++;l=a[c]}e.setParent(n,l),n=e.successors(n)[0]}}))}},39558:(e,t,n)=>{"use strict";var o=n(78208),r=n(17938).Graph,i=n(65641);function a(e,t){var n={};return o.reduce(t,(function(t,r){var i=0,a=0,s=t.length,l=o.last(r);return o.forEach(r,(function(t,u){var d=function(e,t){if(e.node(t).dummy)return o.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),f=d?e.node(d).order:s;(d||t===l)&&(o.forEach(r.slice(a,u+1),(function(t){o.forEach(e.predecessors(t),(function(o){var r=e.node(o),a=r.order;!(a<i||f<a)||r.dummy&&e.node(t).dummy||c(n,o,t)}))})),a=u+1,i=f)})),r})),n}function s(e,t){var n={};function r(t,r,i,a,s){var l;o.forEach(o.range(r,i),(function(r){l=t[r],e.node(l).dummy&&o.forEach(e.predecessors(l),(function(t){var o=e.node(t);o.dummy&&(o.order<a||o.order>s)&&c(n,t,l)}))}))}return o.reduce(t,(function(t,n){var i,a=-1,s=0;return o.forEach(n,(function(o,c){if("border"===e.node(o).dummy){var l=e.predecessors(o);l.length&&(i=e.node(l[0]).order,r(n,s,c,a,i),s=c,a=i)}r(n,s,n.length,i,t.length)})),n})),n}function c(e,t,n){if(t>n){var o=t;t=n,n=o}var r=e[t];r||(e[t]=r={}),r[n]=!0}function l(e,t,n){if(t>n){var r=t;t=n,n=r}return o.has(e[t],n)}function u(e,t,n,r){var i={},a={},s={};return o.forEach(t,(function(e){o.forEach(e,(function(e,t){i[e]=e,a[e]=e,s[e]=t}))})),o.forEach(t,(function(e){var t=-1;o.forEach(e,(function(e){var c=r(e);if(c.length){c=o.sortBy(c,(function(e){return s[e]}));for(var u=(c.length-1)/2,d=Math.floor(u),f=Math.ceil(u);d<=f;++d){var h=c[d];a[e]===e&&t<s[h]&&!l(n,e,h)&&(a[h]=e,a[e]=i[e]=i[h],t=s[h])}}}))})),{root:i,align:a}}function d(e,t,n,i,a){var s={},c=function(e,t,n,i){var a=new r,s=e.graph(),c=function(e,t,n){return function(r,i,a){var s,c=r.node(i),l=r.node(a),u=0;if(u+=c.width/2,o.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=-c.width/2;break;case"r":s=c.width/2}if(s&&(u+=n?s:-s),s=0,u+=(c.dummy?t:e)/2,u+=(l.dummy?t:e)/2,u+=l.width/2,o.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=l.width/2;break;case"r":s=-l.width/2}return s&&(u+=n?s:-s),s=0,u}}(s.nodesep,s.edgesep,i);return o.forEach(t,(function(t){var r;o.forEach(t,(function(t){var o=n[t];if(a.setNode(o),r){var i=n[r],s=a.edge(i,o);a.setEdge(i,o,Math.max(c(e,t,r),s||0))}r=t}))})),a}(e,t,n,a),l=a?"borderLeft":"borderRight";function u(e,t){for(var n=c.nodes(),o=n.pop(),r={};o;)r[o]?e(o):(r[o]=!0,n.push(o),n=n.concat(t(o))),o=n.pop()}return u((function(e){s[e]=c.inEdges(e).reduce((function(e,t){return Math.max(e,s[t.v]+c.edge(t))}),0)}),c.predecessors.bind(c)),u((function(t){var n=c.outEdges(t).reduce((function(e,t){return Math.min(e,s[t.w]-c.edge(t))}),Number.POSITIVE_INFINITY),o=e.node(t);n!==Number.POSITIVE_INFINITY&&o.borderType!==l&&(s[t]=Math.max(s[t],n))}),c.successors.bind(c)),o.forEach(i,(function(e){s[e]=s[n[e]]})),s}function f(e,t){return o.minBy(o.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return o.forIn(t,(function(t,o){var i=function(e,t){return e.node(t).width}(e,o)/2;n=Math.max(t+i,n),r=Math.min(t-i,r)})),n-r}))}function h(e,t){var n=o.values(t),r=o.min(n),i=o.max(n);o.forEach(["u","d"],(function(n){o.forEach(["l","r"],(function(a){var s,c=n+a,l=e[c];if(l!==t){var u=o.values(l);(s="l"===a?r-o.min(u):i-o.max(u))&&(e[c]=o.mapValues(l,(function(e){return e+s})))}}))}))}function p(e,t){return o.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var i=o.sortBy(o.map(e,r));return(i[1]+i[2])/2}))}e.exports={positionX:function(e){var t,n=i.buildLayerMatrix(e),r=o.merge(a(e,n),s(e,n)),c={};o.forEach(["u","d"],(function(i){t="u"===i?n:o.values(n).reverse(),o.forEach(["l","r"],(function(n){"r"===n&&(t=o.map(t,(function(e){return o.values(e).reverse()})));var a=("u"===i?e.predecessors:e.successors).bind(e),s=u(e,t,r,a),l=d(e,t,s.root,s.align,"r"===n);"r"===n&&(l=o.mapValues(l,(function(e){return-e}))),c[i+n]=l}))}));var l=f(e,c);return h(c,l),p(c,e.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:c,hasConflict:l,verticalAlignment:u,horizontalCompaction:d,alignCoordinates:h,findSmallestWidthAlignment:f,balance:p}},81277:(e,t,n)=>{"use strict";var o=n(78208),r=n(65641),i=n(39558).positionX;e.exports=function(e){(function(e){var t=r.buildLayerMatrix(e),n=e.graph().ranksep,i=0;o.forEach(t,(function(t){var r=o.max(o.map(t,(function(t){return e.node(t).height})));o.forEach(t,(function(t){e.node(t).y=i+r/2})),i+=r+n}))})(e=r.asNonCompoundGraph(e)),o.forEach(i(e),(function(t,n){e.node(n).x=t}))}},23088:(e,t,n)=>{"use strict";var o=n(78208),r=n(17938).Graph,i=n(55758).slack;function a(e,t){return o.forEach(e.nodes(),(function n(r){o.forEach(t.nodeEdges(r),(function(o){var a=o.v,s=r===a?o.w:a;e.hasNode(s)||i(t,o)||(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))}))})),e.nodeCount()}function s(e,t){return o.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return i(t,n)}))}function c(e,t,n){o.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}e.exports=function(e){var t,n,o=new r({directed:!1}),l=e.nodes()[0],u=e.nodeCount();o.setNode(l,{});for(;a(o,e)<u;)t=s(o,e),n=o.hasNode(t.v)?i(e,t):-i(e,t),c(o,e,n);return o}},12460:(e,t,n)=>{"use strict";var o=n(55758).longestPath,r=n(23088),i=n(24501);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:s(e);break;case"tight-tree":!function(e){o(e),r(e)}(e);break;case"longest-path":a(e)}};var a=o;function s(e){i(e)}},24501:(e,t,n)=>{"use strict";var o=n(78208),r=n(23088),i=n(55758).slack,a=n(55758).longestPath,s=n(17938).alg.preorder,c=n(17938).alg.postorder,l=n(65641).simplify;function u(e){e=l(e),a(e);var t,n=r(e);for(h(n),d(n,e);t=g(n);)m(n,e,t,v(n,e,t))}function d(e,t){var n=c(e,e.nodes());n=n.slice(0,n.length-1),o.forEach(n,(function(n){!function(e,t,n){var o=e.node(n),r=o.parent;e.edge(n,r).cutvalue=f(e,t,n)}(e,t,n)}))}function f(e,t,n){var r=e.node(n).parent,i=!0,a=t.edge(n,r),s=0;return a||(i=!1,a=t.edge(r,n)),s=a.weight,o.forEach(t.nodeEdges(n),(function(o){var a,c,l=o.v===n,u=l?o.w:o.v;if(u!==r){var d=l===i,f=t.edge(o).weight;if(s+=d?f:-f,a=n,c=u,e.hasEdge(a,c)){var h=e.edge(n,u).cutvalue;s+=d?-h:h}}})),s}function h(e,t){arguments.length<2&&(t=e.nodes()[0]),p(e,{},1,t)}function p(e,t,n,r,i){var a=n,s=e.node(r);return t[r]=!0,o.forEach(e.neighbors(r),(function(i){o.has(t,i)||(n=p(e,t,n,i,r))})),s.low=a,s.lim=n++,i?s.parent=i:delete s.parent,n}function g(e){return o.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function v(e,t,n){var r=n.v,a=n.w;t.hasEdge(r,a)||(r=n.w,a=n.v);var s=e.node(r),c=e.node(a),l=s,u=!1;s.lim>c.lim&&(l=c,u=!0);var d=o.filter(t.edges(),(function(t){return u===y(e,e.node(t.v),l)&&u!==y(e,e.node(t.w),l)}));return o.minBy(d,(function(e){return i(t,e)}))}function m(e,t,n,r){var i=n.v,a=n.w;e.removeEdge(i,a),e.setEdge(r.v,r.w,{}),h(e),d(e,t),function(e,t){var n=o.find(e.nodes(),(function(e){return!t.node(e).parent})),r=s(e,n);r=r.slice(1),o.forEach(r,(function(n){var o=e.node(n).parent,r=t.edge(n,o),i=!1;r||(r=t.edge(o,n),i=!0),t.node(n).rank=t.node(o).rank+(i?r.minlen:-r.minlen)}))}(e,t)}function y(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=u,u.initLowLimValues=h,u.initCutValues=d,u.calcCutValue=f,u.leaveEdge=g,u.enterEdge=v,u.exchangeEdges=m},55758:(e,t,n)=>{"use strict";var o=n(78208);e.exports={longestPath:function(e){var t={};o.forEach(e.sources(),(function n(r){var i=e.node(r);if(o.has(t,r))return i.rank;t[r]=!0;var a=o.min(o.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0),i.rank=a}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},65641:(e,t,n)=>{"use strict";var o=n(78208),r=n(17938).Graph;function i(e,t,n,r){var i;do{i=o.uniqueId(r)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function a(e){return o.max(o.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!o.isUndefined(n))return n})))}e.exports={addDummyNode:i,simplify:function(e){var t=(new r).setGraph(e.graph());return o.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),o.forEach(e.edges(),(function(n){var o=t.edge(n.v,n.w)||{weight:0,minlen:1},r=e.edge(n);t.setEdge(n.v,n.w,{weight:o.weight+r.weight,minlen:Math.max(o.minlen,r.minlen)})})),t},asNonCompoundGraph:function(e){var t=new r({multigraph:e.isMultigraph()}).setGraph(e.graph());return o.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),o.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=o.map(e.nodes(),(function(t){var n={};return o.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return o.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=o.map(e.nodes(),(function(t){var n={};return o.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return o.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,o,r=e.x,i=e.y,a=t.x-r,s=t.y-i,c=e.width/2,l=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*c>Math.abs(a)*l?(s<0&&(l=-l),n=l*a/s,o=l):(a<0&&(c=-c),n=c,o=c*s/a);return{x:r+n,y:i+o}},buildLayerMatrix:function(e){var t=o.map(o.range(a(e)+1),(function(){return[]}));return o.forEach(e.nodes(),(function(n){var r=e.node(n),i=r.rank;o.isUndefined(i)||(t[i][r.order]=n)})),t},normalizeRanks:function(e){var t=o.min(o.map(e.nodes(),(function(t){return e.node(t).rank})));o.forEach(e.nodes(),(function(n){var r=e.node(n);o.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=o.min(o.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];o.forEach(e.nodes(),(function(o){var r=e.node(o).rank-t;n[r]||(n[r]=[]),n[r].push(o)}));var r=0,i=e.graph().nodeRankFactor;o.forEach(n,(function(t,n){o.isUndefined(t)&&n%i!==0?--r:r&&o.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,o){var r={width:0,height:0};arguments.length>=4&&(r.rank=n,r.order=o);return i(e,"border",r,t)},maxRank:a,partition:function(e,t){var n={lhs:[],rhs:[]};return o.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=o.now();try{return t()}finally{console.log(e+" time: "+(o.now()-n)+"ms")}},notime:function(e,t){return t()}}},45185:e=>{e.exports="0.8.5"},79207:(e,t,n)=>{var o=n(99383);e.exports={Graph:o.Graph,json:n(51097),alg:n(28582),version:o.version}},35992:(e,t,n)=>{var o=n(95750);e.exports=function(e){var t,n={},r=[];function i(r){o.has(n,r)||(n[r]=!0,t.push(r),o.each(e.successors(r),i),o.each(e.predecessors(r),i))}return o.each(e.nodes(),(function(e){t=[],i(e),t.length&&r.push(t)})),r}},2125:(e,t,n)=>{var o=n(95750);function r(e,t,n,i,a,s){o.has(i,t)||(i[t]=!0,n||s.push(t),o.each(a(t),(function(t){r(e,t,n,i,a,s)})),n&&s.push(t))}e.exports=function(e,t,n){o.isArray(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return o.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);r(e,t,"post"===n,s,i,a)})),a}},78976:(e,t,n)=>{var o=n(75822),r=n(95750);e.exports=function(e,t,n){return r.transform(e.nodes(),(function(r,i){r[i]=o(e,i,t,n)}),{})}},75822:(e,t,n)=>{var o=n(95750),r=n(34428);e.exports=function(e,t,n,o){return function(e,t,n,o){var i,a,s={},c=new r,l=function(e){var t=e.v!==i?e.v:e.w,o=s[t],r=n(e),l=a.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+r);l<o.distance&&(o.distance=l,o.predecessor=i,c.decrease(t,l))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},c.add(e,n)}));for(;c.size()>0&&(i=c.removeMin(),(a=s[i]).distance!==Number.POSITIVE_INFINITY);)o(i).forEach(l);return s}(e,String(t),n||i,o||function(t){return e.outEdges(t)})};var i=o.constant(1)},30247:(e,t,n)=>{var o=n(95750),r=n(18808);e.exports=function(e){return o.filter(r(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},26945:(e,t,n)=>{var o=n(95750);e.exports=function(e,t,n){return function(e,t,n){var o={},r=e.nodes();return r.forEach((function(e){o[e]={},o[e][e]={distance:0},r.forEach((function(t){e!==t&&(o[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var r=n.v===e?n.w:n.v,i=t(n);o[e][r]={distance:i,predecessor:e}}))})),r.forEach((function(e){var t=o[e];r.forEach((function(n){var i=o[n];r.forEach((function(n){var o=i[e],r=t[n],a=i[n],s=o.distance+r.distance;s<a.distance&&(a.distance=s,a.predecessor=r.predecessor)}))}))})),o}(e,t||r,n||function(t){return e.outEdges(t)})};var r=o.constant(1)},28582:(e,t,n)=>{e.exports={components:n(35992),dijkstra:n(75822),dijkstraAll:n(78976),findCycles:n(30247),floydWarshall:n(26945),isAcyclic:n(49825),postorder:n(51896),preorder:n(30127),prim:n(86368),tarjan:n(18808),topsort:n(38353)}},49825:(e,t,n)=>{var o=n(38353);e.exports=function(e){try{o(e)}catch(t){if(t instanceof o.CycleException)return!1;throw t}return!0}},51896:(e,t,n)=>{var o=n(2125);e.exports=function(e,t){return o(e,t,"post")}},30127:(e,t,n)=>{var o=n(2125);e.exports=function(e,t){return o(e,t,"pre")}},86368:(e,t,n)=>{var o=n(95750),r=n(20191),i=n(34428);e.exports=function(e,t){var n,a=new r,s={},c=new i;function l(e){var o=e.v===n?e.w:e.v,r=c.priority(o);if(void 0!==r){var i=t(e);i<r&&(s[o]=n,c.decrease(o,i))}}if(0===e.nodeCount())return a;o.each(e.nodes(),(function(e){c.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),c.decrease(e.nodes()[0],0);var u=!1;for(;c.size()>0;){if(n=c.removeMin(),o.has(s,n))a.setEdge(n,s[n]);else{if(u)throw new Error("Input graph is not connected: "+e);u=!0}e.nodeEdges(n).forEach(l)}return a}},18808:(e,t,n)=>{var o=n(95750);e.exports=function(e){var t=0,n=[],r={},i=[];function a(s){var c=r[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){o.has(r,e)?r[e].onStack&&(c.lowlink=Math.min(c.lowlink,r[e].index)):(a(e),c.lowlink=Math.min(c.lowlink,r[e].lowlink))})),c.lowlink===c.index){var l,u=[];do{l=n.pop(),r[l].onStack=!1,u.push(l)}while(s!==l);i.push(u)}}return e.nodes().forEach((function(e){o.has(r,e)||a(e)})),i}},38353:(e,t,n)=>{var o=n(95750);function r(e){var t={},n={},r=[];if(o.each(e.sinks(),(function a(s){if(o.has(n,s))throw new i;o.has(t,s)||(n[s]=!0,t[s]=!0,o.each(e.predecessors(s),a),delete n[s],r.push(s))})),o.size(t)!==e.nodeCount())throw new i;return r}function i(){}e.exports=r,r.CycleException=i,i.prototype=new Error},34428:(e,t,n)=>{var o=n(95750);function r(){this._arr=[],this._keyIndices={}}e.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},r.prototype.has=function(e){return o.has(this._keyIndices,e)},r.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!o.has(n,e)){var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},r.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},r.prototype._heapify=function(e){var t=this._arr,n=2*e,o=n+1,r=e;n<t.length&&(r=t[n].priority<t[r].priority?n:r,o<t.length&&(r=t[o].priority<t[r].priority?o:r),r!==e&&(this._swap(e,r),this._heapify(r)))},r.prototype._decrease=function(e){for(var t,n=this._arr,o=n[e].priority;0!==e&&!(n[t=e>>1].priority<o);)this._swap(e,t),e=t},r.prototype._swap=function(e,t){var n=this._arr,o=this._keyIndices,r=n[e],i=n[t];n[e]=i,n[t]=r,o[i.key]=e,o[r.key]=t}},20191:(e,t,n)=>{"use strict";var o=n(95750);e.exports=s;var r="\0",i="\0",a="\x01";function s(e){this._isDirected=!o.has(e,"directed")||e.directed,this._isMultigraph=!!o.has(e,"multigraph")&&e.multigraph,this._isCompound=!!o.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[i]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function c(e,t){e[t]?e[t]++:e[t]=1}function l(e,t){--e[t]||delete e[t]}function u(e,t,n,i){var s=""+t,c=""+n;if(!e&&s>c){var l=s;s=c,c=l}return s+a+c+a+(o.isUndefined(i)?r:i)}function d(e,t){return u(e,t.v,t.w,t.name)}s.prototype._nodeCount=0,s.prototype._edgeCount=0,s.prototype.isDirected=function(){return this._isDirected},s.prototype.isMultigraph=function(){return this._isMultigraph},s.prototype.isCompound=function(){return this._isCompound},s.prototype.setGraph=function(e){return this._label=e,this},s.prototype.graph=function(){return this._label},s.prototype.setDefaultNodeLabel=function(e){return o.isFunction(e)||(e=o.constant(e)),this._defaultNodeLabelFn=e,this},s.prototype.nodeCount=function(){return this._nodeCount},s.prototype.nodes=function(){return o.keys(this._nodes)},s.prototype.sources=function(){var e=this;return o.filter(this.nodes(),(function(t){return o.isEmpty(e._in[t])}))},s.prototype.sinks=function(){var e=this;return o.filter(this.nodes(),(function(t){return o.isEmpty(e._out[t])}))},s.prototype.setNodes=function(e,t){var n=arguments,r=this;return o.each(e,(function(e){n.length>1?r.setNode(e,t):r.setNode(e)})),this},s.prototype.setNode=function(e,t){return o.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=i,this._children[e]={},this._children[i][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},s.prototype.node=function(e){return this._nodes[e]},s.prototype.hasNode=function(e){return o.has(this._nodes,e)},s.prototype.removeNode=function(e){var t=this;if(o.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],o.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),o.each(o.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],o.each(o.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},s.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(o.isUndefined(t))t=i;else{for(var n=t+="";!o.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},s.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},s.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==i)return t}},s.prototype.children=function(e){if(o.isUndefined(e)&&(e=i),this._isCompound){var t=this._children[e];if(t)return o.keys(t)}else{if(e===i)return this.nodes();if(this.hasNode(e))return[]}},s.prototype.predecessors=function(e){var t=this._preds[e];if(t)return o.keys(t)},s.prototype.successors=function(e){var t=this._sucs[e];if(t)return o.keys(t)},s.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return o.union(t,this.successors(e))},s.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},s.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;o.each(this._nodes,(function(n,o){e(o)&&t.setNode(o,n)})),o.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};function i(e){var o=n.parent(e);return void 0===o||t.hasNode(o)?(r[e]=o,o):o in r?r[o]:i(o)}return this._isCompound&&o.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},s.prototype.setDefaultEdgeLabel=function(e){return o.isFunction(e)||(e=o.constant(e)),this._defaultEdgeLabelFn=e,this},s.prototype.edgeCount=function(){return this._edgeCount},s.prototype.edges=function(){return o.values(this._edgeObjs)},s.prototype.setPath=function(e,t){var n=this,r=arguments;return o.reduce(e,(function(e,o){return r.length>1?n.setEdge(e,o,t):n.setEdge(e,o),o})),this},s.prototype.setEdge=function(){var e,t,n,r,i=!1,a=arguments[0];"object"===typeof a&&null!==a&&"v"in a?(e=a.v,t=a.w,n=a.name,2===arguments.length&&(r=arguments[1],i=!0)):(e=a,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=""+e,t=""+t,o.isUndefined(n)||(n=""+n);var s=u(this._isDirected,e,t,n);if(o.has(this._edgeLabels,s))return i&&(this._edgeLabels[s]=r),this;if(!o.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[s]=i?r:this._defaultEdgeLabelFn(e,t,n);var l=function(e,t,n,o){var r=""+t,i=""+n;if(!e&&r>i){var a=r;r=i,i=a}var s={v:r,w:i};o&&(s.name=o);return s}(this._isDirected,e,t,n);return e=l.v,t=l.w,Object.freeze(l),this._edgeObjs[s]=l,c(this._preds[t],e),c(this._sucs[e],t),this._in[t][s]=l,this._out[e][s]=l,this._edgeCount++,this},s.prototype.edge=function(e,t,n){var o=1===arguments.length?d(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return this._edgeLabels[o]},s.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?d(this._isDirected,arguments[0]):u(this._isDirected,e,t,n);return o.has(this._edgeLabels,r)},s.prototype.removeEdge=function(e,t,n){var o=1===arguments.length?d(this._isDirected,arguments[0]):u(this._isDirected,e,t,n),r=this._edgeObjs[o];return r&&(e=r.v,t=r.w,delete this._edgeLabels[o],delete this._edgeObjs[o],l(this._preds[t],e),l(this._sucs[e],t),delete this._in[t][o],delete this._out[e][o],this._edgeCount--),this},s.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=o.values(n);return t?o.filter(r,(function(e){return e.v===t})):r}},s.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=o.values(n);return t?o.filter(r,(function(e){return e.w===t})):r}},s.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},99383:(e,t,n)=>{e.exports={Graph:n(20191),version:n(78311)}},51097:(e,t,n)=>{var o=n(95750),r=n(20191);function i(e){return o.map(e.nodes(),(function(t){var n=e.node(t),r=e.parent(t),i={v:t};return o.isUndefined(n)||(i.value=n),o.isUndefined(r)||(i.parent=r),i}))}function a(e){return o.map(e.edges(),(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return o.isUndefined(t.name)||(r.name=t.name),o.isUndefined(n)||(r.value=n),r}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:i(e),edges:a(e)};o.isUndefined(e.graph())||(t.value=o.clone(e.graph()));return t},read:function(e){var t=new r(e.options).setGraph(e.value);return o.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),o.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},95750:(e,t,n)=>{var o;try{o={clone:n(41740),constant:n(22541),each:n(62580),filter:n(50723),has:n(62117),isArray:n(54052),isEmpty:n(54320),isFunction:n(11629),isUndefined:n(141),keys:n(28673),map:n(33411),reduce:n(12759),size:n(35640),transform:n(22717),union:n(30450),values:n(26727)}}catch(r){}o||(o=window._),e.exports=o},78311:e=>{e.exports="2.1.8"},80726:e=>{e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}},99421:e=>{e.exports=function(e,t,n,o){var r=-1,i=null==e?0:e.length;for(o&&i&&(n=e[++r]);++r<i;)n=t(n,e[r],r,e);return n}},34724:(e,t,n)=>{var o=n(10396)("length");e.exports=o},63868:(e,t,n)=>{var o=n(71775),r=n(93211);e.exports=function(e,t,n){(void 0!==n&&!r(e[t],n)||void 0===n&&!(t in e))&&o(e,t,n)}},78420:(e,t,n)=>{var o=n(71775),r=n(93211),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&r(a,n)&&(void 0!==n||t in e)||o(e,t,n)}},51104:(e,t,n)=>{var o=n(96614),r=n(28673);e.exports=function(e,t){return e&&o(t,r(t),e)}},55119:(e,t,n)=>{var o=n(96614),r=n(30474);e.exports=function(e,t){return e&&o(t,r(t),e)}},97132:(e,t,n)=>{var o=n(5538),r=n(80726),i=n(78420),a=n(51104),s=n(55119),c=n(44353),l=n(91980),u=n(98124),d=n(29075),f=n(59395),h=n(68592),p=n(26924),g=n(38268),v=n(18630),m=n(20310),y=n(54052),b=n(44543),w=n(57887),x=n(46686),E=n(45921),S=n(28673),_=n(30474),C="[object Arguments]",N="[object Function]",M="[object Object]",k={};k[C]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[M]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[N]=k["[object WeakMap]"]=!1,e.exports=function e(t,n,A,I,O,P){var R,z=1&n,D=2&n,T=4&n;if(A&&(R=O?A(t,I,O,P):A(t)),void 0!==R)return R;if(!x(t))return t;var B=y(t);if(B){if(R=g(t),!z)return l(t,R)}else{var L=p(t),j=L==N||"[object GeneratorFunction]"==L;if(b(t))return c(t,z);if(L==M||L==C||j&&!O){if(R=D||j?{}:m(t),!z)return D?d(t,s(R,t)):u(t,a(R,t))}else{if(!k[L])return O?t:{};R=v(t,L,z)}}P||(P=new o);var V=P.get(t);if(V)return V;P.set(t,R),E(t)?t.forEach((function(o){R.add(e(o,n,A,o,t,P))})):w(t)&&t.forEach((function(o,r){R.set(r,e(o,n,A,r,t,P))}));var X=B?void 0:(T?D?h:f:D?_:S)(t);return r(X||t,(function(o,r){X&&(o=t[r=o]),i(R,r,e(o,n,A,r,t,P))})),R}},21817:(e,t,n)=>{var o=n(46686),r=Object.create,i=function(){function e(){}return function(t){if(!o(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},87171:(e,t,n)=>{var o=n(45652);e.exports=function(e,t){var n=[];return o(e,(function(e,o,r){t(e,o,r)&&n.push(e)})),n}},36741:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},5791:(e,t,n)=>{var o=n(26924),r=n(22761);e.exports=function(e){return r(e)&&"[object Map]"==o(e)}},20449:(e,t,n)=>{var o=n(26924),r=n(22761);e.exports=function(e){return r(e)&&"[object Set]"==o(e)}},58122:(e,t,n)=>{var o=n(46686),r=n(36140),i=n(43516),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return i(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},23253:(e,t,n)=>{var o=n(5538),r=n(63868),i=n(94258),a=n(83223),s=n(46686),c=n(30474),l=n(53737);e.exports=function e(t,n,u,d,f){t!==n&&i(n,(function(i,c){if(f||(f=new o),s(i))a(t,n,c,u,e,d,f);else{var h=d?d(l(t,c),i,c+"",t,n,f):void 0;void 0===h&&(h=i),r(t,c,h)}}),c)}},83223:(e,t,n)=>{var o=n(63868),r=n(44353),i=n(38710),a=n(91980),s=n(20310),c=n(22777),l=n(54052),u=n(76272),d=n(44543),f=n(11629),h=n(46686),p=n(12322),g=n(51268),v=n(53737),m=n(91609);e.exports=function(e,t,n,y,b,w,x){var E=v(e,n),S=v(t,n),_=x.get(S);if(_)o(e,n,_);else{var C=w?w(E,S,n+"",e,t,x):void 0,N=void 0===C;if(N){var M=l(S),k=!M&&d(S),A=!M&&!k&&g(S);C=S,M||k||A?l(E)?C=E:u(E)?C=a(E):k?(N=!1,C=r(S,!0)):A?(N=!1,C=i(S,!0)):C=[]:p(S)||c(S)?(C=E,c(E)?C=m(E):h(E)&&!f(E)||(C=s(S))):N=!1}N&&(x.set(S,C),b(C,S,y,w,x),x.delete(S)),o(e,n,C)}}},94008:(e,t,n)=>{var o=n(27449),r=n(53366);e.exports=function(e,t){return o(e,t,(function(t,n){return r(e,n)}))}},27449:(e,t,n)=>{var o=n(52969),r=n(9261),i=n(35324);e.exports=function(e,t,n){for(var a=-1,s=t.length,c={};++a<s;){var l=t[a],u=o(e,l);n(u,l)&&r(c,i(l,e),u)}return c}},66487:e=>{e.exports=function(e,t,n,o,r){return r(e,(function(e,r,i){n=o?(o=!1,e):t(n,e,r,i)})),n}},9261:(e,t,n)=>{var o=n(78420),r=n(35324),i=n(69194),a=n(46686),s=n(70914);e.exports=function(e,t,n,c){if(!a(e))return e;for(var l=-1,u=(t=r(t,e)).length,d=u-1,f=e;null!=f&&++l<u;){var h=s(t[l]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(l!=d){var g=f[h];void 0===(p=c?c(g,h,f):void 0)&&(p=a(g)?g:i(t[l+1])?[]:{})}o(f,h,p),f=f[h]}return e}},86983:(e,t,n)=>{var o=n(50149);e.exports=function(e,t){return o(t,(function(t){return e[t]}))}},99377:e=>{e.exports=function(e,t,n){for(var o=-1,r=e.length,i=t.length,a={};++o<r;){var s=o<i?t[o]:void 0;n(a,e[o],s)}return a}},25111:(e,t,n)=>{var o=n(33279);e.exports=function(e){return"function"==typeof e?e:o}},61516:(e,t,n)=>{var o=n(22929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}},44353:(e,t,n)=>{e=n.nmd(e);var o=n(56552),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r?o.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,o=s?s(n):new e.constructor(n);return e.copy(o),o}},6806:(e,t,n)=>{var o=n(61516);e.exports=function(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},18962:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},11295:(e,t,n)=>{var o=n(9812),r=o?o.prototype:void 0,i=r?r.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},38710:(e,t,n)=>{var o=n(61516);e.exports=function(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},91980:e=>{e.exports=function(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}},96614:(e,t,n)=>{var o=n(78420),r=n(71775);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=i?i(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),a?r(n,l,u):o(n,l,u)}return n}},98124:(e,t,n)=>{var o=n(96614),r=n(69621);e.exports=function(e,t){return o(e,r(e),t)}},29075:(e,t,n)=>{var o=n(96614),r=n(56326);e.exports=function(e,t){return o(e,r(e),t)}},84570:(e,t,n)=>{var o=n(55647),r=n(60929);e.exports=function(e){return o((function(t,n){var o=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&r(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++o<i;){var c=n[o];c&&e(t,c,o,a)}return t}))}},15857:(e,t,n)=>{var o=n(20819),r=n(55636),i=n(46350);e.exports=function(e){return i(r(e,void 0,o),e+"")}},68592:(e,t,n)=>{var o=n(4262),r=n(56326),i=n(30474);e.exports=function(e){return o(e,i,r)}},56326:(e,t,n)=>{var o=n(48895),r=n(85990),i=n(69621),a=n(57828),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)o(t,i(e)),e=r(e);return t}:a;e.exports=s},38268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,o=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(o.index=e.index,o.input=e.input),o}},18630:(e,t,n)=>{var o=n(61516),r=n(6806),i=n(18962),a=n(11295),s=n(38710);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return o(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},20310:(e,t,n)=>{var o=n(21817),r=n(85990),i=n(36140);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:o(r(e))}},43516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},53737:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},91632:(e,t,n)=>{var o=n(34724),r=n(36311),i=n(67168);e.exports=function(e){return r(e)?i(e):o(e)}},67168:e=>{var t="\\ud800-\\udfff",n="["+t+"]",o="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+o+"|"+r+")"+"?",l="[\\ufe0e\\ufe0f]?",u=l+c+("(?:\\u200d(?:"+[i,a,s].join("|")+")"+l+c+")*"),d="(?:"+[i+o+"?",o,a,s,n].join("|")+")",f=RegExp(r+"(?="+r+")|"+d+u,"g");e.exports=function(e){for(var t=f.lastIndex=0;f.test(e);)++t;return t}},41740:(e,t,n)=>{var o=n(97132);e.exports=function(e){return o(e,4)}},56434:(e,t,n)=>{var o=n(97132);e.exports=function(e){return o(e,5)}},31163:(e,t,n)=>{var o=n(55647),r=n(93211),i=n(60929),a=n(30474),s=Object.prototype,c=s.hasOwnProperty,l=o((function(e,t){e=Object(e);var n=-1,o=t.length,l=o>2?t[2]:void 0;for(l&&i(t[0],t[1],l)&&(o=1);++n<o;)for(var u=t[n],d=a(u),f=-1,h=d.length;++f<h;){var p=d[f],g=e[p];(void 0===g||r(g,s[p])&&!c.call(e,p))&&(e[p]=u[p])}return e}));e.exports=l},62580:(e,t,n)=>{e.exports=n(55491)},50723:(e,t,n)=>{var o=n(17529),r=n(87171),i=n(9096),a=n(54052);e.exports=function(e,t){return(a(e)?o:r)(e,i(t,3))}},20819:(e,t,n)=>{var o=n(80755);e.exports=function(e){return(null==e?0:e.length)?o(e,1):[]}},55491:(e,t,n)=>{var o=n(80726),r=n(45652),i=n(25111),a=n(54052);e.exports=function(e,t){return(a(e)?o:r)(e,i(t))}},77717:(e,t,n)=>{var o=n(94258),r=n(25111),i=n(30474);e.exports=function(e,t){return null==e?e:o(e,r(t),i)}},62117:(e,t,n)=>{var o=n(36741),r=n(99057);e.exports=function(e,t){return null!=e&&r(e,t,o)}},76272:(e,t,n)=>{var o=n(6571),r=n(22761);e.exports=function(e){return r(e)&&o(e)}},54320:(e,t,n)=>{var o=n(83713),r=n(26924),i=n(22777),a=n(54052),s=n(6571),c=n(44543),l=n(36140),u=n(51268),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||u(e)||i(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(l(e))return!o(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},57887:(e,t,n)=>{var o=n(5791),r=n(47574),i=n(56832),a=i&&i.isMap,s=a?r(a):o;e.exports=s},45921:(e,t,n)=>{var o=n(20449),r=n(47574),i=n(56832),a=i&&i.isSet,s=a?r(a):o;e.exports=s},141:e=>{e.exports=function(e){return void 0===e}},30474:(e,t,n)=>{var o=n(73204),r=n(58122),i=n(6571);e.exports=function(e){return i(e)?o(e,!0):r(e)}},34677:(e,t,n)=>{var o=n(23253),r=n(84570)((function(e,t,n){o(e,t,n)}));e.exports=r},59364:(e,t,n)=>{var o=n(79742),r=n(9096),i=n(50061);e.exports=function(e,t){return e&&e.length?o(e,r(t,2),i):void 0}},22616:(e,t,n)=>{var o=n(94008),r=n(15857)((function(e,t){return null==e?{}:o(e,t)}));e.exports=r},12759:(e,t,n)=>{var o=n(99421),r=n(45652),i=n(9096),a=n(66487),s=n(54052);e.exports=function(e,t,n){var c=s(e)?o:a,l=arguments.length<3;return c(e,i(t,4),n,l,r)}},35640:(e,t,n)=>{var o=n(83713),r=n(26924),i=n(6571),a=n(90620),s=n(91632);e.exports=function(e){if(null==e)return 0;if(i(e))return a(e)?s(e):e.length;var t=r(e);return"[object Map]"==t||"[object Set]"==t?e.size:o(e).length}},91609:(e,t,n)=>{var o=n(96614),r=n(30474);e.exports=function(e){return o(e,r(e))}},22717:(e,t,n)=>{var o=n(80726),r=n(21817),i=n(94664),a=n(9096),s=n(85990),c=n(54052),l=n(44543),u=n(11629),d=n(46686),f=n(51268);e.exports=function(e,t,n){var h=c(e),p=h||l(e)||f(e);if(t=a(t,4),null==n){var g=e&&e.constructor;n=p?h?new g:[]:d(e)&&u(g)?r(s(e)):{}}return(p?o:i)(e,(function(e,o,r){return t(n,e,o,r)})),n}},30450:(e,t,n)=>{var o=n(80755),r=n(55647),i=n(64416),a=n(76272),s=r((function(e){return i(o(e,1,a,!0))}));e.exports=s},80111:(e,t,n)=>{var o=n(41069),r=0;e.exports=function(e){var t=++r;return o(e)+t}},26727:(e,t,n)=>{var o=n(86983),r=n(28673);e.exports=function(e){return null==e?[]:o(e,r(e))}},78129:(e,t,n)=>{var o=n(78420),r=n(99377);e.exports=function(e,t){return r(e||[],t||[],o)}},45956:(e,t,n)=>{"use strict";var o=n(65043);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=o.useState,a=o.useEffect,s=o.useLayoutEffect,c=o.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(o){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),o=i({inst:{value:n,getSnapshot:t}}),r=o[0].inst,u=o[1];return s((function(){r.value=n,r.getSnapshot=t,l(r)&&u({inst:r})}),[e,n,t]),a((function(){return l(r)&&u({inst:r}),e((function(){l(r)&&u({inst:r})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:u},45039:(e,t,n)=>{"use strict";var o=n(65043),r=n(29461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,s=o.useRef,c=o.useEffect,l=o.useMemo,u=o.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,o,r){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=l((function(){function e(e){if(!c){if(c=!0,a=e,e=o(e),void 0!==r&&f.hasValue){var t=f.value;if(r(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=o(e);return void 0!==r&&r(t,n)?t:(a=e,s=n)}var a,s,c=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,o,r]);var h=a(e,d[0],d[1]);return c((function(){f.hasValue=!0,f.value=h}),[h]),u(h),h}},29461:(e,t,n)=>{"use strict";e.exports=n(45956)},98443:(e,t,n)=>{"use strict";e.exports=n(45039)},96299:()=>{},63227:(e,t,n)=>{"use strict";n.d(t,{V:()=>p});var o,r=n(65043),i=n(89181),a=n(69212),s=n(7059);function c(e){let{color:t,dimensions:n,lineWidth:o}=e;return r.createElement("path",{stroke:t,strokeWidth:o,d:"M".concat(n[0]/2," 0 V").concat(n[1]," M0 ").concat(n[1]/2," H").concat(n[0])})}function l(e){let{color:t,radius:n}=e;return r.createElement("circle",{cx:n,cy:n,r:n,fill:t})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(o||(o={}));const u={[o.Dots]:"#91919a",[o.Lines]:"#eee",[o.Cross]:"#e2e2e2"},d={[o.Dots]:1,[o.Lines]:1,[o.Cross]:6},f=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function h(e){let{id:t,variant:n=o.Dots,gap:h=20,size:p,lineWidth:g=1,offset:v=2,color:m,style:y,className:b}=e;const w=(0,r.useRef)(null),{transform:x,patternId:E}=(0,a.Pj)(f,s.x),S=m||u[n],_=p||d[n],C=n===o.Dots,N=n===o.Cross,M=Array.isArray(h)?h:[h,h],k=[M[0]*x[2]||1,M[1]*x[2]||1],A=_*x[2],I=N?[A,A]:k,O=C?[A/v,A/v]:[I[0]/v,I[1]/v];return r.createElement("svg",{className:(0,i.A)(["react-flow__background",b]),style:{...y,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:w,"data-testid":"rf__background"},r.createElement("pattern",{id:E+t,x:x[0]%k[0],y:x[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(O[0],",-").concat(O[1],")")},C?r.createElement(l,{color:S,radius:A/v}):r.createElement(c,{dimensions:I,color:S,lineWidth:g})),r.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(E+t,")")}))}h.displayName="Background";var p=(0,r.memo)(h)},54077:(e,t,n)=>{"use strict";n.d(t,{H:()=>g});var o=n(65043),r=n(89181),i=n(7059),a=n(69212);function s(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},o.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function c(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},o.createElement("path",{d:"M0 0h32v4.2H0z"}))}function l(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},o.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function u(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},o.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function d(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},o.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const f=e=>{let{children:t,className:n,...i}=e;return o.createElement("button",{type:"button",className:(0,r.A)(["react-flow__controls-button",n]),...i},t)};f.displayName="ControlButton";const h=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),p=e=>{let{style:t,showZoom:n=!0,showFitView:p=!0,showInteractive:g=!0,fitViewOptions:v,onZoomIn:m,onZoomOut:y,onFitView:b,onInteractiveChange:w,className:x,children:E,position:S="bottom-left"}=e;const _=(0,a.PI)(),[C,N]=(0,o.useState)(!1),{isInteractive:M,minZoomReached:k,maxZoomReached:A}=(0,a.Pj)(h,i.x),{zoomIn:I,zoomOut:O,fitView:P}=(0,a.VH)();if((0,o.useEffect)((()=>{N(!0)}),[]),!C)return null;return o.createElement(a.Zk,{className:(0,r.A)(["react-flow__controls",x]),position:S,style:t,"data-testid":"rf__controls"},n&&o.createElement(o.Fragment,null,o.createElement(f,{onClick:()=>{I(),null===m||void 0===m||m()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:A},o.createElement(s,null)),o.createElement(f,{onClick:()=>{O(),null===y||void 0===y||y()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:k},o.createElement(c,null))),p&&o.createElement(f,{className:"react-flow__controls-fitview",onClick:()=>{P(v),null===b||void 0===b||b()},title:"fit view","aria-label":"fit view"},o.createElement(l,null)),g&&o.createElement(f,{className:"react-flow__controls-interactive",onClick:()=>{_.setState({nodesDraggable:!M,nodesConnectable:!M,elementsSelectable:!M}),null===w||void 0===w||w(!M)},title:"toggle interactivity","aria-label":"toggle interactivity"},M?o.createElement(d,null):o.createElement(u,null)),E)};p.displayName="Controls";var g=(0,o.memo)(p)},69212:(e,t,n)=>{"use strict";n.d(t,{xX:()=>Eo,h7:()=>Zo,TG:()=>ao,Zk:()=>An,yX:()=>so,Gc:()=>ra,fM:()=>sa,ck:()=>aa,VH:()=>Pr,Pj:()=>Nn,PI:()=>Mn});var o=n(65043),r=n(89181),i=n(98443);const a=e=>{let t;const n=new Set,o=(e,o)=>{const r="function"===typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=o?o:"object"!==typeof r||null===r)?r:Object.assign({},t,r),n.forEach((n=>n(t,e)))}},r=()=>t,i={setState:o,getState:r,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(o,r,i);return i},s=e=>e?a(e):a;const{useDebugValue:c}=o,{useSyncExternalStoreWithSelector:l}=i,u=e=>e;function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=arguments.length>2?arguments[2]:void 0;const o=l(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return c(o),o}const f=(e,t)=>{const n=s(e),o=function(e){return d(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(o,n),o};var h=n(7059),p={value:()=>{}};function g(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new v(o)}function v(e){this._=e}function m(e,t){for(var n,o=0,r=e.length;o<r;++o)if((n=e[o]).name===t)return n.value}function y(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=p,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:t,value:n}),e}v.prototype=g.prototype={constructor:v,on:function(e,t){var n,o,r=this._,i=(o=r,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!o.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=i[a]).type)r[n]=y(r[n],e.name,t);else if(null==t)for(n in r)r[n]=y(r[n],e.name,null);return this}for(;++a<s;)if((n=(e=i[a]).type)&&(n=m(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new v(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,r=new Array(n),i=0;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(o=this._[e]).length;i<n;++i)o[i].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};const b=g;function w(){}function x(e){return null==e?w:function(){return this.querySelector(e)}}function E(){return[]}function S(e){return null==e?E:function(){return this.querySelectorAll(e)}}function _(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function C(e){return function(){return this.matches(e)}}function N(e){return function(t){return t.matches(e)}}var M=Array.prototype.find;function k(){return this.firstElementChild}var A=Array.prototype.filter;function I(){return Array.from(this.children)}function O(e){return new Array(e.length)}function P(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function R(e,t,n,o,r,i){for(var a,s=0,c=t.length,l=i.length;s<l;++s)(a=t[s])?(a.__data__=i[s],o[s]=a):n[s]=new P(e,i[s]);for(;s<c;++s)(a=t[s])&&(r[s]=a)}function z(e,t,n,o,r,i,a){var s,c,l,u=new Map,d=t.length,f=i.length,h=new Array(d);for(s=0;s<d;++s)(c=t[s])&&(h[s]=l=a.call(c,c.__data__,s,t)+"",u.has(l)?r[s]=c:u.set(l,c));for(s=0;s<f;++s)l=a.call(e,i[s],s,i)+"",(c=u.get(l))?(o[s]=c,c.__data__=i[s],u.delete(l)):n[s]=new P(e,i[s]);for(s=0;s<d;++s)(c=t[s])&&u.get(h[s])===c&&(r[s]=c)}function D(e){return e.__data__}function T(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function B(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}P.prototype={constructor:P,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var L="http://www.w3.org/1999/xhtml";const j={svg:"http://www.w3.org/2000/svg",xhtml:L,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function V(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),j.hasOwnProperty(t)?{space:j[t],local:e}:e}function X(e){return function(){this.removeAttribute(e)}}function Y(e){return function(){this.removeAttributeNS(e.space,e.local)}}function H(e,t){return function(){this.setAttribute(e,t)}}function F(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function G(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function Z(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function K(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function U(e){return function(){this.style.removeProperty(e)}}function W(e,t,n){return function(){this.style.setProperty(e,t,n)}}function q(e,t,n){return function(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function Q(e,t){return e.style.getPropertyValue(t)||K(e).getComputedStyle(e,null).getPropertyValue(t)}function J(e){return function(){delete this[e]}}function $(e,t){return function(){this[e]=t}}function ee(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function te(e){return e.trim().split(/^|\s+/)}function ne(e){return e.classList||new oe(e)}function oe(e){this._node=e,this._names=te(e.getAttribute("class")||"")}function re(e,t){for(var n=ne(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function ie(e,t){for(var n=ne(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function ae(e){return function(){re(this,e)}}function se(e){return function(){ie(this,e)}}function ce(e,t){return function(){(t.apply(this,arguments)?re:ie)(this,e)}}function le(){this.textContent=""}function ue(e){return function(){this.textContent=e}}function de(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function fe(){this.innerHTML=""}function he(e){return function(){this.innerHTML=e}}function pe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ge(){this.nextSibling&&this.parentNode.appendChild(this)}function ve(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function me(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===L&&t.documentElement.namespaceURI===L?t.createElement(e):t.createElementNS(n,e)}}function ye(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function be(e){var t=V(e);return(t.local?ye:me)(t)}function we(){return null}function xe(){var e=this.parentNode;e&&e.removeChild(this)}function Ee(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Se(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _e(e){return function(){var t=this.__on;if(t){for(var n,o=0,r=-1,i=t.length;o<i;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function Ce(e,t,n){return function(){var o,r=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var a=0,s=r.length;a<s;++a)if((o=r[a]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),void(o.value=t);this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function Ne(e,t,n){var o=K(e),r=o.CustomEvent;"function"===typeof r?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Me(e,t){return function(){return Ne(this,e,t)}}function ke(e,t){return function(){return Ne(this,e,t.apply(this,arguments))}}oe.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ae=[null];function Ie(e,t){this._groups=e,this._parents=t}function Oe(){return new Ie([[document.documentElement]],Ae)}Ie.prototype=Oe.prototype={constructor:Ie,select:function(e){"function"!==typeof e&&(e=x(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i,a,s=t[r],c=s.length,l=o[r]=new Array(c),u=0;u<c;++u)(i=s[u])&&(a=e.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),l[u]=a);return new Ie(o,this._parents)},selectAll:function(e){e="function"===typeof e?_(e):S(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var a,s=t[i],c=s.length,l=0;l<c;++l)(a=s[l])&&(o.push(e.call(a,a.__data__,l,s)),r.push(a));return new Ie(o,r)},selectChild:function(e){return this.select(null==e?k:function(e){return function(){return M.call(this.children,e)}}("function"===typeof e?e:N(e)))},selectChildren:function(e){return this.selectAll(null==e?I:function(e){return function(){return A.call(this.children,e)}}("function"===typeof e?e:N(e)))},filter:function(e){"function"!==typeof e&&(e=C(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i,a=t[r],s=a.length,c=o[r]=[],l=0;l<s;++l)(i=a[l])&&e.call(i,i.__data__,l,a)&&c.push(i);return new Ie(o,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,D);var n,o=t?z:R,r=this._parents,i=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var a=i.length,s=new Array(a),c=new Array(a),l=new Array(a),u=0;u<a;++u){var d=r[u],f=i[u],h=f.length,p=T(e.call(d,d&&d.__data__,u,r)),g=p.length,v=c[u]=new Array(g),m=s[u]=new Array(g);o(d,f,v,m,l[u]=new Array(h),p,t);for(var y,b,w=0,x=0;w<g;++w)if(y=v[w]){for(w>=x&&(x=w+1);!(b=m[x])&&++x<g;);y._next=b||null}}return(s=new Ie(s,r))._enter=c,s._exit=l,s},enter:function(){return new Ie(this._enter||this._groups.map(O),this._parents)},exit:function(){return new Ie(this._exit||this._groups.map(O),this._parents)},join:function(e,t,n){var o=this.enter(),r=this,i=this.exit();return"function"===typeof e?(o=e(o))&&(o=o.selection()):o=o.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?i.remove():n(i),o&&r?o.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,a=Math.min(r,i),s=new Array(r),c=0;c<a;++c)for(var l,u=n[c],d=o[c],f=u.length,h=s[c]=new Array(f),p=0;p<f;++p)(l=u[p]||d[p])&&(h[p]=l);for(;c<r;++c)s[c]=n[c];return new Ie(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,r=e[t],i=r.length-1,a=r[i];--i>=0;)(o=r[i])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=B);for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var a,s=n[i],c=s.length,l=r[i]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(t)}return new Ie(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var a=o[r];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r,i=t[n],a=0,s=i.length;a<s;++a)(r=i[a])&&e.call(r,r.__data__,a,i);return this},attr:function(e,t){var n=V(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?Y:X:"function"===typeof t?n.local?Z:G:n.local?F:H)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?U:"function"===typeof t?q:W)(e,t,null==n?"":n)):Q(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?J:"function"===typeof t?ee:$)(e,t)):this.node()[e]},classed:function(e,t){var n=te(e+"");if(arguments.length<2){for(var o=ne(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each(("function"===typeof t?ce:t?ae:se)(n,t))},text:function(e){return arguments.length?this.each(null==e?le:("function"===typeof e?de:ue)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?fe:("function"===typeof e?pe:he)(e)):this.node().innerHTML},raise:function(){return this.each(ge)},lower:function(){return this.each(ve)},append:function(e){var t="function"===typeof e?e:be(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:be(e),o=null==t?we:"function"===typeof t?t:x(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))},remove:function(){return this.each(xe)},clone:function(e){return this.select(e?Se:Ee)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var o,r,i=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?Ce:_e,o=0;o<a;++o)this.each(s(i[o],t,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(o=0,c=s[l];o<a;++o)if((r=i[o]).type===c.type&&r.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"===typeof t?ke:Me)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o,r=e[t],i=0,a=r.length;i<a;++i)(o=r[i])&&(yield o)}};const Pe=Oe;function Re(e){return"string"===typeof e?new Ie([[document.querySelector(e)]],[document.documentElement]):new Ie([[e]],Ae)}const ze={passive:!1},De={capture:!0,passive:!1};function Te(e){e.stopImmediatePropagation()}function Be(e){e.preventDefault(),e.stopImmediatePropagation()}function Le(e){var t=e.document.documentElement,n=Re(e).on("dragstart.drag",Be,De);"onselectstart"in t?n.on("selectstart.drag",Be,De):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function je(e,t){var n=e.document.documentElement,o=Re(e).on("dragstart.drag",null);t&&(o.on("click.drag",Be,De),setTimeout((function(){o.on("click.drag",null)}),0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ve(e){return((e=Math.exp(e))+1/e)/2}const Xe=function e(t,n,o){function r(e,r){var i,a,s=e[0],c=e[1],l=e[2],u=r[0],d=r[1],f=r[2],h=u-s,p=d-c,g=h*h+p*p;if(g<1e-12)a=Math.log(f/l)/t,i=function(e){return[s+e*h,c+e*p,l*Math.exp(t*e*a)]};else{var v=Math.sqrt(g),m=(f*f-l*l+o*g)/(2*l*n*v),y=(f*f-l*l-o*g)/(2*f*n*v),b=Math.log(Math.sqrt(m*m+1)-m),w=Math.log(Math.sqrt(y*y+1)-y);a=(w-b)/t,i=function(e){var o,r=e*a,i=Ve(b),u=l/(n*v)*(i*(o=t*r+b,((o=Math.exp(2*o))-1)/(o+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+u*h,c+u*p,l*i/Ve(t*r+b)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return r.rho=function(t){var n=Math.max(.001,+t),o=n*n;return e(n,o,o*o)},r}(Math.SQRT2,2,4);function Ye(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}var He,Fe,Ge=0,Ze=0,Ke=0,Ue=1e3,We=0,qe=0,Qe=0,Je="object"===typeof performance&&performance.now?performance:Date,$e="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function et(){return qe||($e(tt),qe=Je.now()+Qe)}function tt(){qe=0}function nt(){this._call=this._time=this._next=null}function ot(e,t,n){var o=new nt;return o.restart(e,t,n),o}function rt(){qe=(We=Je.now())+Qe,Ge=Ze=0;try{!function(){et(),++Ge;for(var e,t=He;t;)(e=qe-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ge}()}finally{Ge=0,function(){var e,t,n=He,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:He=t);Fe=e,at(o)}(),qe=0}}function it(){var e=Je.now(),t=e-We;t>Ue&&(Qe-=t,We=e)}function at(e){Ge||(Ze&&(Ze=clearTimeout(Ze)),e-qe>24?(e<1/0&&(Ze=setTimeout(rt,e-Je.now()-Qe)),Ke&&(Ke=clearInterval(Ke))):(Ke||(We=Je.now(),Ke=setInterval(it,Ue)),Ge=1,$e(rt)))}function st(e,t,n){var o=new nt;return t=null==t?0:+t,o.restart((n=>{o.stop(),e(n+t)}),t,n),o}nt.prototype=ot.prototype={constructor:nt,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?et():+n)+(null==t?0:+t),this._next||Fe===this||(Fe?Fe._next=this:He=this,Fe=this),this._call=e,this._time=n,at()},stop:function(){this._call&&(this._call=null,this._time=1/0,at())}};var ct=b("start","end","cancel","interrupt"),lt=[],ut=0,dt=1,ft=2,ht=3,pt=4,gt=5,vt=6;function mt(e,t,n,o,r,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var o,r=e.__transition;function i(e){n.state=dt,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(i){var l,u,d,f;if(n.state!==dt)return c();for(l in r)if((f=r[l]).name===n.name){if(f.state===ht)return st(a);f.state===pt?(f.state=vt,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[l]):+l<t&&(f.state=vt,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[l])}if(st((function(){n.state===ht&&(n.state=pt,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=ft,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ft){for(n.state=ht,o=new Array(d=n.tween.length),l=0,u=-1;l<d;++l)(f=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(o[++u]=f);o.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=gt,1),i=-1,a=o.length;++i<a;)o[i].call(e,r);n.state===gt&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){for(var o in n.state=vt,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=ot(i,0,n.time)}(e,n,{name:t,index:o,group:r,on:ct,tween:lt,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:ut})}function yt(e,t){var n=wt(e,t);if(n.state>ut)throw new Error("too late; already scheduled");return n}function bt(e,t){var n=wt(e,t);if(n.state>ht)throw new Error("too late; already running");return n}function wt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function xt(e,t){var n,o,r,i=e.__transition,a=!0;if(i){for(r in t=null==t?null:t+"",i)(n=i[r]).name===t?(o=n.state>ft&&n.state<gt,n.state=vt,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[r]):a=!1;a&&delete e.__transition}}var Et,St=n(50010),_t=180/Math.PI,Ct={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Nt(e,t,n,o,r,i){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,c/=s),e*o<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*_t,skewX:Math.atan(c)*_t,scaleX:a,scaleY:s}}function Mt(e,t,n,o){function r(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],c=[];return i=e(i),a=e(a),function(e,o,r,i,a,s){if(e!==r||o!==i){var c=a.push("translate(",null,t,null,n);s.push({i:c-4,x:(0,St.A)(e,r)},{i:c-2,x:(0,St.A)(o,i)})}else(r||i)&&a.push("translate("+r+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,c),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(r(n)+"rotate(",null,o)-2,x:(0,St.A)(e,t)})):t&&n.push(r(n)+"rotate("+t+o)}(i.rotate,a.rotate,s,c),function(e,t,n,i){e!==t?i.push({i:n.push(r(n)+"skewX(",null,o)-2,x:(0,St.A)(e,t)}):t&&n.push(r(n)+"skewX("+t+o)}(i.skewX,a.skewX,s,c),function(e,t,n,o,i,a){if(e!==n||t!==o){var s=i.push(r(i)+"scale(",null,",",null,")");a.push({i:s-4,x:(0,St.A)(e,n)},{i:s-2,x:(0,St.A)(t,o)})}else 1===n&&1===o||i.push(r(i)+"scale("+n+","+o+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,c),i=a=null,function(e){for(var t,n=-1,o=c.length;++n<o;)s[(t=c[n]).i]=t.x(e);return s.join("")}}}var kt=Mt((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ct:Nt(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),At=Mt((function(e){return null==e?Ct:(Et||(Et=document.createElementNS("http://www.w3.org/2000/svg","g")),Et.setAttribute("transform",e),(e=Et.transform.baseVal.consolidate())?Nt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Ct)}),", ",")",")");function It(e,t){var n,o;return function(){var r=bt(this,e),i=r.tween;if(i!==n)for(var a=0,s=(o=n=i).length;a<s;++a)if(o[a].name===t){(o=o.slice()).splice(a,1);break}r.tween=o}}function Ot(e,t,n){var o,r;if("function"!==typeof n)throw new Error;return function(){var i=bt(this,e),a=i.tween;if(a!==o){r=(o=a).slice();for(var s={name:t,value:n},c=0,l=r.length;c<l;++c)if(r[c].name===t){r[c]=s;break}c===l&&r.push(s)}i.tween=r}}function Pt(e,t,n){var o=e._id;return e.each((function(){var e=bt(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return wt(e,o).value[t]}}var Rt=n(75206),zt=n(75365),Dt=n(97162);function Tt(e,t){var n;return("number"===typeof t?St.A:t instanceof Rt.Ay?zt.Ay:(n=(0,Rt.Ay)(t))?(t=n,zt.Ay):Dt.A)(e,t)}function Bt(e){return function(){this.removeAttribute(e)}}function Lt(e){return function(){this.removeAttributeNS(e.space,e.local)}}function jt(e,t,n){var o,r,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===o?r:r=t(o=a,n)}}function Vt(e,t,n){var o,r,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?r:r=t(o=a,n)}}function Xt(e,t,n){var o,r,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(e))===(s=c+"")?null:a===o&&s===r?i:(r=s,i=t(o=a,c));this.removeAttribute(e)}}function Yt(e,t,n){var o,r,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(e.space,e.local))===(s=c+"")?null:a===o&&s===r?i:(r=s,i=t(o=a,c));this.removeAttributeNS(e.space,e.local)}}function Ht(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,r)),n}return r._value=t,r}function Ft(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,r)),n}return r._value=t,r}function Gt(e,t){return function(){yt(this,e).delay=+t.apply(this,arguments)}}function Zt(e,t){return t=+t,function(){yt(this,e).delay=t}}function Kt(e,t){return function(){bt(this,e).duration=+t.apply(this,arguments)}}function Ut(e,t){return t=+t,function(){bt(this,e).duration=t}}var Wt=Pe.prototype.constructor;function qt(e){return function(){this.style.removeProperty(e)}}var Qt=0;function Jt(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function $t(){return++Qt}var en=Pe.prototype;Jt.prototype=function(e){return Pe().transition(e)}.prototype={constructor:Jt,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=x(e));for(var o=this._groups,r=o.length,i=new Array(r),a=0;a<r;++a)for(var s,c,l=o[a],u=l.length,d=i[a]=new Array(u),f=0;f<u;++f)(s=l[f])&&(c=e.call(s,s.__data__,f,l))&&("__data__"in s&&(c.__data__=s.__data__),d[f]=c,mt(d[f],t,n,f,d,wt(s,n)));return new Jt(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=S(e));for(var o=this._groups,r=o.length,i=[],a=[],s=0;s<r;++s)for(var c,l=o[s],u=l.length,d=0;d<u;++d)if(c=l[d]){for(var f,h=e.call(c,c.__data__,d,l),p=wt(c,n),g=0,v=h.length;g<v;++g)(f=h[g])&&mt(f,t,n,g,h,p);i.push(h),a.push(c)}return new Jt(i,a,t,n)},selectChild:en.selectChild,selectChildren:en.selectChildren,filter:function(e){"function"!==typeof e&&(e=C(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i,a=t[r],s=a.length,c=o[r]=[],l=0;l<s;++l)(i=a[l])&&e.call(i,i.__data__,l,a)&&c.push(i);return new Jt(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),a=new Array(o),s=0;s<i;++s)for(var c,l=t[s],u=n[s],d=l.length,f=a[s]=new Array(d),h=0;h<d;++h)(c=l[h]||u[h])&&(f[h]=c);for(;s<o;++s)a[s]=t[s];return new Jt(a,this._parents,this._name,this._id)},selection:function(){return new Wt(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=$t(),o=this._groups,r=o.length,i=0;i<r;++i)for(var a,s=o[i],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=wt(a,t);mt(a,e,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Jt(o,this._parents,e,n)},call:en.call,nodes:en.nodes,node:en.node,size:en.size,empty:en.empty,each:en.each,on:function(e,t){var n=this._id;return arguments.length<2?wt(this.node(),n).on.on(e):this.each(function(e,t,n){var o,r,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?yt:bt;return function(){var a=i(this,e),s=a.on;s!==o&&(r=(o=s).copy()).on(t,n),a.on=r}}(n,e,t))},attr:function(e,t){var n=V(e),o="transform"===n?At:Tt;return this.attrTween(e,"function"===typeof t?(n.local?Yt:Xt)(n,o,Pt(this,"attr."+e,t)):null==t?(n.local?Lt:Bt)(n):(n.local?Vt:jt)(n,o,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var o=V(e);return this.tween(n,(o.local?Ht:Ft)(o,t))},style:function(e,t,n){var o="transform"===(e+="")?kt:Tt;return null==t?this.styleTween(e,function(e,t){var n,o,r;return function(){var i=Q(this,e),a=(this.style.removeProperty(e),Q(this,e));return i===a?null:i===n&&a===o?r:r=t(n=i,o=a)}}(e,o)).on("end.style."+e,qt(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var o,r,i;return function(){var a=Q(this,e),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(e),c=s=Q(this,e)),a===c?null:a===o&&c===r?i:(r=c,i=t(o=a,s))}}(e,o,Pt(this,"style."+e,t))).each(function(e,t){var n,o,r,i,a="style."+t,s="end."+a;return function(){var c=bt(this,e),l=c.on,u=null==c.value[a]?i||(i=qt(t)):void 0;l===n&&r===u||(o=(n=l).copy()).on(s,r=u),c.on=o}}(this._id,e)):this.styleTween(e,function(e,t,n){var o,r,i=n+"";return function(){var a=Q(this,e);return a===i?null:a===o?r:r=t(o=a,n)}}(e,o,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!==typeof t)throw new Error;return this.tween(o,function(e,t,n){var o,r;function i(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&function(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}(e,i,n)),o}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Pt(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function o(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&function(e){return function(t){this.textContent=e.call(this,t)}}(o)),t}return o._value=e,o}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,r=wt(this.node(),n).tween,i=0,a=r.length;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((null==t?It:Ot)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Gt:Zt)(t,e)):wt(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Kt:Ut)(t,e)):wt(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){bt(this,e).ease=t}}(t,e)):wt(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;bt(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,o=n._id,r=n.size();return new Promise((function(i,a){var s={value:a},c={value:function(){0===--r&&i()}};n.each((function(){var n=bt(this,o),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t})),0===r&&i()}))},[Symbol.iterator]:en[Symbol.iterator]};var tn={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function nn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Pe.prototype.interrupt=function(e){return this.each((function(){xt(this,e)}))},Pe.prototype.transition=function(e){var t,n;e instanceof Jt?(t=e._id,e=e._name):(t=$t(),(n=tn).time=et(),e=null==e?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var a,s=o[i],c=s.length,l=0;l<c;++l)(a=s[l])&&mt(a,e,t,l,s,n||nn(a,t));return new Jt(o,this._parents,e,t)};const on=e=>()=>e;function rn(e,t){let{sourceEvent:n,target:o,transform:r,dispatch:i}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function an(e,t,n){this.k=e,this.x=t,this.y=n}an.prototype={constructor:an,scale:function(e){return 1===e?this:new an(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new an(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var sn=new an(1,0,0);function cn(e){e.stopImmediatePropagation()}function ln(e){e.preventDefault(),e.stopImmediatePropagation()}function un(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function dn(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function fn(){return this.__zoom||sn}function hn(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function pn(){return navigator.maxTouchPoints||"ontouchstart"in this}function gn(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}an.prototype;const vn=e=>()=>e;function mn(e,t){let{sourceEvent:n,subject:o,target:r,identifier:i,active:a,x:s,y:c,dx:l,dy:u,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:d}})}function yn(e){return!e.ctrlKey&&!e.button}function bn(){return this.parentNode}function wn(e,t){return null==t?{x:e.x,y:e.y}:t}function xn(){return navigator.maxTouchPoints||"ontouchstart"in this}mn.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};n(97950);const En=(0,o.createContext)(null),Sn=En.Provider,_n={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>"The old edge with id=".concat(e," does not exist."),error009:e=>'Marker type "'.concat(e,"\" doesn't exist."),error008:(e,t)=>"Couldn't create edge for ".concat(e?"target":"source",' handle id: "').concat(e?t.targetHandle:t.sourceHandle,'", edge id: ').concat(t.id,"."),error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),error012:e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.')},Cn=_n.error001();function Nn(e,t){const n=(0,o.useContext)(En);if(null===n)throw new Error(Cn);return d(n,e,t)}const Mn=()=>{const e=(0,o.useContext)(En);if(null===e)throw new Error(Cn);return(0,o.useMemo)((()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy})),[e])},kn=e=>e.userSelectionActive?"none":"all";function An(e){let{position:t,children:n,className:i,style:a,...s}=e;const c=Nn(kn),l="".concat(t).split("-");return o.createElement("div",{className:(0,r.A)(["react-flow__panel",i,...l]),style:{...a,pointerEvents:c},...s},n)}function In(e){let{proOptions:t,position:n="bottom-right"}=e;return null!==t&&void 0!==t&&t.hideAttribution?null:o.createElement(An,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},o.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var On=(0,o.memo)((e=>{let{x:t,y:n,label:i,labelStyle:a={},labelShowBg:s=!0,labelBgStyle:c={},labelBgPadding:l=[2,4],labelBgBorderRadius:u=2,children:d,className:f,...h}=e;const p=(0,o.useRef)(null),[g,v]=(0,o.useState)({x:0,y:0,width:0,height:0}),m=(0,r.A)(["react-flow__edge-textwrapper",f]);return(0,o.useEffect)((()=>{if(p.current){const e=p.current.getBBox();v({x:e.x,y:e.y,width:e.width,height:e.height})}}),[i]),"undefined"!==typeof i&&i?o.createElement("g",{transform:"translate(".concat(t-g.width/2," ").concat(n-g.height/2,")"),className:m,visibility:g.width?"visible":"hidden",...h},s&&o.createElement("rect",{width:g.width+2*l[0],x:-l[0],y:-l[1],height:g.height+2*l[1],className:"react-flow__edge-textbg",style:c,rx:u,ry:u}),o.createElement("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:p,style:a},i),d):null}));const Pn=e=>({width:e.offsetWidth,height:e.offsetHeight}),Rn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},zn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:Rn(e.x,t[0][0],t[1][0]),y:Rn(e.y,t[0][1],t[1][1])}},Dn=(e,t,n)=>e<t?Rn(Math.abs(e-t),1,50)/50:e>n?-Rn(Math.abs(e-n),1,50)/50:0,Tn=(e,t)=>[20*Dn(e.x,35,t.width-35),20*Dn(e.y,35,t.height-35)],Bn=e=>{var t,n;return(null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},Ln=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),jn=e=>{let{x:t,y:n,width:o,height:r}=e;return{x:t,y:n,x2:t+o,y2:n+r}},Vn=e=>{let{x:t,y:n,x2:o,y2:r}=e;return{x:t,y:n,width:o-t,height:r-n}},Xn=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Yn=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},Hn=e=>Fn(e.width)&&Fn(e.height)&&Fn(e.x)&&Fn(e.y),Fn=e=>!isNaN(e)&&isFinite(e),Gn=Symbol.for("internals"),Zn=["Enter"," ","Escape"],Kn=(e,t)=>{0};function Un(e){var t;const n=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,o=(null===(t=n.composedPath)||void 0===t||null===(t=t.call(n))||void 0===t?void 0:t[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(null===o||void 0===o?void 0:o.nodeName)||(null===o||void 0===o?void 0:o.hasAttribute("contenteditable"))||!(null===o||void 0===o||!o.closest(".nokey"))}const Wn=e=>"clientX"in e,qn=(e,t)=>{var n,o,r,i;const a=Wn(e),s=a?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,c=a?e.clientY:null===(o=e.touches)||void 0===o?void 0:o[0].clientY;return{x:s-(null!==(r=null===t||void 0===t?void 0:t.left)&&void 0!==r?r:0),y:c-(null!==(i=null===t||void 0===t?void 0:t.top)&&void 0!==i?i:0)}},Qn=()=>{var e;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(e=e.userAgent)||void 0===e?void 0:e.indexOf("Mac"))>=0},Jn=e=>{let{id:t,path:n,labelX:r,labelY:i,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:g=20}=e;return o.createElement(o.Fragment,null,o.createElement("path",{id:t,style:f,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:p}),g&&o.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),a&&Fn(r)&&Fn(i)?o.createElement(On,{x:r,y:i,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d}):null)};Jn.displayName="BaseEdge";function $n(e,t,n){return void 0===n?n:o=>{const r=t().edges.find((t=>t.id===e));r&&n(o,{...r})}}function eo(e){let{sourceX:t,sourceY:n,targetX:o,targetY:r}=e;const i=Math.abs(o-t)/2,a=o<t?o+i:o-i,s=Math.abs(r-n)/2;return[a,r<n?r+s:r-s,i,s]}function to(e){let{sourceX:t,sourceY:n,targetX:o,targetY:r,sourceControlX:i,sourceControlY:a,targetControlX:s,targetControlY:c}=e;const l=.125*t+.375*i+.375*s+.125*o,u=.125*n+.375*a+.375*c+.125*r;return[l,u,Math.abs(l-t),Math.abs(u-n)]}var no,oo,ro,io,ao,so;function co(e){let{pos:t,x1:n,y1:o,x2:r,y2:i}=e;return t===so.Left||t===so.Right?[.5*(n+r),o]:[n,.5*(o+i)]}function lo(e){let{sourceX:t,sourceY:n,sourcePosition:o=so.Bottom,targetX:r,targetY:i,targetPosition:a=so.Top}=e;const[s,c]=co({pos:o,x1:t,y1:n,x2:r,y2:i}),[l,u]=co({pos:a,x1:r,y1:i,x2:t,y2:n}),[d,f,h,p]=to({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:s,sourceControlY:c,targetControlX:l,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(s,",").concat(c," ").concat(l,",").concat(u," ").concat(r,",").concat(i),d,f,h,p]}!function(e){e.Strict="strict",e.Loose="loose"}(no||(no={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(oo||(oo={})),function(e){e.Partial="partial",e.Full="full"}(ro||(ro={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(io||(io={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(ao||(ao={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(so||(so={}));const uo=(0,o.memo)((e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:a=so.Bottom,targetPosition:s=so.Top,label:c,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:v,interactionWidth:m}=e;const[y,b,w]=lo({sourceX:t,sourceY:n,sourcePosition:a,targetX:r,targetY:i,targetPosition:s});return o.createElement(Jn,{path:y,labelX:b,labelY:w,label:c,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:v,interactionWidth:m})}));uo.displayName="SimpleBezierEdge";const fo={[so.Left]:{x:-1,y:0},[so.Right]:{x:1,y:0},[so.Top]:{x:0,y:-1},[so.Bottom]:{x:0,y:1}},ho=e=>{let{source:t,sourcePosition:n=so.Bottom,target:o}=e;return n===so.Left||n===so.Right?t.x<o.x?{x:1,y:0}:{x:-1,y:0}:t.y<o.y?{x:0,y:1}:{x:0,y:-1}},po=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function go(e){let{sourceX:t,sourceY:n,sourcePosition:o=so.Bottom,targetX:r,targetY:i,targetPosition:a=so.Top,borderRadius:s=5,centerX:c,centerY:l,offset:u=20}=e;const[d,f,h,p,g]=function(e){let{source:t,sourcePosition:n=so.Bottom,target:o,targetPosition:r=so.Top,center:i,offset:a}=e;const s=fo[n],c=fo[r],l={x:t.x+s.x*a,y:t.y+s.y*a},u={x:o.x+c.x*a,y:o.y+c.y*a},d=ho({source:l,sourcePosition:n,target:u}),f=0!==d.x?"x":"y",h=d[f];let p,g,v=[];const m={x:0,y:0},y={x:0,y:0},[b,w,x,E]=eo({sourceX:t.x,sourceY:t.y,targetX:o.x,targetY:o.y});if(s[f]*c[f]===-1){var S,_;p=null!==(S=i.x)&&void 0!==S?S:b,g=null!==(_=i.y)&&void 0!==_?_:w;const e=[{x:p,y:l.y},{x:p,y:u.y}],t=[{x:l.x,y:g},{x:u.x,y:g}];v=s[f]===h?"x"===f?e:t:"x"===f?t:e}else{const e=[{x:l.x,y:u.y}],i=[{x:u.x,y:l.y}];if(v="x"===f?s.x===h?i:e:s.y===h?e:i,n===r){const e=Math.abs(t[f]-o[f]);if(e<=a){const n=Math.min(a-1,a-e);s[f]===h?m[f]=(l[f]>t[f]?-1:1)*n:y[f]=(u[f]>o[f]?-1:1)*n}}if(n!==r){const t="x"===f?"y":"x",n=s[f]===c[t],o=l[t]>u[t],r=l[t]<u[t];(1===s[f]&&(!n&&o||n&&r)||1!==s[f]&&(!n&&r||n&&o))&&(v="x"===f?e:i)}const d={x:l.x+m.x,y:l.y+m.y},b={x:u.x+y.x,y:u.y+y.y};Math.max(Math.abs(d.x-v[0].x),Math.abs(b.x-v[0].x))>=Math.max(Math.abs(d.y-v[0].y),Math.abs(b.y-v[0].y))?(p=(d.x+b.x)/2,g=v[0].y):(p=v[0].x,g=(d.y+b.y)/2)}return[[t,{x:l.x+m.x,y:l.y+m.y},...v,{x:u.x+y.x,y:u.y+y.y},o],p,g,x,E]}({source:{x:t,y:n},sourcePosition:o,target:{x:r,y:i},targetPosition:a,center:{x:c,y:l},offset:u}),v=d.reduce(((e,t,n)=>{let o="";return o=n>0&&n<d.length-1?function(e,t,n,o){const r=Math.min(po(e,t)/2,po(t,n)/2,o),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return"L".concat(i," ").concat(a);if(e.y===a){const t=e.x<n.x?-1:1,o=e.y<n.y?1:-1;return"L ".concat(i+r*t,",").concat(a,"Q ").concat(i,",").concat(a," ").concat(i,",").concat(a+r*o)}const s=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return"L ".concat(i,",").concat(a+r*c,"Q ").concat(i,",").concat(a," ").concat(i+r*s,",").concat(a)}(d[n-1],t,d[n+1],s):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y),e+=o}),"");return[v,f,h,p,g]}const vo=(0,o.memo)((e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:i,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:f,sourcePosition:h=so.Bottom,targetPosition:p=so.Top,markerEnd:g,markerStart:v,pathOptions:m,interactionWidth:y}=e;const[b,w,x]=go({sourceX:t,sourceY:n,sourcePosition:h,targetX:r,targetY:i,targetPosition:p,borderRadius:null===m||void 0===m?void 0:m.borderRadius,offset:null===m||void 0===m?void 0:m.offset});return o.createElement(Jn,{path:b,labelX:w,labelY:x,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:g,markerStart:v,interactionWidth:y})}));vo.displayName="SmoothStepEdge";const mo=(0,o.memo)((e=>{var t;return o.createElement(vo,{...e,pathOptions:(0,o.useMemo)((()=>{var t;return{borderRadius:0,offset:null===(t=e.pathOptions)||void 0===t?void 0:t.offset}}),[null===(t=e.pathOptions)||void 0===t?void 0:t.offset])})}));mo.displayName="StepEdge";const yo=(0,o.memo)((e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:i,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:g}=e;const[v,m,y]=function(e){let{sourceX:t,sourceY:n,targetX:o,targetY:r}=e;const[i,a,s,c]=eo({sourceX:t,sourceY:n,targetX:o,targetY:r});return["M ".concat(t,",").concat(n,"L ").concat(o,",").concat(r),i,a,s,c]}({sourceX:t,sourceY:n,targetX:r,targetY:i});return o.createElement(Jn,{path:v,labelX:m,labelY:y,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:g})}));function bo(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function wo(e){let{pos:t,x1:n,y1:o,x2:r,y2:i,c:a}=e;switch(t){case so.Left:return[n-bo(n-r,a),o];case so.Right:return[n+bo(r-n,a),o];case so.Top:return[n,o-bo(o-i,a)];case so.Bottom:return[n,o+bo(i-o,a)]}}function xo(e){let{sourceX:t,sourceY:n,sourcePosition:o=so.Bottom,targetX:r,targetY:i,targetPosition:a=so.Top,curvature:s=.25}=e;const[c,l]=wo({pos:o,x1:t,y1:n,x2:r,y2:i,c:s}),[u,d]=wo({pos:a,x1:r,y1:i,x2:t,y2:n,c:s}),[f,h,p,g]=to({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:c,sourceControlY:l,targetControlX:u,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(c,",").concat(l," ").concat(u,",").concat(d," ").concat(r,",").concat(i),f,h,p,g]}yo.displayName="StraightEdge";const Eo=(0,o.memo)((e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:a=so.Bottom,targetPosition:s=so.Top,label:c,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:v,pathOptions:m,interactionWidth:y}=e;const[b,w,x]=xo({sourceX:t,sourceY:n,sourcePosition:a,targetX:r,targetY:i,targetPosition:s,curvature:null===m||void 0===m?void 0:m.curvature});return o.createElement(Jn,{path:b,labelX:w,labelY:x,label:c,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:v,interactionWidth:y})}));Eo.displayName="BezierEdge";const So=(0,o.createContext)(null),_o=So.Provider;So.Consumer;const Co=e=>{let{source:t,sourceHandle:n,target:o,targetHandle:r}=e;return"reactflow__edge-".concat(t).concat(n||"","-").concat(o).concat(r||"")},No=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map((t=>"".concat(t,"=").concat(e[t]))).join("&"))},Mo=(e,t,n,o)=>{let{x:r,y:i}=e,[a,s,c]=t,[l,u]=o;const d={x:(r-a)/c,y:(i-s)/c};return n?{x:l*Math.round(d.x/l),y:u*Math.round(d.y/u)}:d},ko=(e,t)=>{let{x:n,y:o}=e,[r,i,a]=t;return{x:n*a+r,y:o*a+i}},Ao=function(e){var t,n;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const r=(null!==(t=e.width)&&void 0!==t?t:0)*o[0],i=(null!==(n=e.height)&&void 0!==n?n:0)*o[1],a={x:e.position.x-r,y:e.position.y-i};return{...a,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-r,y:e.positionAbsolute.y-i}:a}},Io=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce(((e,n)=>{const{x:o,y:r}=Ao(n,t).positionAbsolute;return Ln(e,jn({x:o,y:r,width:n.width||0,height:n.height||0}))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Vn(n)},Oo=function(e,t){let[n,o,r]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const c={x:(t.x-n)/r,y:(t.y-o)/r,width:t.width/r,height:t.height/r},l=[];return e.forEach((e=>{const{width:t,height:n,selectable:o=!0,hidden:r=!1}=e;if(a&&!o||r)return!1;const{positionAbsolute:u}=Ao(e,s),d={x:u.x,y:u.y,width:t||0,height:n||0},f=Yn(c,d);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||i&&f>0||f>=(t||0)*(n||0)||e.dragging)&&l.push(e)})),l},Po=(e,t)=>{const n=e.map((e=>e.id));return t.filter((e=>n.includes(e.source)||n.includes(e.target)))},Ro=function(e,t,n,o,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const a=t/(e.width*(1+i)),s=n/(e.height*(1+i)),c=Math.min(a,s),l=Rn(c,o,r);return{x:t/2-(e.x+e.width/2)*l,y:n/2-(e.y+e.height/2)*l,zoom:l}},zo=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function Do(e,t,n,o){return(t[n]||[]).reduce(((t,r)=>{var i,a,s,c;"".concat(e.id,"-").concat(r.id,"-").concat(n)!==o&&t.push({id:r.id||null,type:n,nodeId:e.id,x:(null!==(i=null===(a=e.positionAbsolute)||void 0===a?void 0:a.x)&&void 0!==i?i:0)+r.x+r.width/2,y:(null!==(s=null===(c=e.positionAbsolute)||void 0===c?void 0:c.y)&&void 0!==s?s:0)+r.y+r.height/2});return t}),[])}const To={source:null,target:null,sourceHandle:null,targetHandle:null},Bo=()=>({handleDomNode:null,isValid:!1,connection:To,endHandle:null});function Lo(e,t,n,o,r,i,a){const s="target"===r,c=a.querySelector('.react-flow__handle[data-id="'.concat(null===e||void 0===e?void 0:e.nodeId,"-").concat(null===e||void 0===e?void 0:e.id,"-").concat(null===e||void 0===e?void 0:e.type,'"]')),l={...Bo(),handleDomNode:c};if(c){const e=jo(void 0,c),r=c.getAttribute("data-nodeid"),a=c.getAttribute("data-handleid"),u=c.classList.contains("connectable"),d=c.classList.contains("connectableend"),f={source:s?r:n,sourceHandle:s?a:o,target:s?n:r,targetHandle:s?o:a};l.connection=f;u&&d&&(t===no.Strict?s&&"source"===e||!s&&"target"===e:r!==n||a!==o)&&(l.endHandle={nodeId:r,handleId:a,type:e},l.isValid=i(f))}return l}function jo(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}function Vo(e){null===e||void 0===e||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Xo(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Yo(e){let{event:t,handleId:n,nodeId:o,onConnect:r,isTarget:i,getState:a,setState:s,isValidConnection:c,edgeUpdaterType:l,onReconnectEnd:u}=e;const d=Bn(t.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:g,onConnectStart:v,panBy:m,getNodes:y,cancelConnection:b}=a();let w,x=0;const{x:E,y:S}=qn(t),_=null===d||void 0===d?void 0:d.elementFromPoint(E,S),C=jo(l,_),N=null===h||void 0===h?void 0:h.getBoundingClientRect();if(!N||!C)return;let M,k=qn(t,N),A=!1,I=null,O=!1,P=null;const R=function(e){let{nodes:t,nodeId:n,handleId:o,handleType:r}=e;return t.reduce(((e,t)=>{if(t[Gn]){const{handleBounds:i}=t[Gn];let a=[],s=[];i&&(a=Do(t,i,"source","".concat(n,"-").concat(o,"-").concat(r)),s=Do(t,i,"target","".concat(n,"-").concat(o,"-").concat(r))),e.push(...a,...s)}return e}),[])}({nodes:y(),nodeId:o,handleId:n,handleType:C}),z=()=>{if(!p)return;const[e,t]=Tn(k,N);m({x:e,y:t}),x=requestAnimationFrame(z)};function D(e){const{transform:t}=a();k=qn(e,N);const{handle:r,validHandleResult:l}=function(e,t,n,o,r,i){const{x:a,y:s}=qn(e),c=t.elementsFromPoint(a,s).find((e=>e.classList.contains("react-flow__handle")));if(c){const e=c.getAttribute("data-nodeid");if(e){const t=jo(void 0,c),o=c.getAttribute("data-handleid"),a=i({nodeId:e,id:o,type:t});if(a){const i=r.find((n=>n.nodeId===e&&n.type===t&&n.id===o));return{handle:{id:o,type:t,nodeId:e,x:(null===i||void 0===i?void 0:i.x)||n.x,y:(null===i||void 0===i?void 0:i.y)||n.y},validHandleResult:a}}}}let l=[],u=1/0;if(r.forEach((e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=o){const n=i(e);t<=u&&(t<u?l=[{handle:e,validHandleResult:n}]:t===u&&l.push({handle:e,validHandleResult:n}),u=t)}})),!l.length)return{handle:null,validHandleResult:Bo()};if(1===l.length)return l[0];const d=l.some((e=>{let{validHandleResult:t}=e;return t.isValid})),f=l.some((e=>{let{handle:t}=e;return"target"===t.type}));return l.find((e=>{let{handle:t,validHandleResult:n}=e;return f?"target"===t.type:!d||n.isValid}))||l[0]}(e,d,Mo(k,t,!1,[1,1]),g,R,(e=>Lo(e,f,o,n,i?"target":"source",c,d)));if(w=r,A||(z(),A=!0),P=l.handleDomNode,I=l.connection,O=l.isValid,s({connectionPosition:w&&O?ko({x:w.x,y:w.y},t):k,connectionStatus:Xo(!!w,O),connectionEndHandle:l.endHandle}),!w&&!O&&!P)return Vo(M);I.source!==I.target&&P&&(Vo(M),M=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",O),P.classList.toggle("react-flow__handle-valid",O))}function T(e){var t,n;(w||P)&&I&&O&&(null===r||void 0===r||r(I)),null===(t=(n=a()).onConnectEnd)||void 0===t||t.call(n,e),l&&(null===u||void 0===u||u(e)),Vo(M),b(),cancelAnimationFrame(x),A=!1,O=!1,I=null,P=null,d.removeEventListener("mousemove",D),d.removeEventListener("mouseup",T),d.removeEventListener("touchmove",D),d.removeEventListener("touchend",T)}s({connectionPosition:k,connectionStatus:null,connectionNodeId:o,connectionHandleId:n,connectionHandleType:C,connectionStartHandle:{nodeId:o,handleId:n,type:C},connectionEndHandle:null}),null===v||void 0===v||v(t,{nodeId:o,handleId:n,handleType:C}),d.addEventListener("mousemove",D),d.addEventListener("mouseup",T),d.addEventListener("touchmove",D),d.addEventListener("touchend",T)}const Ho=()=>!0,Fo=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Go=(0,o.forwardRef)(((e,t)=>{let{type:n="source",position:i=so.Top,isValidConnection:a,isConnectable:s=!0,isConnectableStart:c=!0,isConnectableEnd:l=!0,id:u,onConnect:d,children:f,className:p,onMouseDown:g,onTouchStart:v,...m}=e;const y=u||null,b="target"===n,w=Mn(),x=(0,o.useContext)(So),{connectOnClick:E,noPanClassName:S}=Nn(Fo,h.x),{connecting:_,clickConnecting:C}=Nn(((e,t,n)=>o=>{const{connectionStartHandle:r,connectionEndHandle:i,connectionClickStartHandle:a}=o;return{connecting:(null===r||void 0===r?void 0:r.nodeId)===e&&(null===r||void 0===r?void 0:r.handleId)===t&&(null===r||void 0===r?void 0:r.type)===n||(null===i||void 0===i?void 0:i.nodeId)===e&&(null===i||void 0===i?void 0:i.handleId)===t&&(null===i||void 0===i?void 0:i.type)===n,clickConnecting:(null===a||void 0===a?void 0:a.nodeId)===e&&(null===a||void 0===a?void 0:a.handleId)===t&&(null===a||void 0===a?void 0:a.type)===n}})(x,y,n),h.x);var N,M;x||(null===(N=(M=w.getState()).onError)||void 0===N||N.call(M,"010",_n.error010()));const k=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:o}=w.getState(),r={...t,...e};if(o){const{edges:e,setEdges:t}=w.getState();t(((e,t)=>{if(!e.source||!e.target)return Kn(0,_n.error006()),t;let n;var o;return n="id"in(o=e)&&"source"in o&&"target"in o?{...e}:{...e,id:Co(e)},((e,t)=>t.some((t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle))))(n,t)?t:t.concat(n)})(r,e))}null===n||void 0===n||n(r),null===d||void 0===d||d(r)},A=e=>{if(!x)return;const t=Wn(e);c&&(t&&0===e.button||!t)&&Yo({event:e,handleId:y,nodeId:x,onConnect:k,isTarget:b,getState:w.getState,setState:w.setState,isValidConnection:a||w.getState().isValidConnection||Ho}),t?null===g||void 0===g||g(e):null===v||void 0===v||v(e)};return o.createElement("div",{"data-handleid":y,"data-nodeid":x,"data-handlepos":i,"data-id":"".concat(x,"-").concat(y,"-").concat(n),className:(0,r.A)(["react-flow__handle","react-flow__handle-".concat(i),"nodrag",S,p,{source:!b,target:b,connectable:s,connectablestart:c,connectableend:l,connecting:C,connectionindicator:s&&(c&&!_||l&&_)}]),onMouseDown:A,onTouchStart:A,onClick:E?e=>{const{onClickConnectStart:t,onClickConnectEnd:o,connectionClickStartHandle:r,connectionMode:i,isValidConnection:s}=w.getState();if(!x||!r&&!c)return;if(!r)return null===t||void 0===t||t(e,{nodeId:x,handleId:y,handleType:n}),void w.setState({connectionClickStartHandle:{nodeId:x,type:n,handleId:y}});const l=Bn(e.target),u=a||s||Ho,{connection:d,isValid:f}=Lo({nodeId:x,id:y,type:n},i,r.nodeId,r.handleId||null,r.type,u,l);f&&k(d),null===o||void 0===o||o(e),w.setState({connectionClickStartHandle:null})}:void 0,ref:t,...m},f)}));Go.displayName="Handle";var Zo=(0,o.memo)(Go);const Ko=e=>{let{data:t,isConnectable:n,targetPosition:r=so.Top,sourcePosition:i=so.Bottom}=e;return o.createElement(o.Fragment,null,o.createElement(Zo,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label,o.createElement(Zo,{type:"source",position:i,isConnectable:n}))};Ko.displayName="DefaultNode";var Uo=(0,o.memo)(Ko);const Wo=e=>{let{data:t,isConnectable:n,sourcePosition:r=so.Bottom}=e;return o.createElement(o.Fragment,null,null===t||void 0===t?void 0:t.label,o.createElement(Zo,{type:"source",position:r,isConnectable:n}))};Wo.displayName="InputNode";var qo=(0,o.memo)(Wo);const Qo=e=>{let{data:t,isConnectable:n,targetPosition:r=so.Top}=e;return o.createElement(o.Fragment,null,o.createElement(Zo,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label)};Qo.displayName="OutputNode";var Jo=(0,o.memo)(Qo);const $o=()=>null;$o.displayName="GroupNode";const er=e=>({selectedNodes:e.getNodes().filter((e=>e.selected)),selectedEdges:e.edges.filter((e=>e.selected)).map((e=>({...e})))}),tr=e=>e.id;function nr(e,t){return(0,h.x)(e.selectedNodes.map(tr),t.selectedNodes.map(tr))&&(0,h.x)(e.selectedEdges.map(tr),t.selectedEdges.map(tr))}const or=(0,o.memo)((e=>{let{onSelectionChange:t}=e;const n=Mn(),{selectedNodes:r,selectedEdges:i}=Nn(er,nr);return(0,o.useEffect)((()=>{const e={nodes:r,edges:i};null===t||void 0===t||t(e),n.getState().onSelectionChange.forEach((t=>t(e)))}),[r,i,t]),null}));or.displayName="SelectionListener";const rr=e=>!!e.onSelectionChange;function ir(e){let{onSelectionChange:t}=e;const n=Nn(rr);return t||n?o.createElement(or,{onSelectionChange:t}):null}const ar=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function sr(e,t){(0,o.useEffect)((()=>{"undefined"!==typeof e&&t(e)}),[e])}function cr(e,t,n){(0,o.useEffect)((()=>{"undefined"!==typeof t&&n({[e]:t})}),[t])}const lr=e=>{let{nodes:t,edges:n,defaultNodes:r,defaultEdges:i,onConnect:a,onConnectStart:s,onConnectEnd:c,onClickConnectStart:l,onClickConnectEnd:u,nodesDraggable:d,nodesConnectable:f,nodesFocusable:p,edgesFocusable:g,edgesUpdatable:v,elevateNodesOnSelect:m,minZoom:y,maxZoom:b,nodeExtent:w,onNodesChange:x,onEdgesChange:E,elementsSelectable:S,connectionMode:_,snapGrid:C,snapToGrid:N,translateExtent:M,connectOnClick:k,defaultEdgeOptions:A,fitView:I,fitViewOptions:O,onNodesDelete:P,onEdgesDelete:R,onNodeDrag:z,onNodeDragStart:D,onNodeDragStop:T,onSelectionDrag:B,onSelectionDragStart:L,onSelectionDragStop:j,noPanClassName:V,nodeOrigin:X,rfId:Y,autoPanOnConnect:H,autoPanOnNodeDrag:F,onError:G,connectionRadius:Z,isValidConnection:K,nodeDragThreshold:U}=e;const{setNodes:W,setEdges:q,setDefaultNodesAndEdges:Q,setMinZoom:J,setMaxZoom:$,setTranslateExtent:ee,setNodeExtent:te,reset:ne}=Nn(ar,h.x),oe=Mn();return(0,o.useEffect)((()=>{const e=null===i||void 0===i?void 0:i.map((e=>({...e,...A})));return Q(r,e),()=>{ne()}}),[]),cr("defaultEdgeOptions",A,oe.setState),cr("connectionMode",_,oe.setState),cr("onConnect",a,oe.setState),cr("onConnectStart",s,oe.setState),cr("onConnectEnd",c,oe.setState),cr("onClickConnectStart",l,oe.setState),cr("onClickConnectEnd",u,oe.setState),cr("nodesDraggable",d,oe.setState),cr("nodesConnectable",f,oe.setState),cr("nodesFocusable",p,oe.setState),cr("edgesFocusable",g,oe.setState),cr("edgesUpdatable",v,oe.setState),cr("elementsSelectable",S,oe.setState),cr("elevateNodesOnSelect",m,oe.setState),cr("snapToGrid",N,oe.setState),cr("snapGrid",C,oe.setState),cr("onNodesChange",x,oe.setState),cr("onEdgesChange",E,oe.setState),cr("connectOnClick",k,oe.setState),cr("fitViewOnInit",I,oe.setState),cr("fitViewOnInitOptions",O,oe.setState),cr("onNodesDelete",P,oe.setState),cr("onEdgesDelete",R,oe.setState),cr("onNodeDrag",z,oe.setState),cr("onNodeDragStart",D,oe.setState),cr("onNodeDragStop",T,oe.setState),cr("onSelectionDrag",B,oe.setState),cr("onSelectionDragStart",L,oe.setState),cr("onSelectionDragStop",j,oe.setState),cr("noPanClassName",V,oe.setState),cr("nodeOrigin",X,oe.setState),cr("rfId",Y,oe.setState),cr("autoPanOnConnect",H,oe.setState),cr("autoPanOnNodeDrag",F,oe.setState),cr("onError",G,oe.setState),cr("connectionRadius",Z,oe.setState),cr("isValidConnection",K,oe.setState),cr("nodeDragThreshold",U,oe.setState),sr(t,W),sr(n,q),sr(y,J),sr(b,$),sr(M,ee),sr(w,te),null},ur={display:"none"},dr={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fr="react-flow__node-desc",hr="react-flow__edge-desc",pr="react-flow__aria-live",gr=e=>e.ariaLiveMessage;function vr(e){let{rfId:t}=e;const n=Nn(gr);return o.createElement("div",{id:"".concat(pr,"-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:dr},n)}function mr(e){let{rfId:t,disableKeyboardA11y:n}=e;return o.createElement(o.Fragment,null,o.createElement("div",{id:"".concat(fr,"-").concat(t),style:ur},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),o.createElement("div",{id:"".concat(hr,"-").concat(t),style:ur},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&o.createElement(vr,{rfId:t}))}var yr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[n,r]=(0,o.useState)(!1),i=(0,o.useRef)(!1),a=(0,o.useRef)(new Set([])),[s,c]=(0,o.useMemo)((()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter((e=>"string"===typeof e)).map((e=>e.split("+"))),n=t.reduce(((e,t)=>e.concat(...t)),[]);return[t,n]}return[[],[]]}),[e]);return(0,o.useEffect)((()=>{const n="undefined"!==typeof document?document:null,o=(null===t||void 0===t?void 0:t.target)||n;if(null!==e){const e=e=>{i.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!i.current||i.current&&!t.actInsideInputWithModifier)&&Un(e))return!1;const n=wr(e.code,c);a.current.add(e[n]),br(s,a.current,!1)&&(e.preventDefault(),r(!0))},n=e=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&Un(e))return!1;const n=wr(e.code,c);br(s,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(e[n]),"Meta"===e.key&&a.current.clear(),i.current=!1},l=()=>{a.current.clear(),r(!1)};return null===o||void 0===o||o.addEventListener("keydown",e),null===o||void 0===o||o.addEventListener("keyup",n),window.addEventListener("blur",l),()=>{null===o||void 0===o||o.removeEventListener("keydown",e),null===o||void 0===o||o.removeEventListener("keyup",n),window.removeEventListener("blur",l)}}}),[e,r]),n};function br(e,t,n){return e.filter((e=>n||e.length===t.size)).some((e=>e.every((e=>t.has(e)))))}function wr(e,t){return t.includes(e)?"code":"key"}function xr(e,t,n,o){var r,i,a,s,c,l,u,d;const f=e.parentNode||e.parentId;if(!f)return n;const h=t.get(f),p=Ao(h,o);return xr(h,t,{x:(null!==(r=n.x)&&void 0!==r?r:0)+p.x,y:(null!==(i=n.y)&&void 0!==i?i:0)+p.y,z:(null!==(a=null===(s=h[Gn])||void 0===s?void 0:s.z)&&void 0!==a?a:0)>(null!==(c=n.z)&&void 0!==c?c:0)?null!==(l=null===(u=h[Gn])||void 0===u?void 0:u.z)&&void 0!==l?l:0:null!==(d=n.z)&&void 0!==d?d:0},o)}function Er(e,t,n){e.forEach((o=>{const r=o.parentNode||o.parentId;if(r&&!e.has(r))throw new Error("Parent node ".concat(r," not found"));if(r||null!==n&&void 0!==n&&n[o.id]){var i,a;const{x:r,y:s,z:c}=xr(o,e,{...o.position,z:null!==(i=null===(a=o[Gn])||void 0===a?void 0:a.z)&&void 0!==i?i:0},t);o.positionAbsolute={x:r,y:s},o[Gn].z=c,null!==n&&void 0!==n&&n[o.id]&&(o[Gn].isParent=!0)}}))}function Sr(e,t,n,o){const r=new Map,i={},a=o?1e3:0;return e.forEach((e=>{var n;const o=(Fn(e.zIndex)?e.zIndex:0)+(e.selected?a:0),s=t.get(e.id),c={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},l=e.parentNode||e.parentId;l&&(i[l]=!0);const u=(null===s||void 0===s?void 0:s.type)&&(null===s||void 0===s?void 0:s.type)!==e.type;Object.defineProperty(c,Gn,{enumerable:!1,value:{handleBounds:u||null===s||void 0===s||null===(n=s[Gn])||void 0===n?void 0:n.handleBounds,z:o}}),r.set(e.id,c)})),Er(r,n,i),r}function _r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:o,height:r,minZoom:i,maxZoom:a,d3Zoom:s,d3Selection:c,fitViewOnInitDone:l,fitViewOnInit:u,nodeOrigin:d}=e(),f=t.initial&&!l&&u;if(s&&c&&(f||!t.initial)){const e=n().filter((e=>{var n;const o=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return null!==(n=t.nodes)&&void 0!==n&&n.length?o&&t.nodes.some((t=>t.id===e.id)):o})),l=e.every((e=>e.width&&e.height));if(e.length>0&&l){var h,p,g;const n=Io(e,d),{x:l,y:u,zoom:f}=Ro(n,o,r,null!==(h=t.minZoom)&&void 0!==h?h:i,null!==(p=t.maxZoom)&&void 0!==p?p:a,null!==(g=t.padding)&&void 0!==g?g:.1),v=sn.translate(l,u).scale(f);return"number"===typeof t.duration&&t.duration>0?s.transform(zo(c,t.duration),v):s.transform(c,v),!0}}return!1}function Cr(e,t){return e.forEach((e=>{const n=t.get(e.id);n&&t.set(n.id,{...n,[Gn]:n[Gn],selected:e.selected})})),new Map(t)}function Nr(e,t){return t.map((t=>{const n=e.find((e=>e.id===t.id));return n&&(t.selected=n.selected),t}))}function Mr(e){let{changedNodes:t,changedEdges:n,get:o,set:r}=e;const{nodeInternals:i,edges:a,onNodesChange:s,onEdgesChange:c,hasDefaultNodes:l,hasDefaultEdges:u}=o();null!==t&&void 0!==t&&t.length&&(l&&r({nodeInternals:Cr(t,i)}),null===s||void 0===s||s(t)),null!==n&&void 0!==n&&n.length&&(u&&r({edges:Nr(n,a)}),null===c||void 0===c||c(n))}const kr=()=>{},Ar={zoomIn:kr,zoomOut:kr,zoomTo:kr,getZoom:()=>1,setViewport:kr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:kr,fitBounds:kr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Ir=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Or=()=>{const e=Mn(),{d3Zoom:t,d3Selection:n}=Nn(Ir,h.x),r=(0,o.useMemo)((()=>n&&t?{zoomIn:e=>t.scaleBy(zo(n,null===e||void 0===e?void 0:e.duration),1.2),zoomOut:e=>t.scaleBy(zo(n,null===e||void 0===e?void 0:e.duration),1/1.2),zoomTo:(e,o)=>t.scaleTo(zo(n,null===o||void 0===o?void 0:o.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(o,r)=>{var i,a,s;const[c,l,u]=e.getState().transform,d=sn.translate(null!==(i=o.x)&&void 0!==i?i:c,null!==(a=o.y)&&void 0!==a?a:l).scale(null!==(s=o.zoom)&&void 0!==s?s:u);t.transform(zo(n,null===r||void 0===r?void 0:r.duration),d)},getViewport:()=>{const[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},fitView:t=>_r(e.getState,t),setCenter:(o,r,i)=>{const{width:a,height:s,maxZoom:c}=e.getState(),l="undefined"!==typeof(null===i||void 0===i?void 0:i.zoom)?i.zoom:c,u=a/2-o*l,d=s/2-r*l,f=sn.translate(u,d).scale(l);t.transform(zo(n,null===i||void 0===i?void 0:i.duration),f)},fitBounds:(o,r)=>{var i;const{width:a,height:s,minZoom:c,maxZoom:l}=e.getState(),{x:u,y:d,zoom:f}=Ro(o,a,s,c,l,null!==(i=null===r||void 0===r?void 0:r.padding)&&void 0!==i?i:.1),h=sn.translate(u,d).scale(f);t.transform(zo(n,null===r||void 0===r?void 0:r.duration),h)},project:t=>{const{transform:n,snapToGrid:o,snapGrid:r}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Mo(t,n,o,r)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:o,snapGrid:r,domNode:i}=e.getState();if(!i)return t;const{x:a,y:s}=i.getBoundingClientRect(),c={x:t.x-a,y:t.y-s};return Mo(c,n,o,r)},flowToScreenPosition:t=>{const{transform:n,domNode:o}=e.getState();if(!o)return t;const{x:r,y:i}=o.getBoundingClientRect(),a=ko(t,n);return{x:a.x+r,y:a.y+i}},viewportInitialized:!0}:Ar),[t,n]);return r};function Pr(){const e=Or(),t=Mn(),n=(0,o.useCallback)((()=>t.getState().getNodes().map((e=>({...e})))),[]),r=(0,o.useCallback)((e=>t.getState().nodeInternals.get(e)),[]),i=(0,o.useCallback)((()=>{const{edges:e=[]}=t.getState();return e.map((e=>({...e})))}),[]),a=(0,o.useCallback)((e=>{const{edges:n=[]}=t.getState();return n.find((t=>t.id===e))}),[]),s=(0,o.useCallback)((e=>{const{getNodes:n,setNodes:o,hasDefaultNodes:r,onNodesChange:i}=t.getState(),a=n(),s="function"===typeof e?e(a):e;if(r)o(s);else if(i){const e=0===s.length?a.map((e=>({type:"remove",id:e.id}))):s.map((e=>({item:e,type:"reset"})));i(e)}}),[]),c=(0,o.useCallback)((e=>{const{edges:n=[],setEdges:o,hasDefaultEdges:r,onEdgesChange:i}=t.getState(),a="function"===typeof e?e(n):e;if(r)o(a);else if(i){i(0===a.length?n.map((e=>({type:"remove",id:e.id}))):a.map((e=>({item:e,type:"reset"}))))}}),[]),l=(0,o.useCallback)((e=>{const n=Array.isArray(e)?e:[e],{getNodes:o,setNodes:r,hasDefaultNodes:i,onNodesChange:a}=t.getState();if(i){r([...o(),...n])}else if(a){const e=n.map((e=>({item:e,type:"add"})));a(e)}}),[]),u=(0,o.useCallback)((e=>{const n=Array.isArray(e)?e:[e],{edges:o=[],setEdges:r,hasDefaultEdges:i,onEdgesChange:a}=t.getState();if(i)r([...o,...n]);else if(a){a(n.map((e=>({item:e,type:"add"}))))}}),[]),d=(0,o.useCallback)((()=>{const{getNodes:e,edges:n=[],transform:o}=t.getState(),[r,i,a]=o;return{nodes:e().map((e=>({...e}))),edges:n.map((e=>({...e}))),viewport:{x:r,y:i,zoom:a}}}),[]),f=(0,o.useCallback)((e=>{let{nodes:n,edges:o}=e;const{nodeInternals:r,getNodes:i,edges:a,hasDefaultNodes:s,hasDefaultEdges:c,onNodesDelete:l,onEdgesDelete:u,onNodesChange:d,onEdgesChange:f}=t.getState(),h=(n||[]).map((e=>e.id)),p=(o||[]).map((e=>e.id)),g=i().reduce(((e,t)=>{const n=t.parentNode||t.parentId,o=!h.includes(t.id)&&n&&e.find((e=>e.id===n));return("boolean"!==typeof t.deletable||t.deletable)&&(h.includes(t.id)||o)&&e.push(t),e}),[]),v=a.filter((e=>"boolean"!==typeof e.deletable||e.deletable)),m=v.filter((e=>p.includes(e.id)));if(g||m){const e=Po(g,v),n=[...m,...e],o=n.reduce(((e,t)=>(e.includes(t.id)||e.push(t.id),e)),[]);if((c||s)&&(c&&t.setState({edges:a.filter((e=>!o.includes(e.id)))}),s&&(g.forEach((e=>{r.delete(e.id)})),t.setState({nodeInternals:new Map(r)}))),o.length>0&&(null===u||void 0===u||u(n),f&&f(o.map((e=>({id:e,type:"remove"}))))),g.length>0&&(null===l||void 0===l||l(g),d)){d(g.map((e=>({id:e.id,type:"remove"}))))}}}),[]),h=(0,o.useCallback)((e=>{const n=Hn(e),o=n?null:t.getState().nodeInternals.get(e.id);if(!n&&!o)return[null,null,n];return[n?e:Xn(o),o,n]}),[]),p=(0,o.useCallback)((function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0;const[r,i,a]=h(e);return r?(o||t.getState().getNodes()).filter((e=>{if(!a&&(e.id===i.id||!e.positionAbsolute))return!1;const t=Xn(e),o=Yn(t,r);return n&&o>0||o>=r.width*r.height})):[]}),[]),g=(0,o.useCallback)((function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[o]=h(e);if(!o)return!1;const r=Yn(o,t);return n&&r>0||r>=o.width*o.height}),[]);return(0,o.useMemo)((()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:a,setNodes:s,setEdges:c,addNodes:l,addEdges:u,toObject:d,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:g})),[e,n,r,i,a,s,c,l,u,d,f,p,g])}const Rr={actInsideInputWithModifier:!1};const zr={position:"absolute",width:"100%",height:"100%",top:0,left:0},Dr=e=>({x:e.x,y:e.y,zoom:e.k}),Tr=(e,t)=>e.target.closest(".".concat(t)),Br=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),Lr=e=>{const t=e.ctrlKey&&Qn()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},jr=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),Vr=e=>{let{onMove:t,onMoveStart:n,onMoveEnd:r,onPaneContextMenu:i,zoomOnScroll:a=!0,zoomOnPinch:s=!0,panOnScroll:c=!1,panOnScrollSpeed:l=.5,panOnScrollMode:u=oo.Free,zoomOnDoubleClick:d=!0,elementsSelectable:f,panOnDrag:p=!0,defaultViewport:g,translateExtent:v,minZoom:m,maxZoom:y,zoomActivationKeyCode:w,preventScrolling:x=!0,children:E,noWheelClassName:S,noPanClassName:_}=e;const C=(0,o.useRef)(),N=Mn(),M=(0,o.useRef)(!1),k=(0,o.useRef)(!1),A=(0,o.useRef)(null),I=(0,o.useRef)({x:0,y:0,zoom:0}),{d3Zoom:O,d3Selection:P,d3ZoomHandler:R,userSelectionActive:z}=Nn(jr,h.x),D=yr(w),T=(0,o.useRef)(0),B=(0,o.useRef)(!1),L=(0,o.useRef)();return function(e){const t=Mn();(0,o.useEffect)((()=>{let n;const o=()=>{if(!e.current)return;const n=Pn(e.current);var o,r;0!==n.height&&0!==n.width||null===(o=(r=t.getState()).onError)||void 0===o||o.call(r,"004",_n.error004()),t.setState({width:n.width||500,height:n.height||500})};return o(),window.addEventListener("resize",o),e.current&&(n=new ResizeObserver((()=>o())),n.observe(e.current)),()=>{window.removeEventListener("resize",o),n&&e.current&&n.unobserve(e.current)}}),[])}(A),(0,o.useEffect)((()=>{if(A.current){const e=A.current.getBoundingClientRect(),t=function(){var e,t,n,o=un,r=dn,i=gn,a=hn,s=pn,c=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Xe,f=b("start","zoom","end"),h=500,p=150,g=0,v=10;function m(e){e.property("__zoom",fn).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",M).filter(s).on("touchstart.zoom",k).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(e,t){return(t=Math.max(c[0],Math.min(c[1],t)))===e.k?e:new an(t,e.x,e.y)}function w(e,t,n){var o=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return o===e.x&&r===e.y?e:new an(e.k,o,r)}function x(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function E(e,t,n,o){e.on("start.zoom",(function(){S(this,arguments).event(o).start()})).on("interrupt.zoom end.zoom",(function(){S(this,arguments).event(o).end()})).tween("zoom",(function(){var e=this,i=arguments,a=S(e,i).event(o),s=r.apply(e,i),c=null==n?x(s):"function"===typeof n?n.apply(e,i):n,l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=e.__zoom,f="function"===typeof t?t.apply(e,i):t,h=d(u.invert(c).concat(l/u.k),f.invert(c).concat(l/f.k));return function(e){if(1===e)e=f;else{var t=h(e),n=l/t[2];e=new an(n,c[0]-t[0]*n,c[1]-t[1]*n)}a.zoom(null,e)}}))}function S(e,t,n){return!n&&e.__zooming||new _(e,t)}function _(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=r.apply(e,t),this.taps=0}function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(o.apply(this,arguments)){var s=S(this,n).event(e),u=this.__zoom,d=Math.max(c[0],Math.min(c[1],u.k*Math.pow(2,a.apply(this,arguments)))),f=Ye(e);if(s.wheel)s.mouse[0][0]===f[0]&&s.mouse[0][1]===f[1]||(s.mouse[1]=u.invert(s.mouse[0]=f)),clearTimeout(s.wheel);else{if(u.k===d)return;s.mouse=[f,u.invert(f)],xt(this),s.start()}ln(e),s.wheel=setTimeout((function(){s.wheel=null,s.end()}),p),s.zoom("mouse",i(w(y(u,d),s.mouse[0],s.mouse[1]),s.extent,l))}}function N(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(!n&&o.apply(this,arguments)){var s=e.currentTarget,c=S(this,r,!0).event(e),u=Re(e.view).on("mousemove.zoom",(function(e){if(ln(e),!c.moved){var t=e.clientX-f,n=e.clientY-h;c.moved=t*t+n*n>g}c.event(e).zoom("mouse",i(w(c.that.__zoom,c.mouse[0]=Ye(e,s),c.mouse[1]),c.extent,l))}),!0).on("mouseup.zoom",(function(e){u.on("mousemove.zoom mouseup.zoom",null),je(e.view,c.moved),ln(e),c.event(e).end()}),!0),d=Ye(e,s),f=e.clientX,h=e.clientY;Le(e.view),cn(e),c.mouse=[d,this.__zoom.invert(d)],xt(this),c.start()}}function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(o.apply(this,arguments)){var s=this.__zoom,c=Ye(e.changedTouches?e.changedTouches[0]:e,this),d=s.invert(c),f=s.k*(e.shiftKey?.5:2),h=i(w(y(s,f),c,d),r.apply(this,n),l);ln(e),u>0?Re(this).transition().duration(u).call(E,h,c,e):Re(this).call(m.transform,h,c,e)}}function k(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(o.apply(this,arguments)){var s,c,l,u,d=n.touches,f=d.length,p=S(this,i,n.changedTouches.length===f).event(n);for(cn(n),c=0;c<f;++c)u=[u=Ye(l=d[c],this),this.__zoom.invert(u),l.identifier],p.touch0?p.touch1||p.touch0[2]===u[2]||(p.touch1=u,p.taps=0):(p.touch0=u,s=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(p.taps<2&&(t=u[0],e=setTimeout((function(){e=null}),h)),xt(this),p.start())}}function A(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r,a,s,c,u=S(this,n).event(e),d=e.changedTouches,f=d.length;for(ln(e),r=0;r<f;++r)s=Ye(a=d[r],this),u.touch0&&u.touch0[2]===a.identifier?u.touch0[0]=s:u.touch1&&u.touch1[2]===a.identifier&&(u.touch1[0]=s);if(a=u.that.__zoom,u.touch1){var h=u.touch0[0],p=u.touch0[1],g=u.touch1[0],v=u.touch1[1],m=(m=g[0]-h[0])*m+(m=g[1]-h[1])*m,b=(b=v[0]-p[0])*b+(b=v[1]-p[1])*b;a=y(a,Math.sqrt(m/b)),s=[(h[0]+g[0])/2,(h[1]+g[1])/2],c=[(p[0]+v[0])/2,(p[1]+v[1])/2]}else{if(!u.touch0)return;s=u.touch0[0],c=u.touch0[1]}u.zoom("touch",i(w(a,s,c),u.extent,l))}}function I(e){for(var o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];if(this.__zooming){var a,s,c=S(this,r).event(e),l=e.changedTouches,u=l.length;for(cn(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),h),a=0;a<u;++a)s=l[a],c.touch0&&c.touch0[2]===s.identifier?delete c.touch0:c.touch1&&c.touch1[2]===s.identifier&&delete c.touch1;if(c.touch1&&!c.touch0&&(c.touch0=c.touch1,delete c.touch1),c.touch0)c.touch0[1]=this.__zoom.invert(c.touch0[0]);else if(c.end(),2===c.taps&&(s=Ye(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<v)){var d=Re(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return m.transform=function(e,t,n,o){var r=e.selection?e.selection():e;r.property("__zoom",fn),e!==r?E(e,t,n,o):r.interrupt().each((function(){S(this,arguments).event(o).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,o){m.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,o)},m.scaleTo=function(e,t,n,o){m.transform(e,(function(){var e=r.apply(this,arguments),o=this.__zoom,a=null==n?x(e):"function"===typeof n?n.apply(this,arguments):n,s=o.invert(a),c="function"===typeof t?t.apply(this,arguments):t;return i(w(y(o,c),a,s),e,l)}),n,o)},m.translateBy=function(e,t,n,o){m.transform(e,(function(){return i(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),r.apply(this,arguments),l)}),null,o)},m.translateTo=function(e,t,n,o,a){m.transform(e,(function(){var e=r.apply(this,arguments),a=this.__zoom,s=null==o?x(e):"function"===typeof o?o.apply(this,arguments):o;return i(sn.translate(s[0],s[1]).scale(a.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,l)}),o,a)},_.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Re(this.that).datum();f.call(e,this.that,new rn(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:f}),t)}},m.wheelDelta=function(e){return arguments.length?(a="function"===typeof e?e:on(+e),m):a},m.filter=function(e){return arguments.length?(o="function"===typeof e?e:on(!!e),m):o},m.touchable=function(e){return arguments.length?(s="function"===typeof e?e:on(!!e),m):s},m.extent=function(e){return arguments.length?(r="function"===typeof e?e:on([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):r},m.scaleExtent=function(e){return arguments.length?(c[0]=+e[0],c[1]=+e[1],m):[c[0],c[1]]},m.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(u=+e,m):u},m.interpolate=function(e){return arguments.length?(d=e,m):d},m.on=function(){var e=f.on.apply(f,arguments);return e===f?m:e},m.clickDistance=function(e){return arguments.length?(g=(e=+e)*e,m):Math.sqrt(g)},m.tapDistance=function(e){return arguments.length?(v=+e,m):v},m}().scaleExtent([m,y]).translateExtent(v),n=Re(A.current).call(t),o=sn.translate(g.x,g.y).scale(Rn(g.zoom,m,y)),r=[[0,0],[e.width,e.height]],i=t.constrain()(o,r,v);t.transform(n,i),t.wheelDelta(Lr),N.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[i.x,i.y,i.k],domNode:A.current.closest(".react-flow")})}}),[]),(0,o.useEffect)((()=>{P&&O&&(!c||D||z?"undefined"!==typeof R&&P.on("wheel.zoom",(function(e,t){if(!x&&"wheel"===e.type&&!e.ctrlKey||Tr(e,S))return null;e.preventDefault(),R.call(this,e,t)}),{passive:!1}):P.on("wheel.zoom",(e=>{if(Tr(e,S))return!1;e.preventDefault(),e.stopImmediatePropagation();const o=P.property("__zoom").k||1;if(e.ctrlKey&&s){const t=Ye(e),n=Lr(e),r=o*Math.pow(2,n);return void O.scaleTo(P,r,t,e)}const i=1===e.deltaMode?20:1;let a=u===oo.Vertical?0:e.deltaX*i,c=u===oo.Horizontal?0:e.deltaY*i;!Qn()&&e.shiftKey&&u!==oo.Vertical&&(a=e.deltaY*i,c=0),O.translateBy(P,-a/o*l,-c/o*l,{internal:!0});const d=Dr(P.property("__zoom")),{onViewportChangeStart:f,onViewportChange:h,onViewportChangeEnd:p}=N.getState();clearTimeout(L.current),B.current||(B.current=!0,null===n||void 0===n||n(e,d),null===f||void 0===f||f(d)),B.current&&(null===t||void 0===t||t(e,d),null===h||void 0===h||h(d),L.current=setTimeout((()=>{null===r||void 0===r||r(e,d),null===p||void 0===p||p(d),B.current=!1}),150))}),{passive:!1}))}),[z,c,u,P,O,R,D,s,x,S,n,t,r]),(0,o.useEffect)((()=>{O&&O.on("start",(e=>{var t,o;if(!e.sourceEvent||e.sourceEvent.internal)return null;T.current=null===(t=e.sourceEvent)||void 0===t?void 0:t.button;const{onViewportChangeStart:r}=N.getState(),i=Dr(e.transform);M.current=!0,I.current=i,"mousedown"===(null===(o=e.sourceEvent)||void 0===o?void 0:o.type)&&N.setState({paneDragging:!0}),null===r||void 0===r||r(i),null===n||void 0===n||n(e.sourceEvent,i)}))}),[O,n]),(0,o.useEffect)((()=>{O&&(z&&!M.current?O.on("zoom",null):z||O.on("zoom",(e=>{var n,o;const{onViewportChange:r}=N.getState();if(N.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),k.current=!(!i||!Br(p,null!==(n=T.current)&&void 0!==n?n:0)),(t||r)&&(null===(o=e.sourceEvent)||void 0===o||!o.internal)){const n=Dr(e.transform);null===r||void 0===r||r(n),null===t||void 0===t||t(e.sourceEvent,n)}})))}),[z,O,t,p,i]),(0,o.useEffect)((()=>{O&&O.on("end",(e=>{var t;if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:n}=N.getState();if(M.current=!1,N.setState({paneDragging:!1}),i&&Br(p,null!==(t=T.current)&&void 0!==t?t:0)&&!k.current&&i(e.sourceEvent),k.current=!1,(r||n)&&(o=I.current,a=e.transform,o.x!==a.x||o.y!==a.y||o.zoom!==a.k)){const t=Dr(e.transform);I.current=t,clearTimeout(C.current),C.current=setTimeout((()=>{null===n||void 0===n||n(t),null===r||void 0===r||r(e.sourceEvent,t)}),c?150:0)}var o,a}))}),[O,c,p,r,i]),(0,o.useEffect)((()=>{O&&O.filter((e=>{const t=D||a,n=s&&e.ctrlKey;if((!0===p||Array.isArray(p)&&p.includes(1))&&1===e.button&&"mousedown"===e.type&&(Tr(e,"react-flow__node")||Tr(e,"react-flow__edge")))return!0;if(!p&&!t&&!c&&!d&&!s)return!1;if(z)return!1;if(!d&&"dblclick"===e.type)return!1;if(Tr(e,S)&&"wheel"===e.type)return!1;if(Tr(e,_)&&("wheel"!==e.type||c&&"wheel"===e.type&&!D))return!1;if(!s&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!c&&!n&&"wheel"===e.type)return!1;if(!p&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(p)&&!p.includes(e.button)&&"mousedown"===e.type)return!1;const o=Array.isArray(p)&&p.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&o}))}),[z,O,a,s,c,d,p,f,D]),o.createElement("div",{className:"react-flow__renderer",ref:A,style:zr},E)},Xr=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Yr(){const{userSelectionActive:e,userSelectionRect:t}=Nn(Xr,h.x);return e&&t?o.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null}function Hr(e,t){const n=t.parentNode||t.parentId,o=e.find((e=>e.id===n));if(o){const e=t.position.x+t.width-o.width,n=t.position.y+t.height-o.height;if(e>0||n>0||t.position.x<0||t.position.y<0){var r,i;if(o.style={...o.style}||{},o.style.width=null!==(r=o.style.width)&&void 0!==r?r:o.width,o.style.height=null!==(i=o.style.height)&&void 0!==i?i:o.height,e>0&&(o.style.width+=e),n>0&&(o.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);o.position.x=o.position.x-e,o.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);o.position.y=o.position.y-e,o.style.height+=e,t.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function Fr(e,t){if(e.some((e=>"reset"===e.type)))return e.filter((e=>"reset"===e.type)).map((e=>e.item));const n=e.filter((e=>"add"===e.type)).map((e=>e.item));return t.reduce(((t,n)=>{const o=e.filter((e=>e.id===n.id));if(0===o.length)return t.push(n),t;const r={...n};for(const e of o)if(e)switch(e.type){case"select":r.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(r.position=e.position),"undefined"!==typeof e.positionAbsolute&&(r.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(r.dragging=e.dragging),r.expandParent&&Hr(t,r);break;case"dimensions":"undefined"!==typeof e.dimensions&&(r.width=e.dimensions.width,r.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(r.style={...r.style||{},...e.dimensions}),"boolean"===typeof e.resizing&&(r.resizing=e.resizing),r.expandParent&&Hr(t,r);break;case"remove":return t}return t.push(r),t}),n)}function Gr(e,t){return Fr(e,t)}const Zr=(e,t)=>({id:e,type:"select",selected:t});function Kr(e,t){return e.reduce(((e,n)=>{const o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,e.push(Zr(n.id,!0))):n.selected&&!o&&(n.selected=!1,e.push(Zr(n.id,!1))),e}),[])}const Ur=(e,t)=>n=>{n.target===t.current&&(null===e||void 0===e||e(n))},Wr=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),qr=(0,o.memo)((e=>{let{isSelecting:t,selectionMode:n=ro.Full,panOnDrag:i,onSelectionStart:a,onSelectionEnd:s,onPaneClick:c,onPaneContextMenu:l,onPaneScroll:u,onPaneMouseEnter:d,onPaneMouseMove:f,onPaneMouseLeave:p,children:g}=e;const v=(0,o.useRef)(null),m=Mn(),y=(0,o.useRef)(0),b=(0,o.useRef)(0),w=(0,o.useRef)(),{userSelectionActive:x,elementsSelectable:E,dragging:S}=Nn(Wr,h.x),_=()=>{m.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,b.current=0},C=e=>{null===c||void 0===c||c(e),m.getState().resetSelectedElements(),m.setState({nodesSelectionActive:!1})},N=u?e=>u(e):void 0,M=E&&(t||x);return o.createElement("div",{className:(0,r.A)(["react-flow__pane",{dragging:S,selection:t}]),onClick:M?void 0:Ur(C,v),onContextMenu:Ur((e=>{Array.isArray(i)&&null!==i&&void 0!==i&&i.includes(2)?e.preventDefault():null===l||void 0===l||l(e)}),v),onWheel:Ur(N,v),onMouseEnter:M?void 0:d,onMouseDown:M?e=>{const{resetSelectedElements:n,domNode:o}=m.getState();if(w.current=null===o||void 0===o?void 0:o.getBoundingClientRect(),!E||!t||0!==e.button||e.target!==v.current||!w.current)return;const{x:r,y:i}=qn(e,w.current);n(),m.setState({userSelectionRect:{width:0,height:0,startX:r,startY:i,x:r,y:i}}),null===a||void 0===a||a(e)}:void 0,onMouseMove:M?e=>{var o,r;const{userSelectionRect:i,nodeInternals:a,edges:s,transform:c,onNodesChange:l,onEdgesChange:u,nodeOrigin:d,getNodes:f}=m.getState();if(!t||!w.current||!i)return;m.setState({userSelectionActive:!0,nodesSelectionActive:!1});const h=qn(e,w.current),p=null!==(o=i.startX)&&void 0!==o?o:0,g=null!==(r=i.startY)&&void 0!==r?r:0,v={...i,x:h.x<p?h.x:p,y:h.y<g?h.y:g,width:Math.abs(h.x-p),height:Math.abs(h.y-g)},x=f(),E=Oo(a,v,c,n===ro.Partial,!0,d),S=Po(E,s).map((e=>e.id)),_=E.map((e=>e.id));if(y.current!==_.length){y.current=_.length;const e=Kr(x,_);e.length&&(null===l||void 0===l||l(e))}if(b.current!==S.length){b.current=S.length;const e=Kr(s,S);e.length&&(null===u||void 0===u||u(e))}m.setState({userSelectionRect:v})}:f,onMouseUp:M?e=>{if(0!==e.button)return;const{userSelectionRect:t}=m.getState();!x&&t&&e.target===v.current&&(null===C||void 0===C||C(e)),m.setState({nodesSelectionActive:y.current>0}),_(),null===s||void 0===s||s(e)}:void 0,onMouseLeave:M?e=>{x&&(m.setState({nodesSelectionActive:y.current>0}),null===s||void 0===s||s(e)),_()}:p,ref:v,style:zr},g,o.createElement(Yr,null))}));function Qr(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const o=t.get(n);return!!o&&(!!o.selected||Qr(o,t))}function Jr(e,t,n){let o=e;do{var r;if(null!==(r=o)&&void 0!==r&&r.matches(t))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function $r(e,t,n,o){return Array.from(e.values()).filter((n=>(n.selected||n.id===o)&&(!n.parentNode||n.parentId||!Qr(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable))).map((e=>{var t,o,r,i;return{id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(null!==(t=null===(o=e.positionAbsolute)||void 0===o?void 0:o.x)&&void 0!==t?t:0),y:n.y-(null!==(r=null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)&&void 0!==r?r:0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent}}))}function ei(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],i=arguments.length>5?arguments[5]:void 0;const a=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||o);let s=a;const c=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&c&&"parent"!==e.extent){const t=n.get(c),{x:o,y:i}=Ao(t,r).positionAbsolute;s=[[e.extent[0][0]+o,e.extent[0][1]+i],[e.extent[1][0]+o,e.extent[1][1]+i]]}}else if(c&&e.width&&e.height){const t=n.get(c),{x:o,y:i}=Ao(t,r).positionAbsolute;s=t&&Fn(o)&&Fn(i)&&Fn(t.width)&&Fn(t.height)?[[o+e.width*r[0],i+e.height*r[1]],[o+t.width-e.width+e.width*r[0],i+t.height-e.height+e.height*r[1]]]:s}else null===i||void 0===i||i("005",_n.error005()),s=a;let l={x:0,y:0};if(c){const e=n.get(c);l=Ao(e,r).positionAbsolute}const u=s&&"parent"!==s?zn(t,s):t;return{position:{x:u.x-l.x,y:u.y-l.y},positionAbsolute:u}}function ti(e){let{nodeId:t,dragItems:n,nodeInternals:o}=e;const r=n.map((e=>({...o.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute})));return[t?r.find((e=>e.id===t)):r[0],r]}qr.displayName="Pane";const ni=(e,t,n,o)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const i=Array.from(r),a=t.getBoundingClientRect(),s=a.width*o[0],c=a.height*o[1];return i.map((e=>{const t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-a.left-s)/n,y:(t.top-a.top-c)/n,...Pn(e)}}))};function oi(e,t,n){return void 0===n?n:o=>{const r=t().nodeInternals.get(e);r&&n(o,{...r})}}function ri(e){let{id:t,store:n,unselect:o=!1,nodeRef:r}=e;const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:s,nodeInternals:c,onError:l}=n.getState(),u=c.get(t);u?(n.setState({nodesSelectionActive:!1}),u.selected?(o||u.selected&&s)&&(a({nodes:[u],edges:[]}),requestAnimationFrame((()=>{var e;return null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.blur()}))):i([t])):null===l||void 0===l||l("012",_n.error012(t))}function ii(e){return(t,n,o)=>null===e||void 0===e?void 0:e(t,o)}function ai(e){let{nodeRef:t,disabled:n=!1,noDragClassName:r,handleSelector:i,nodeId:a,isSelectable:s,selectNodesOnDrag:c}=e;const l=Mn(),[u,d]=(0,o.useState)(!1),f=(0,o.useRef)([]),h=(0,o.useRef)({x:null,y:null}),p=(0,o.useRef)(0),g=(0,o.useRef)(null),v=(0,o.useRef)({x:0,y:0}),m=(0,o.useRef)(null),y=(0,o.useRef)(!1),w=(0,o.useRef)(!1),x=(0,o.useRef)(!1),E=function(){const e=Mn(),t=(0,o.useCallback)((t=>{let{sourceEvent:n}=t;const{transform:o,snapGrid:r,snapToGrid:i}=e.getState(),a=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,c={x:(a-o[0])/o[2],y:(s-o[1])/o[2]};return{xSnapped:i?r[0]*Math.round(c.x/r[0]):c.x,ySnapped:i?r[1]*Math.round(c.y/r[1]):c.y,...c}}),[]);return t}();return(0,o.useEffect)((()=>{if(null!==t&&void 0!==t&&t.current){const e=Re(t.current),o=e=>{let{x:t,y:n}=e;const{nodeInternals:o,onNodeDrag:r,onSelectionDrag:i,updateNodePositions:s,nodeExtent:c,snapGrid:u,snapToGrid:p,nodeOrigin:g,onError:v}=l.getState();h.current={x:t,y:n};let y=!1,b={x:0,y:0,x2:0,y2:0};if(f.current.length>1&&c){const e=Io(f.current,g);b=jn(e)}if(f.current=f.current.map((e=>{const r={x:t-e.distance.x,y:n-e.distance.y};p&&(r.x=u[0]*Math.round(r.x/u[0]),r.y=u[1]*Math.round(r.y/u[1]));const i=[[c[0][0],c[0][1]],[c[1][0],c[1][1]]];var a,s;f.current.length>1&&c&&!e.extent&&(i[0][0]=e.positionAbsolute.x-b.x+c[0][0],i[1][0]=e.positionAbsolute.x+(null!==(a=e.width)&&void 0!==a?a:0)-b.x2+c[1][0],i[0][1]=e.positionAbsolute.y-b.y+c[0][1],i[1][1]=e.positionAbsolute.y+(null!==(s=e.height)&&void 0!==s?s:0)-b.y2+c[1][1]);const l=ei(e,r,o,i,g,v);return y=y||e.position.x!==l.position.x||e.position.y!==l.position.y,e.position=l.position,e.positionAbsolute=l.positionAbsolute,e})),!y)return;s(f.current,!0,!0),d(!0);const w=a?r:ii(i);if(w&&m.current){const[e,t]=ti({nodeId:a,dragItems:f.current,nodeInternals:o});w(m.current,e,t)}},u=()=>{if(!g.current)return;const[e,t]=Tn(v.current,g.current);if(0!==e||0!==t){var n,r;const{transform:i,panBy:a}=l.getState();h.current.x=(null!==(n=h.current.x)&&void 0!==n?n:0)-e/i[2],h.current.y=(null!==(r=h.current.y)&&void 0!==r?r:0)-t/i[2],a({x:e,y:t})&&o(h.current)}p.current=requestAnimationFrame(u)},S=e=>{const{nodeInternals:n,multiSelectionActive:o,nodesDraggable:r,unselectNodesAndEdges:i,onNodeDragStart:u,onSelectionDragStart:d}=l.getState();w.current=!0;const p=a?u:ii(d);var g;c&&s||o||!a||(null!==(g=n.get(a))&&void 0!==g&&g.selected||i());a&&s&&c&&ri({id:a,store:l,nodeRef:t});const v=E(e);if(h.current=v,f.current=$r(n,r,v,a),p&&f.current){const[t,o]=ti({nodeId:a,dragItems:f.current,nodeInternals:n});p(e.sourceEvent,t,o)}};if(!n){const n=function(){var e,t,n,o,r=yn,i=bn,a=wn,s=xn,c={},l=b("start","drag","end"),u=0,d=0;function f(e){e.on("mousedown.drag",h).filter(s).on("touchstart.drag",v).on("touchmove.drag",m,ze).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(a,s){if(!o&&r.call(this,a,s)){var c=w(this,i.call(this,a,s),a,s,"mouse");c&&(Re(a.view).on("mousemove.drag",p,De).on("mouseup.drag",g,De),Le(a.view),Te(a),n=!1,e=a.clientX,t=a.clientY,c("start",a))}}function p(o){if(Be(o),!n){var r=o.clientX-e,i=o.clientY-t;n=r*r+i*i>d}c.mouse("drag",o)}function g(e){Re(e.view).on("mousemove.drag mouseup.drag",null),je(e.view,n),Be(e),c.mouse("end",e)}function v(e,t){if(r.call(this,e,t)){var n,o,a=e.changedTouches,s=i.call(this,e,t),c=a.length;for(n=0;n<c;++n)(o=w(this,s,e,t,a[n].identifier,a[n]))&&(Te(e),o("start",e,a[n]))}}function m(e){var t,n,o=e.changedTouches,r=o.length;for(t=0;t<r;++t)(n=c[o[t].identifier])&&(Be(e),n("drag",e,o[t]))}function y(e){var t,n,r=e.changedTouches,i=r.length;for(o&&clearTimeout(o),o=setTimeout((function(){o=null}),500),t=0;t<i;++t)(n=c[r[t].identifier])&&(Te(e),n("end",e,r[t]))}function w(e,t,n,o,r,i){var s,d,h,p=l.copy(),g=Ye(i||n,t);if(null!=(h=a.call(e,new mn("beforestart",{sourceEvent:n,target:f,identifier:r,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),o)))return s=h.x-g[0]||0,d=h.y-g[1]||0,function n(i,a,l){var v,m=g;switch(i){case"start":c[r]=n,v=u++;break;case"end":delete c[r],--u;case"drag":g=Ye(l||a,t),v=u}p.call(i,e,new mn(i,{sourceEvent:a,subject:h,target:f,identifier:r,active:v,x:g[0]+s,y:g[1]+d,dx:g[0]-m[0],dy:g[1]-m[1],dispatch:p}),o)}}return f.filter=function(e){return arguments.length?(r="function"===typeof e?e:vn(!!e),f):r},f.container=function(e){return arguments.length?(i="function"===typeof e?e:vn(e),f):i},f.subject=function(e){return arguments.length?(a="function"===typeof e?e:vn(e),f):a},f.touchable=function(e){return arguments.length?(s="function"===typeof e?e:vn(!!e),f):s},f.on=function(){var e=l.on.apply(l,arguments);return e===l?f:e},f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)},f}().on("start",(e=>{const{domNode:t,nodeDragThreshold:n}=l.getState();0===n&&S(e),x.current=!1;const o=E(e);h.current=o,g.current=(null===t||void 0===t?void 0:t.getBoundingClientRect())||null,v.current=qn(e.sourceEvent,g.current)})).on("drag",(e=>{const t=E(e),{autoPanOnNodeDrag:n,nodeDragThreshold:r}=l.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(x.current=!0),!x.current){if(!y.current&&w.current&&n&&(y.current=!0,u()),!w.current){var i,a,s,c;const n=t.xSnapped-(null!==(i=null===h||void 0===h||null===(a=h.current)||void 0===a?void 0:a.x)&&void 0!==i?i:0),o=t.ySnapped-(null!==(s=null===h||void 0===h||null===(c=h.current)||void 0===c?void 0:c.y)&&void 0!==s?s:0);Math.sqrt(n*n+o*o)>r&&S(e)}(h.current.x!==t.xSnapped||h.current.y!==t.ySnapped)&&f.current&&w.current&&(m.current=e.sourceEvent,v.current=qn(e.sourceEvent,g.current),o(t))}})).on("end",(e=>{if(w.current&&!x.current&&(d(!1),y.current=!1,w.current=!1,cancelAnimationFrame(p.current),f.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:o,onSelectionDragStop:r}=l.getState(),i=a?o:ii(r);if(t(f.current,!1,!1),i){const[t,o]=ti({nodeId:a,dragItems:f.current,nodeInternals:n});i(e.sourceEvent,t,o)}}})).filter((e=>{const n=e.target;return!e.button&&(!r||!Jr(n,".".concat(r),t))&&(!i||Jr(n,i,t))}));return e.call(n),()=>{e.on(".drag",null)}}e.on(".drag",null)}}),[t,n,r,i,s,l,a,c,E]),u}function si(){const e=Mn();return(0,o.useCallback)((t=>{const{nodeInternals:n,nodeExtent:o,updateNodePositions:r,getNodes:i,snapToGrid:a,snapGrid:s,onError:c,nodesDraggable:l}=e.getState(),u=i().filter((e=>e.selected&&(e.draggable||l&&"undefined"===typeof e.draggable))),d=a?s[0]:5,f=a?s[1]:5,h=t.isShiftPressed?4:1,p=t.x*d*h,g=t.y*f*h;r(u.map((e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+g};a&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));const{positionAbsolute:r,position:i}=ei(e,t,n,o,void 0,c);e.position=i,e.positionAbsolute=r}return e})),!0,!1)}),[])}const ci={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var li=e=>{const t=t=>{let{id:n,type:i,data:a,xPos:s,yPos:c,xPosOrigin:l,yPosOrigin:u,selected:d,onClick:f,onMouseEnter:h,onMouseMove:p,onMouseLeave:g,onContextMenu:v,onDoubleClick:m,style:y,className:b,isDraggable:w,isSelectable:x,isConnectable:E,isFocusable:S,selectNodesOnDrag:_,sourcePosition:C,targetPosition:N,hidden:M,resizeObserver:k,dragHandle:A,zIndex:I,isParent:O,noDragClassName:P,noPanClassName:R,initialized:z,disableKeyboardA11y:D,ariaLabel:T,rfId:B,hasHandleBounds:L}=t;const j=Mn(),V=(0,o.useRef)(null),X=(0,o.useRef)(null),Y=(0,o.useRef)(C),H=(0,o.useRef)(N),F=(0,o.useRef)(i),G=x||w||f||h||p||g,Z=si(),K=oi(n,j.getState,h),U=oi(n,j.getState,p),W=oi(n,j.getState,g),q=oi(n,j.getState,v),Q=oi(n,j.getState,m);(0,o.useEffect)((()=>()=>{X.current&&(null===k||void 0===k||k.unobserve(X.current),X.current=null)}),[]),(0,o.useEffect)((()=>{if(V.current&&!M){const e=V.current;z&&L&&X.current===e||(X.current&&(null===k||void 0===k||k.unobserve(X.current)),null===k||void 0===k||k.observe(e),X.current=e)}}),[M,z,L]),(0,o.useEffect)((()=>{const e=F.current!==i,t=Y.current!==C,o=H.current!==N;V.current&&(e||t||o)&&(e&&(F.current=i),t&&(Y.current=C),o&&(H.current=N),j.getState().updateNodeDimensions([{id:n,nodeElement:V.current,forceUpdate:!0}]))}),[n,i,C,N]);const J=ai({nodeRef:V,disabled:M||!w,noDragClassName:P,handleSelector:A,nodeId:n,isSelectable:x,selectNodesOnDrag:_});return M?null:o.createElement("div",{className:(0,r.A)(["react-flow__node","react-flow__node-".concat(i),{[R]:w},b,{selected:d,selectable:x,parent:O,dragging:J}]),ref:V,style:{zIndex:I,transform:"translate(".concat(l,"px,").concat(u,"px)"),pointerEvents:G?"all":"none",visibility:z?"visible":"hidden",...y},"data-id":n,"data-testid":"rf__node-".concat(n),onMouseEnter:K,onMouseMove:U,onMouseLeave:W,onContextMenu:q,onClick:e=>{const{nodeDragThreshold:t}=j.getState();if(x&&(!_||!w||t>0)&&ri({id:n,store:j,nodeRef:V}),f){const t=j.getState().nodeInternals.get(n);t&&f(e,{...t})}},onDoubleClick:Q,onKeyDown:S?e=>{if(!Un(e)&&!D)if(Zn.includes(e.key)&&x){const t="Escape"===e.key;ri({id:n,store:j,unselect:t,nodeRef:V})}else w&&d&&Object.prototype.hasOwnProperty.call(ci,e.key)&&(j.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~s,", y: ").concat(~~c)}),Z({x:ci[e.key].x,y:ci[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":D?void 0:"".concat(fr,"-").concat(B),"aria-label":T},o.createElement(_o,{value:n},o.createElement(e,{id:n,data:a,type:i,xPos:s,yPos:c,selected:d,isConnectable:E,sourcePosition:C,targetPosition:N,dragging:J,dragHandle:A,zIndex:I})))};return t.displayName="NodeWrapper",(0,o.memo)(t)};const ui=e=>{const t=e.getNodes().filter((e=>e.selected));return{...Io(t,e.nodeOrigin),transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")"),userSelectionActive:e.userSelectionActive}};var di=(0,o.memo)((function(e){let{onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:i}=e;const a=Mn(),{width:s,height:c,x:l,y:u,transformString:d,userSelectionActive:f}=Nn(ui,h.x),p=si(),g=(0,o.useRef)(null);if((0,o.useEffect)((()=>{var e;i||(null===(e=g.current)||void 0===e||e.focus({preventScroll:!0}))}),[i]),ai({nodeRef:g}),f||!s||!c)return null;const v=t?e=>{const n=a.getState().getNodes().filter((e=>e.selected));t(e,n)}:void 0;return o.createElement("div",{className:(0,r.A)(["react-flow__nodesselection","react-flow__container",n]),style:{transform:d}},o.createElement("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:i?void 0:-1,onKeyDown:i?void 0:e=>{Object.prototype.hasOwnProperty.call(ci,e.key)&&p({x:ci[e.key].x,y:ci[e.key].y,isShiftPressed:e.shiftKey})},style:{width:s,height:c,top:u,left:l}}))}));const fi=e=>e.nodesSelectionActive,hi=e=>{let{children:t,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:c,deleteKeyCode:l,onMove:u,onMoveStart:d,onMoveEnd:f,selectionKeyCode:h,selectionOnDrag:p,selectionMode:g,onSelectionStart:v,onSelectionEnd:m,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:w,elementsSelectable:x,zoomOnScroll:E,zoomOnPinch:S,panOnScroll:_,panOnScrollSpeed:C,panOnScrollMode:N,zoomOnDoubleClick:M,panOnDrag:k,defaultViewport:A,translateExtent:I,minZoom:O,maxZoom:P,preventScrolling:R,onSelectionContextMenu:z,noWheelClassName:D,noPanClassName:T,disableKeyboardA11y:B}=e;const L=Nn(fi),j=yr(h),V=yr(b),X=V||k,Y=V||_,H=j||p&&!0!==X;return(e=>{let{deleteKeyCode:t,multiSelectionKeyCode:n}=e;const r=Mn(),{deleteElements:i}=Pr(),a=yr(t,Rr),s=yr(n);(0,o.useEffect)((()=>{if(a){const{edges:e,getNodes:t}=r.getState(),n=t().filter((e=>e.selected)),o=e.filter((e=>e.selected));i({nodes:n,edges:o}),r.setState({nodesSelectionActive:!1})}}),[a]),(0,o.useEffect)((()=>{r.setState({multiSelectionActive:s})}),[s])})({deleteKeyCode:l,multiSelectionKeyCode:y}),o.createElement(Vr,{onMove:u,onMoveStart:d,onMoveEnd:f,onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:E,zoomOnPinch:S,panOnScroll:Y,panOnScrollSpeed:C,panOnScrollMode:N,zoomOnDoubleClick:M,panOnDrag:!j&&X,defaultViewport:A,translateExtent:I,minZoom:O,maxZoom:P,zoomActivationKeyCode:w,preventScrolling:R,noWheelClassName:D,noPanClassName:T},o.createElement(qr,{onSelectionStart:v,onSelectionEnd:m,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:c,panOnDrag:X,isSelecting:!!H,selectionMode:g},t,L&&o.createElement(di,{onSelectionContextMenu:z,noPanClassName:T,disableKeyboardA11y:B})))};hi.displayName="FlowRenderer";var pi=(0,o.memo)(hi);function gi(e){return{...{input:li(e.input||qo),default:li(e.default||Uo),output:li(e.output||Jo),group:li(e.group||$o)},...Object.keys(e).filter((e=>!["input","default","output","group"].includes(e))).reduce(((t,n)=>(t[n]=li(e[n]||Uo),t)),{})}}const vi=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),mi=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:a,onError:s}=Nn(vi,h.x),c=(l=e.onlyRenderVisibleElements,Nn((0,o.useCallback)((e=>l?Oo(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes()),[l])));var l;const u=(0,o.useRef)(),d=(0,o.useMemo)((()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver((e=>{const t=e.map((e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})));a(t)}));return u.current=e,e}),[]);return(0,o.useEffect)((()=>()=>{var e;null===u||void 0===u||null===(e=u.current)||void 0===e||e.disconnect()}),[]),o.createElement("div",{className:"react-flow__nodes",style:zr},c.map((a=>{var c,l,u,f,h,p,g,v;let m=a.type||"default";e.nodeTypes[m]||(null===s||void 0===s||s("003",_n.error003(m)),m="default");const y=e.nodeTypes[m]||e.nodeTypes.default,b=!!(a.draggable||t&&"undefined"===typeof a.draggable),w=!!(a.selectable||i&&"undefined"===typeof a.selectable),x=!!(a.connectable||n&&"undefined"===typeof a.connectable),E=!!(a.focusable||r&&"undefined"===typeof a.focusable),S=e.nodeExtent?zn(a.positionAbsolute,e.nodeExtent):a.positionAbsolute,_=null!==(c=null===S||void 0===S?void 0:S.x)&&void 0!==c?c:0,C=null!==(l=null===S||void 0===S?void 0:S.y)&&void 0!==l?l:0,N=(e=>{let{x:t,y:n,width:o,height:r,origin:i}=e;return o&&r?i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:n}:{x:t-o*i[0],y:n-r*i[1]}:{x:t,y:n}})({x:_,y:C,width:null!==(u=a.width)&&void 0!==u?u:0,height:null!==(f=a.height)&&void 0!==f?f:0,origin:e.nodeOrigin});return o.createElement(y,{key:a.id,id:a.id,className:a.className,style:a.style,type:m,data:a.data,sourcePosition:a.sourcePosition||so.Bottom,targetPosition:a.targetPosition||so.Top,hidden:a.hidden,xPos:_,yPos:C,xPosOrigin:N.x,yPosOrigin:N.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!a.selected,isDraggable:b,isSelectable:w,isConnectable:x,isFocusable:E,resizeObserver:d,dragHandle:a.dragHandle,zIndex:null!==(h=null===(p=a[Gn])||void 0===p?void 0:p.z)&&void 0!==h?h:0,isParent:!(null===(g=a[Gn])||void 0===g||!g.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!a.width&&!!a.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:a.ariaLabel,hasHandleBounds:!(null===(v=a[Gn])||void 0===v||!v.handleBounds)})})))};mi.displayName="NodeRenderer";var yi=(0,o.memo)(mi);const bi=(e,t,n)=>n===so.Left?e-t:n===so.Right?e+t:e,wi=(e,t,n)=>n===so.Top?e-t:n===so.Bottom?e+t:e,xi="react-flow__edgeupdater",Ei=e=>{let{position:t,centerX:n,centerY:i,radius:a=10,onMouseDown:s,onMouseEnter:c,onMouseOut:l,type:u}=e;return o.createElement("circle",{onMouseDown:s,onMouseEnter:c,onMouseOut:l,className:(0,r.A)([xi,"".concat(xi,"-").concat(u)]),cx:bi(n,a,t),cy:wi(i,a,t),r:a,stroke:"transparent",fill:"transparent"})},Si=()=>!0;var _i=e=>{const t=t=>{let{id:n,className:i,type:a,data:s,onClick:c,onEdgeDoubleClick:l,selected:u,animated:d,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:m,style:y,source:b,target:w,sourceX:x,sourceY:E,targetX:S,targetY:_,sourcePosition:C,targetPosition:N,elementsSelectable:M,hidden:k,sourceHandleId:A,targetHandleId:I,onContextMenu:O,onMouseEnter:P,onMouseMove:R,onMouseLeave:z,reconnectRadius:D,onReconnect:T,onReconnectStart:B,onReconnectEnd:L,markerEnd:j,markerStart:V,rfId:X,ariaLabel:Y,isFocusable:H,isReconnectable:F,pathOptions:G,interactionWidth:Z,disableKeyboardA11y:K}=t;const U=(0,o.useRef)(null),[W,q]=(0,o.useState)(!1),[Q,J]=(0,o.useState)(!1),$=Mn(),ee=(0,o.useMemo)((()=>"url('#".concat(No(V,X),"')")),[V,X]),te=(0,o.useMemo)((()=>"url('#".concat(No(j,X),"')")),[j,X]);if(k)return null;const ne=$n(n,$.getState,l),oe=$n(n,$.getState,O),re=$n(n,$.getState,P),ie=$n(n,$.getState,R),ae=$n(n,$.getState,z),se=(e,t)=>{if(0!==e.button)return;const{edges:o,isValidConnection:r}=$.getState(),i=t?w:b,a=(t?I:A)||null,s=t?"target":"source",c=r||Si,l=t,u=o.find((e=>e.id===n));J(!0),null===B||void 0===B||B(e,u,s);Yo({event:e,handleId:a,nodeId:i,onConnect:e=>null===T||void 0===T?void 0:T(u,e),isTarget:l,getState:$.getState,setState:$.setState,isValidConnection:c,edgeUpdaterType:s,onReconnectEnd:e=>{J(!1),null===L||void 0===L||L(e,u,s)}})},ce=()=>q(!0),le=()=>q(!1),ue=!M&&!c;return o.createElement("g",{className:(0,r.A)(["react-flow__edge","react-flow__edge-".concat(a),i,{selected:u,animated:d,inactive:ue,updating:W}]),onClick:e=>{const{edges:t,addSelectedEdges:o,unselectNodesAndEdges:r,multiSelectionActive:i}=$.getState(),a=t.find((e=>e.id===n));if(a){var s;if(M)if($.setState({nodesSelectionActive:!1}),a.selected&&i)r({nodes:[],edges:[a]}),null===(s=U.current)||void 0===s||s.blur();else o([n]);c&&c(e,a)}},onDoubleClick:ne,onContextMenu:oe,onMouseEnter:re,onMouseMove:ie,onMouseLeave:ae,onKeyDown:H?e=>{if(!K&&Zn.includes(e.key)&&M){const{unselectNodesAndEdges:o,addSelectedEdges:r,edges:i}=$.getState();var t;if("Escape"===e.key)null===(t=U.current)||void 0===t||t.blur(),o({edges:[i.find((e=>e.id===n))]});else r([n])}}:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":"rf__edge-".concat(n),"aria-label":null===Y?void 0:Y||"Edge from ".concat(b," to ").concat(w),"aria-describedby":H?"".concat(hr,"-").concat(X):void 0,ref:U},!Q&&o.createElement(e,{id:n,source:b,target:w,selected:u,animated:d,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:v,labelBgBorderRadius:m,data:s,style:y,sourceX:x,sourceY:E,targetX:S,targetY:_,sourcePosition:C,targetPosition:N,sourceHandleId:A,targetHandleId:I,markerStart:ee,markerEnd:te,pathOptions:G,interactionWidth:Z}),F&&o.createElement(o.Fragment,null,("source"===F||!0===F)&&o.createElement(Ei,{position:C,centerX:x,centerY:E,radius:D,onMouseDown:e=>se(e,!0),onMouseEnter:ce,onMouseOut:le,type:"source"}),("target"===F||!0===F)&&o.createElement(Ei,{position:N,centerX:S,centerY:_,radius:D,onMouseDown:e=>se(e,!1),onMouseEnter:ce,onMouseOut:le,type:"target"})))};return t.displayName="EdgeWrapper",(0,o.memo)(t)};function Ci(e){return{...{default:_i(e.default||Eo),straight:_i(e.bezier||yo),step:_i(e.step||mo),smoothstep:_i(e.step||vo),simplebezier:_i(e.simplebezier||uo)},...Object.keys(e).filter((e=>!["default","bezier"].includes(e))).reduce(((t,n)=>(t[n]=_i(e[n]||Eo),t)),{})}}function Ni(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=((null===n||void 0===n?void 0:n.x)||0)+t.x,r=((null===n||void 0===n?void 0:n.y)||0)+t.y,i=(null===n||void 0===n?void 0:n.width)||t.width,a=(null===n||void 0===n?void 0:n.height)||t.height;switch(e){case so.Top:return{x:o+i/2,y:r};case so.Right:return{x:o+i,y:r+a/2};case so.Bottom:return{x:o+i/2,y:r+a};case so.Left:return{x:o,y:r+a/2}}}function Mi(e,t){return e?1!==e.length&&t?t&&e.find((e=>e.id===t))||null:e[0]:null}function ki(e){var t,n,o,r,i;const a=(null===e||void 0===e||null===(t=e[Gn])||void 0===t?void 0:t.handleBounds)||null,s=a&&(null===e||void 0===e?void 0:e.width)&&(null===e||void 0===e?void 0:e.height)&&"undefined"!==typeof(null===e||void 0===e||null===(n=e.positionAbsolute)||void 0===n?void 0:n.x)&&"undefined"!==typeof(null===e||void 0===e||null===(o=e.positionAbsolute)||void 0===o?void 0:o.y);return[{x:(null===e||void 0===e||null===(r=e.positionAbsolute)||void 0===r?void 0:r.x)||0,y:(null===e||void 0===e||null===(i=e.positionAbsolute)||void 0===i?void 0:i.y)||0,width:(null===e||void 0===e?void 0:e.width)||0,height:(null===e||void 0===e?void 0:e.height)||0},a,!!s]}const Ai=[{level:0,isMaxLevel:!0,edges:[]}];function Ii(e,t,n){const r=Nn((0,o.useCallback)((n=>e?n.edges.filter((e=>{const o=t.get(e.source),r=t.get(e.target);return(null===o||void 0===o?void 0:o.width)&&(null===o||void 0===o?void 0:o.height)&&(null===r||void 0===r?void 0:r.width)&&(null===r||void 0===r?void 0:r.height)&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:o,sourceHeight:r,targetWidth:i,targetHeight:a,width:s,height:c,transform:l}=e;const u={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+o,n.x+i),y2:Math.max(t.y+r,n.y+a)};u.x===u.x2&&(u.x2+=1),u.y===u.y2&&(u.y2+=1);const d=jn({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:c/l[2]}),f=Math.max(0,Math.min(d.x2,u.x2)-Math.max(d.x,u.x)),h=Math.max(0,Math.min(d.y2,u.y2)-Math.max(d.y,u.y));return Math.ceil(f*h)>0}({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:r.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:r.width,targetHeight:r.height,width:n.width,height:n.height,transform:n.transform})})):n.edges),[e,t]));return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1;const r=e.reduce(((e,r)=>{const i=Fn(r.zIndex);let a=i?r.zIndex:0;if(n){var s,c;const e=t.get(r.target),n=t.get(r.source),o=r.selected||(null===e||void 0===e?void 0:e.selected)||(null===n||void 0===n?void 0:n.selected),l=Math.max((null===n||void 0===n||null===(s=n[Gn])||void 0===s?void 0:s.z)||0,(null===e||void 0===e||null===(c=e[Gn])||void 0===c?void 0:c.z)||0,1e3);a=(i?r.zIndex:0)+(o?l:0)}return e[a]?e[a].push(r):e[a]=[r],o=a>o?a:o,e}),{}),i=Object.entries(r).map((e=>{let[t,n]=e;const r=+t;return{edges:n,level:r,isMaxLevel:r===o}}));return 0===i.length?Ai:i}(r,t,n)}const Oi={[ao.Arrow]:e=>{let{color:t="none",strokeWidth:n=1}=e;return o.createElement("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[ao.ArrowClosed]:e=>{let{color:t="none",strokeWidth:n=1}=e;return o.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const Pi=e=>{let{id:t,type:n,color:r,width:i=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:c,orient:l="auto-start-reverse"}=e;const u=function(e){const t=Mn();return(0,o.useMemo)((()=>{var n,o;return Object.prototype.hasOwnProperty.call(Oi,e)?Oi[e]:(null===(n=(o=t.getState()).onError)||void 0===n||n.call(o,"009",_n.error009(e)),null)}),[e])}(n);return u?o.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(i),markerHeight:"".concat(a),viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0"},o.createElement(u,{color:r,strokeWidth:c})):null},Ri=e=>{let{defaultColor:t,rfId:n}=e;const r=Nn((0,o.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const o=[];return e.edges.reduce(((e,r)=>([r.markerStart,r.markerEnd].forEach((r=>{if(r&&"object"===typeof r){const i=No(r,n);o.includes(i)||(e.push({id:i,color:r.color||t,...r}),o.push(i))}})),e)),[]).sort(((e,t)=>e.id.localeCompare(t.id)))}})({defaultColor:t,rfId:n}),[t,n]),((e,t)=>!(e.length!==t.length||e.some(((e,n)=>e.id!==t[n].id)))));return o.createElement("defs",null,r.map((e=>o.createElement(Pi,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient}))))};Ri.displayName="MarkerDefinitions";var zi=(0,o.memo)(Ri);const Di=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Ti=e=>{let{defaultMarkerColor:t,onlyRenderVisibleElements:n,elevateEdgesOnSelect:i,rfId:a,edgeTypes:s,noPanClassName:c,onEdgeContextMenu:l,onEdgeMouseEnter:u,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:p,onEdgeDoubleClick:g,onReconnect:v,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:b,children:w,disableKeyboardA11y:x}=e;const{edgesFocusable:E,edgesUpdatable:S,elementsSelectable:_,width:C,height:N,connectionMode:M,nodeInternals:k,onError:A}=Nn(Di,h.x),I=Ii(n,k,i);return C?o.createElement(o.Fragment,null,I.map((e=>{let{level:n,edges:i,isMaxLevel:h}=e;return o.createElement("svg",{key:n,style:{zIndex:n},width:C,height:N,className:"react-flow__edges react-flow__container"},h&&o.createElement(zi,{defaultColor:t,rfId:a}),o.createElement("g",null,i.map((e=>{var t,n;const[i,h,w]=ki(k.get(e.source)),[C,N,I]=ki(k.get(e.target));if(!w||!I)return null;let O=e.type||"default";s[O]||(null===A||void 0===A||A("011",_n.error011(O)),O="default");const P=s[O]||s.default,R=M===no.Strict?N.target:(null!==(t=N.target)&&void 0!==t?t:[]).concat(null!==(n=N.source)&&void 0!==n?n:[]),z=Mi(h.source,e.sourceHandle),D=Mi(R,e.targetHandle),T=(null===z||void 0===z?void 0:z.position)||so.Bottom,B=(null===D||void 0===D?void 0:D.position)||so.Top,L=!!(e.focusable||E&&"undefined"===typeof e.focusable),j=e.reconnectable||e.updatable,V="undefined"!==typeof v&&(j||S&&"undefined"===typeof j);if(!z||!D)return null===A||void 0===A||A("008",_n.error008(z,e)),null;const{sourceX:X,sourceY:Y,targetX:H,targetY:F}=((e,t,n,o,r,i)=>{const a=Ni(n,e,t),s=Ni(i,o,r);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}})(i,z,T,C,D,B);return o.createElement(P,{key:e.id,id:e.id,className:(0,r.A)([e.className,c]),type:O,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:X,sourceY:Y,targetX:H,targetY:F,sourcePosition:T,targetPosition:B,elementsSelectable:_,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,onClick:p,onEdgeDoubleClick:g,onReconnect:v,onReconnectStart:m,onReconnectEnd:y,reconnectRadius:b,rfId:a,ariaLabel:e.ariaLabel,isFocusable:L,isReconnectable:V,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:x})}))))})),w):null};Ti.displayName="EdgeRenderer";var Bi=(0,o.memo)(Ti);const Li=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function ji(e){let{children:t}=e;const n=Nn(Li);return o.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},t)}const Vi={[so.Left]:so.Right,[so.Right]:so.Left,[so.Top]:so.Bottom,[so.Bottom]:so.Top},Xi=e=>{var t,n,r,i,a,s,c;let{nodeId:l,handleType:u,style:d,type:f=io.Bezier,CustomComponent:p,connectionStatus:g}=e;const{fromNode:v,handleId:m,toX:y,toY:b,connectionMode:w}=Nn((0,o.useCallback)((e=>({fromNode:e.nodeInternals.get(l),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode})),[l]),h.x),x=null===v||void 0===v||null===(t=v[Gn])||void 0===t?void 0:t.handleBounds;let E=null===x||void 0===x?void 0:x[u];if(w===no.Loose&&(E=E||(null===x||void 0===x?void 0:x["source"===u?"target":"source"])),!v||!E)return null;const S=m?E.find((e=>e.id===m)):E[0],_=S?S.x+S.width/2:(null!==(n=v.width)&&void 0!==n?n:0)/2,C=S?S.y+S.height/2:null!==(r=v.height)&&void 0!==r?r:0,N=(null!==(i=null===(a=v.positionAbsolute)||void 0===a?void 0:a.x)&&void 0!==i?i:0)+_,M=(null!==(s=null===(c=v.positionAbsolute)||void 0===c?void 0:c.y)&&void 0!==s?s:0)+C,k=null===S||void 0===S?void 0:S.position,A=k?Vi[k]:null;if(!k||!A)return null;if(p)return o.createElement(p,{connectionLineType:f,connectionLineStyle:d,fromNode:v,fromHandle:S,fromX:N,fromY:M,toX:y,toY:b,fromPosition:k,toPosition:A,connectionStatus:g});let I="";const O={sourceX:N,sourceY:M,sourcePosition:k,targetX:y,targetY:b,targetPosition:A};return f===io.Bezier?[I]=xo(O):f===io.Step?[I]=go({...O,borderRadius:0}):f===io.SmoothStep?[I]=go(O):f===io.SimpleBezier?[I]=lo(O):I="M".concat(N,",").concat(M," ").concat(y,",").concat(b),o.createElement("path",{d:I,fill:"none",className:"react-flow__connection-path",style:d})};Xi.displayName="ConnectionLine";const Yi=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Hi(e){let{containerStyle:t,style:n,type:i,component:a}=e;const{nodeId:s,handleType:c,nodesConnectable:l,width:u,height:d,connectionStatus:f}=Nn(Yi,h.x);return!!(s&&c&&u&&l)?o.createElement("svg",{style:t,width:u,height:d,className:"react-flow__edges react-flow__connectionline react-flow__container"},o.createElement("g",{className:(0,r.A)(["react-flow__connection",f])},o.createElement(Xi,{nodeId:s,handleType:c,style:n,type:i,CustomComponent:a,connectionStatus:f}))):null}function Fi(e,t){(0,o.useRef)(null),Mn();return(0,o.useMemo)((()=>t(e)),[e])}const Gi=e=>{let{nodeTypes:t,edgeTypes:n,onMove:r,onMoveStart:i,onMoveEnd:a,onInit:s,onNodeClick:c,onEdgeClick:l,onNodeDoubleClick:u,onEdgeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,onSelectionContextMenu:v,onSelectionStart:m,onSelectionEnd:y,connectionLineType:b,connectionLineStyle:w,connectionLineComponent:x,connectionLineContainerStyle:E,selectionKeyCode:S,selectionOnDrag:_,selectionMode:C,multiSelectionKeyCode:N,panActivationKeyCode:M,zoomActivationKeyCode:k,deleteKeyCode:A,onlyRenderVisibleElements:I,elementsSelectable:O,selectNodesOnDrag:P,defaultViewport:R,translateExtent:z,minZoom:D,maxZoom:T,preventScrolling:B,defaultMarkerColor:L,zoomOnScroll:j,zoomOnPinch:V,panOnScroll:X,panOnScrollSpeed:Y,panOnScrollMode:H,zoomOnDoubleClick:F,panOnDrag:G,onPaneClick:Z,onPaneMouseEnter:K,onPaneMouseMove:U,onPaneMouseLeave:W,onPaneScroll:q,onPaneContextMenu:Q,onEdgeContextMenu:J,onEdgeMouseEnter:$,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:oe,onReconnectEnd:re,reconnectRadius:ie,noDragClassName:ae,noWheelClassName:se,noPanClassName:ce,elevateEdgesOnSelect:le,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:fe,rfId:he}=e;const pe=Fi(t,gi),ge=Fi(n,Ci);return function(e){const t=Pr(),n=(0,o.useRef)(!1);(0,o.useEffect)((()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout((()=>e(t)),1),n.current=!0)}),[e,t.viewportInitialized])}(s),o.createElement(pi,{onPaneClick:Z,onPaneMouseEnter:K,onPaneMouseMove:U,onPaneMouseLeave:W,onPaneContextMenu:Q,onPaneScroll:q,deleteKeyCode:A,selectionKeyCode:S,selectionOnDrag:_,selectionMode:C,onSelectionStart:m,onSelectionEnd:y,multiSelectionKeyCode:N,panActivationKeyCode:M,zoomActivationKeyCode:k,elementsSelectable:O,onMove:r,onMoveStart:i,onMoveEnd:a,zoomOnScroll:j,zoomOnPinch:V,zoomOnDoubleClick:F,panOnScroll:X,panOnScrollSpeed:Y,panOnScrollMode:H,panOnDrag:G,defaultViewport:R,translateExtent:z,minZoom:D,maxZoom:T,onSelectionContextMenu:v,preventScrolling:B,noDragClassName:ae,noWheelClassName:se,noPanClassName:ce,disableKeyboardA11y:ue},o.createElement(ji,null,o.createElement(Bi,{edgeTypes:ge,onEdgeClick:l,onEdgeDoubleClick:d,onlyRenderVisibleElements:I,onEdgeContextMenu:J,onEdgeMouseEnter:$,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:oe,onReconnectEnd:re,reconnectRadius:ie,defaultMarkerColor:L,noPanClassName:ce,elevateEdgesOnSelect:!!le,disableKeyboardA11y:ue,rfId:he},o.createElement(Hi,{style:w,type:b,component:x,containerStyle:E})),o.createElement("div",{className:"react-flow__edgelabel-renderer"}),o.createElement(yi,{nodeTypes:pe,onNodeClick:c,onNodeDoubleClick:u,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,selectNodesOnDrag:P,onlyRenderVisibleElements:I,noPanClassName:ce,noDragClassName:ae,disableKeyboardA11y:ue,nodeOrigin:de,nodeExtent:fe,rfId:he})))};Gi.displayName="GraphView";var Zi=(0,o.memo)(Gi);const Ki=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ui={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ki,nodeExtent:Ki,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:no.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Kn,isValidConnection:void 0},Wi=()=>{return e=(e,t)=>({...Ui,setNodes:n=>{const{nodeInternals:o,nodeOrigin:r,elevateNodesOnSelect:i}=t();e({nodeInternals:Sr(n,o,r,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:o={}}=t();e({edges:n.map((e=>({...o,...e})))})},setDefaultNodesAndEdges:(n,o)=>{const r="undefined"!==typeof n,i="undefined"!==typeof o,a=r?Sr(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?o:[],hasDefaultNodes:r,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:o,nodeInternals:r,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:s,domNode:c,nodeOrigin:l}=t(),u=null===c||void 0===c?void 0:c.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=n.reduce(((e,t)=>{const n=r.get(t.id);if(null!==n&&void 0!==n&&n.hidden)r.set(n.id,{...n,[Gn]:{...n[Gn],handleBounds:void 0}});else if(n){const o=Pn(t.nodeElement);o.width&&o.height&&(n.width!==o.width||n.height!==o.height||t.forceUpdate)&&(r.set(n.id,{...n,[Gn]:{...n[Gn],handleBounds:{source:ni(".source",t.nodeElement,f,l),target:ni(".target",t.nodeElement,f,l)}},...o}),e.push({id:n.id,type:"dimensions",dimensions:o}))}return e}),[]);Er(r,l);const p=a||i&&!a&&_r(t,{initial:!0,...s});e({nodeInternals:new Map(r),fitViewOnInitDone:p}),(null===h||void 0===h?void 0:h.length)>0&&(null===o||void 0===o||o(h))},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:r}=t(),i=e.map((e=>{const t={id:e.id,type:"position",dragging:o};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t}));r(i)},triggerNodeChanges:n=>{const{onNodesChange:o,nodeInternals:r,hasDefaultNodes:i,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:c}=t();if(null!==n&&void 0!==n&&n.length){if(i){const t=Sr(Gr(n,s()),r,a,c);e({nodeInternals:t})}null===o||void 0===o||o(n)}},addSelectedNodes:n=>{const{multiSelectionActive:o,edges:r,getNodes:i}=t();let a,s=null;o?a=n.map((e=>Zr(e,!0))):(a=Kr(i(),n),s=Kr(r,[])),Mr({changedNodes:a,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:o,edges:r,getNodes:i}=t();let a,s=null;o?a=n.map((e=>Zr(e,!0))):(a=Kr(r,n),s=Kr(i(),[])),Mr({changedNodes:s,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:r,getNodes:i}=t(),a=o||r;Mr({changedNodes:(n||i()).map((e=>(e.selected=!1,Zr(e.id,!1)))),changedEdges:a.map((e=>Zr(e.id,!1))),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:o,maxZoom:r}=t();null===o||void 0===o||o.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:o,minZoom:r}=t();null===o||void 0===o||o.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{var o;null===(o=t().d3Zoom)||void 0===o||o.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:o}=t();Mr({changedNodes:o().filter((e=>e.selected)).map((e=>Zr(e.id,!1))),changedEdges:n.filter((e=>e.selected)).map((e=>Zr(e.id,!1))),get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:o}=t();o.forEach((e=>{e.positionAbsolute=zn(e.position,n)})),e({nodeExtent:n,nodeInternals:new Map(o)})},panBy:e=>{const{transform:n,width:o,height:r,d3Zoom:i,d3Selection:a,translateExtent:s}=t();if(!i||!a||!e.x&&!e.y)return!1;const c=sn.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),l=[[0,0],[o,r]],u=null===i||void 0===i?void 0:i.constrain()(c,l,s);return i.transform(a,u),n[0]!==u.x||n[1]!==u.y||n[2]!==u.k},cancelConnection:()=>e({connectionNodeId:Ui.connectionNodeId,connectionHandleId:Ui.connectionHandleId,connectionHandleType:Ui.connectionHandleType,connectionStatus:Ui.connectionStatus,connectionStartHandle:Ui.connectionStartHandle,connectionEndHandle:Ui.connectionEndHandle}),reset:()=>e({...Ui})}),t=Object.is,e?f(e,t):f;var e,t},qi=e=>{let{children:t}=e;const n=(0,o.useRef)(null);return n.current||(n.current=Wi()),o.createElement(Sn,{value:n.current},t)};qi.displayName="ReactFlowProvider";const Qi=e=>{let{children:t}=e;return(0,o.useContext)(En)?o.createElement(o.Fragment,null,t):o.createElement(qi,null,t)};Qi.displayName="ReactFlowWrapper";const Ji={input:qo,default:Uo,output:Jo,group:$o},$i={default:Eo,straight:yo,step:mo,smoothstep:vo,simplebezier:uo},ea=[0,0],ta=[15,15],na={x:0,y:0,zoom:1},oa={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},ra=(0,o.forwardRef)(((e,t)=>{let{nodes:n,edges:i,defaultNodes:a,defaultEdges:s,className:c,nodeTypes:l=Ji,edgeTypes:u=$i,onNodeClick:d,onEdgeClick:f,onInit:h,onMove:p,onMoveStart:g,onMoveEnd:v,onConnect:m,onConnectStart:y,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:x,onNodeMouseEnter:E,onNodeMouseMove:S,onNodeMouseLeave:_,onNodeContextMenu:C,onNodeDoubleClick:N,onNodeDragStart:M,onNodeDrag:k,onNodeDragStop:A,onNodesDelete:I,onEdgesDelete:O,onSelectionChange:P,onSelectionDragStart:R,onSelectionDrag:z,onSelectionDragStop:D,onSelectionContextMenu:T,onSelectionStart:B,onSelectionEnd:L,connectionMode:j=no.Strict,connectionLineType:V=io.Bezier,connectionLineStyle:X,connectionLineComponent:Y,connectionLineContainerStyle:H,deleteKeyCode:F="Backspace",selectionKeyCode:G="Shift",selectionOnDrag:Z=!1,selectionMode:K=ro.Full,panActivationKeyCode:U="Space",multiSelectionKeyCode:W=(Qn()?"Meta":"Control"),zoomActivationKeyCode:q=(Qn()?"Meta":"Control"),snapToGrid:Q=!1,snapGrid:J=ta,onlyRenderVisibleElements:$=!1,selectNodesOnDrag:ee=!0,nodesDraggable:te,nodesConnectable:ne,nodesFocusable:oe,nodeOrigin:re=ea,edgesFocusable:ie,edgesUpdatable:ae,elementsSelectable:se,defaultViewport:ce=na,minZoom:le=.5,maxZoom:ue=2,translateExtent:de=Ki,preventScrolling:fe=!0,nodeExtent:he,defaultMarkerColor:pe="#b1b1b7",zoomOnScroll:ge=!0,zoomOnPinch:ve=!0,panOnScroll:me=!1,panOnScrollSpeed:ye=.5,panOnScrollMode:be=oo.Free,zoomOnDoubleClick:we=!0,panOnDrag:xe=!0,onPaneClick:Ee,onPaneMouseEnter:Se,onPaneMouseMove:_e,onPaneMouseLeave:Ce,onPaneScroll:Ne,onPaneContextMenu:Me,children:ke,onEdgeContextMenu:Ae,onEdgeDoubleClick:Ie,onEdgeMouseEnter:Oe,onEdgeMouseMove:Pe,onEdgeMouseLeave:Re,onEdgeUpdate:ze,onEdgeUpdateStart:De,onEdgeUpdateEnd:Te,onReconnect:Be,onReconnectStart:Le,onReconnectEnd:je,reconnectRadius:Ve=10,edgeUpdaterRadius:Xe=10,onNodesChange:Ye,onEdgesChange:He,noDragClassName:Fe="nodrag",noWheelClassName:Ge="nowheel",noPanClassName:Ze="nopan",fitView:Ke=!1,fitViewOptions:Ue,connectOnClick:We=!0,attributionPosition:qe,proOptions:Qe,defaultEdgeOptions:Je,elevateNodesOnSelect:$e=!0,elevateEdgesOnSelect:et=!1,disableKeyboardA11y:tt=!1,autoPanOnConnect:nt=!0,autoPanOnNodeDrag:ot=!0,connectionRadius:rt=20,isValidConnection:it,onError:at,style:st,id:ct,nodeDragThreshold:lt,...ut}=e;const dt=ct||"1";return o.createElement("div",{...ut,style:{...st,...oa},ref:t,className:(0,r.A)(["react-flow",c]),"data-testid":"rf__wrapper",id:ct},o.createElement(Qi,null,o.createElement(Zi,{onInit:h,onMove:p,onMoveStart:g,onMoveEnd:v,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:E,onNodeMouseMove:S,onNodeMouseLeave:_,onNodeContextMenu:C,onNodeDoubleClick:N,nodeTypes:l,edgeTypes:u,connectionLineType:V,connectionLineStyle:X,connectionLineComponent:Y,connectionLineContainerStyle:H,selectionKeyCode:G,selectionOnDrag:Z,selectionMode:K,deleteKeyCode:F,multiSelectionKeyCode:W,panActivationKeyCode:U,zoomActivationKeyCode:q,onlyRenderVisibleElements:$,selectNodesOnDrag:ee,defaultViewport:ce,translateExtent:de,minZoom:le,maxZoom:ue,preventScrolling:fe,zoomOnScroll:ge,zoomOnPinch:ve,zoomOnDoubleClick:we,panOnScroll:me,panOnScrollSpeed:ye,panOnScrollMode:be,panOnDrag:xe,onPaneClick:Ee,onPaneMouseEnter:Se,onPaneMouseMove:_e,onPaneMouseLeave:Ce,onPaneScroll:Ne,onPaneContextMenu:Me,onSelectionContextMenu:T,onSelectionStart:B,onSelectionEnd:L,onEdgeContextMenu:Ae,onEdgeDoubleClick:Ie,onEdgeMouseEnter:Oe,onEdgeMouseMove:Pe,onEdgeMouseLeave:Re,onReconnect:null!==Be&&void 0!==Be?Be:ze,onReconnectStart:null!==Le&&void 0!==Le?Le:De,onReconnectEnd:null!==je&&void 0!==je?je:Te,reconnectRadius:null!==Ve&&void 0!==Ve?Ve:Xe,defaultMarkerColor:pe,noDragClassName:Fe,noWheelClassName:Ge,noPanClassName:Ze,elevateEdgesOnSelect:et,rfId:dt,disableKeyboardA11y:tt,nodeOrigin:re,nodeExtent:he}),o.createElement(lr,{nodes:n,edges:i,defaultNodes:a,defaultEdges:s,onConnect:m,onConnectStart:y,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:x,nodesDraggable:te,nodesConnectable:ne,nodesFocusable:oe,edgesFocusable:ie,edgesUpdatable:ae,elementsSelectable:se,elevateNodesOnSelect:$e,minZoom:le,maxZoom:ue,nodeExtent:he,onNodesChange:Ye,onEdgesChange:He,snapToGrid:Q,snapGrid:J,connectionMode:j,translateExtent:de,connectOnClick:We,defaultEdgeOptions:Je,fitView:Ke,fitViewOptions:Ue,onNodesDelete:I,onEdgesDelete:O,onNodeDragStart:M,onNodeDrag:k,onNodeDragStop:A,onSelectionDrag:z,onSelectionDragStart:R,onSelectionDragStop:D,noPanClassName:Ze,nodeOrigin:re,rfId:dt,autoPanOnConnect:nt,autoPanOnNodeDrag:ot,onError:at,connectionRadius:rt,isValidConnection:it,nodeDragThreshold:lt}),o.createElement(ir,{onSelectionChange:P}),ke,o.createElement(In,{proOptions:Qe,position:qe}),o.createElement(mr,{rfId:dt,disableKeyboardA11y:tt})))}));ra.displayName="ReactFlow";function ia(e){return t=>{const[n,r]=(0,o.useState)(t),i=(0,o.useCallback)((t=>r((n=>e(t,n)))),[]);return[n,r,i]}}const aa=ia(Gr),sa=ia((function(e,t){return Fr(e,t)}))},89181:(e,t,n)=>{"use strict";function o(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=o(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}n.d(t,{A:()=>o})},7059:(e,t,n)=>{"use strict";function o(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}n.d(t,{x:()=>o})}}]);
//# sourceMappingURL=390.dbabd1f4.chunk.js.map