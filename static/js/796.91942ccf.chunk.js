/*! For license information please see 796.91942ccf.chunk.js.LICENSE.txt */
(self.webpackChunkoveranalyse=self.webpackChunkoveranalyse||[]).push([[796],{74802:(e,t,n)=>{"use strict";var o=n(24994);t.A=void 0;var r=o(n(40039)),i=n(70579);t.A=(0,r.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},69413:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var o=n(98587),r=n(58168),i=n(65043),a=n(58387),s=n(98610),c=n(34535),u=n(98206),l=n(92532),d=n(72372);function f(e){return(0,d.Ay)("MuiFormGroup",e)}(0,l.A)("MuiFormGroup",["root","row","error"]);var h=n(85213),p=n(74827),g=n(70579);const m=["className","row"],v=(0,c.Ay)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})((e=>{let{ownerState:t}=e;return(0,r.A)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),y=i.forwardRef((function(e,t){const n=(0,u.b)({props:e,name:"MuiFormGroup"}),{className:i,row:c=!1}=n,l=(0,o.A)(n,m),d=(0,h.A)(),y=(0,p.A)({props:n,muiFormControl:d,states:["error"]}),b=(0,r.A)({},n,{row:c,error:y.error}),w=(e=>{const{classes:t,row:n,error:o}=e,r={root:["root",n&&"row",o&&"error"]};return(0,s.A)(r,f,t)})(b);return(0,g.jsx)(v,(0,r.A)({className:(0,a.A)(w.root,i),ownerState:b,ref:t},l))}))},32143:(e,t,n)=>{"use strict";n.d(t,{A:()=>N});var o=n(98587),r=n(58168),i=n(65043),a=n(58387),s=n(98610),c=n(67266),u=n(34535),l=n(61475),d=n(98206),f=n(51347),h=n(75429),p=n(55013),g=n(95849),m=n(5658),v=n(71424),y=n(28052),b=n(92532),w=n(72372);function x(e){return(0,w.Ay)("MuiMenuItem",e)}const E=(0,b.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var S=n(70579);const _=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],C=(0,u.Ay)(h.A,{shouldForwardProp:e=>(0,l.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${E.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,c.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${E.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,c.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${E.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,c.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,c.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${E.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${E.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${m.A.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${m.A.inset}`]:{marginLeft:52},[`& .${y.A.root}`]:{marginTop:0,marginBottom:0},[`& .${y.A.inset}`]:{paddingLeft:36},[`& .${v.A.root}`]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,r.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${v.A.root} svg`]:{fontSize:"1.25rem"}}))})),N=i.forwardRef((function(e,t){const n=(0,d.b)({props:e,name:"MuiMenuItem"}),{autoFocus:c=!1,component:u="li",dense:l=!1,divider:h=!1,disableGutters:m=!1,focusVisibleClassName:v,role:y="menuitem",tabIndex:b,className:w}=n,E=(0,o.A)(n,_),N=i.useContext(f.A),M=i.useMemo((()=>({dense:l||N.dense||!1,disableGutters:m})),[N.dense,l,m]),k=i.useRef(null);(0,p.A)((()=>{c&&k.current&&k.current.focus()}),[c]);const A=(0,r.A)({},n,{dense:M.dense,divider:h,disableGutters:m}),I=(e=>{const{disabled:t,dense:n,divider:o,disableGutters:i,selected:a,classes:c}=e,u={root:["root",n&&"dense",t&&"disabled",!i&&"gutters",o&&"divider",a&&"selected"]},l=(0,s.A)(u,x,c);return(0,r.A)({},c,l)})(n),P=(0,g.A)(k,t);let O;return n.disabled||(O=void 0!==b?b:-1),(0,S.jsx)(f.A.Provider,{value:M,children:(0,S.jsx)(C,(0,r.A)({ref:P,role:y,tabIndex:O,component:u,focusVisibleClassName:(0,a.A)(I.focusVisible,v),className:(0,a.A)(I.root,w)},E,{ownerState:A,classes:I}))})}))},78492:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var o=n(58168),r=n(98587),i=n(65043),a=n(58387),s=n(98610),c=n(69413),u=n(92532),l=n(72372);function d(e){return(0,l.Ay)("MuiRadioGroup",e)}(0,u.A)("MuiRadioGroup",["root","row","error"]);var f=n(95849),h=n(15420),p=n(12487),g=n(45879),m=n(70579);const v=["actions","children","className","defaultValue","name","onChange","value"],y=i.forwardRef((function(e,t){const{actions:n,children:u,className:l,defaultValue:y,name:b,onChange:w,value:x}=e,E=(0,r.A)(e,v),S=i.useRef(null),_=(e=>{const{classes:t,row:n,error:o}=e,r={root:["root",n&&"row",o&&"error"]};return(0,s.A)(r,d,t)})(e),[C,N]=(0,h.A)({controlled:x,default:y,name:"RadioGroup"});i.useImperativeHandle(n,(()=>({focus:()=>{let e=S.current.querySelector("input:not(:disabled):checked");e||(e=S.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const M=(0,f.A)(t,S),k=(0,g.A)(b),A=i.useMemo((()=>({name:k,onChange(e){N(e.target.value),w&&w(e,e.target.value)},value:C})),[k,w,N,C]);return(0,m.jsx)(p.A.Provider,{value:A,children:(0,m.jsx)(c.A,(0,o.A)({role:"radiogroup",ref:M,className:(0,a.A)(_.root,l)},E,{children:u}))})}))},12487:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});const o=n(65043).createContext(void 0)},14256:(e,t,n)=>{"use strict";n.d(t,{A:()=>O});var o=n(98587),r=n(58168),i=n(65043),a=n(58387),s=n(98610),c=n(67266),u=n(33064),l=n(98206),d=n(59662),f=n(70579);const h=(0,d.A)((0,f.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),p=(0,d.A)((0,f.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked");var g=n(34535),m=n(61475);const v=(0,g.Ay)("span",{shouldForwardProp:m.A})({position:"relative",display:"flex"}),y=(0,g.Ay)(h)({transform:"scale(1)"}),b=(0,g.Ay)(p)((e=>{let{theme:t,ownerState:n}=e;return(0,r.A)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const w=function(e){const{checked:t=!1,classes:n={},fontSize:o}=e,i=(0,r.A)({},e,{checked:t});return(0,f.jsxs)(v,{className:n.root,ownerState:i,children:[(0,f.jsx)(y,{fontSize:o,className:n.background,ownerState:i}),(0,f.jsx)(b,{fontSize:o,className:n.dot,ownerState:i})]})};var x=n(6803),E=n(6593),S=n(12487);var _=n(92532),C=n(72372);function N(e){return(0,C.Ay)("MuiRadio",e)}const M=(0,_.A)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),k=["checked","checkedIcon","color","icon","name","onChange","size","className"],A=(0,g.Ay)(u.A,{shouldForwardProp:e=>(0,m.A)(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t[`size${(0,x.A)(n.size)}`],t[`color${(0,x.A)(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,r.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${"default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,c.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{[`&.${M.checked}`]:{color:(t.vars||t).palette[n.color].main}},{[`&.${M.disabled}`]:{color:(t.vars||t).palette.action.disabled}})}));const I=(0,f.jsx)(w,{checked:!0}),P=(0,f.jsx)(w,{}),O=i.forwardRef((function(e,t){var n,c;const u=(0,l.b)({props:e,name:"MuiRadio"}),{checked:d,checkedIcon:h=I,color:p="primary",icon:g=P,name:m,onChange:v,size:y="medium",className:b}=u,w=(0,o.A)(u,k),_=(0,r.A)({},u,{color:p,size:y}),C=(e=>{const{classes:t,color:n,size:o}=e,i={root:["root",`color${(0,x.A)(n)}`,"medium"!==o&&`size${(0,x.A)(o)}`]};return(0,r.A)({},t,(0,s.A)(i,N,t))})(_),M=i.useContext(S.A);let O=d;const R=(0,E.A)(v,M&&M.onChange);let D=m;var z,T;return M&&("undefined"===typeof O&&(z=M.value,O="object"===typeof(T=u.value)&&null!==T?z===T:String(z)===String(T)),"undefined"===typeof D&&(D=M.name)),(0,f.jsx)(A,(0,r.A)({type:"radio",icon:i.cloneElement(g,{fontSize:null!=(n=P.props.fontSize)?n:y}),checkedIcon:i.cloneElement(h,{fontSize:null!=(c=I.props.fontSize)?c:y}),ownerState:_,classes:C,name:D,checked:O,onChange:R,ref:t,className:(0,a.A)(C.root,b)},w))}))},63577:(e,t,n)=>{e.exports={graphlib:n(17938),layout:n(86675),debug:n(3774),util:{time:n(65641).time,notime:n(65641).notime},version:n(45185)}},5673:(e,t,n)=>{"use strict";var o=n(78208),r=n(63130);e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?r(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},r={};function i(a){o.has(r,a)||(r[a]=!0,n[a]=!0,o.forEach(e.outEdges(a),(function(e){o.has(n,e.w)?t.push(e):i(e.w)})),delete n[a])}return o.forEach(e.nodes(),i),t}(e);o.forEach(t,(function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,o.uniqueId("rev"))}))},undo:function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var o=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,o)}}))}}},5972:(e,t,n)=>{var o=n(78208),r=n(65641);function i(e,t,n,o,i,a){var s={width:0,height:0,rank:a,borderType:t},c=i[t][a-1],u=r.addDummyNode(e,"border",s,n);i[t][a]=u,e.setParent(u,o),c&&e.setEdge(c,u,{weight:1})}e.exports=function(e){o.forEach(e.children(),(function t(n){var r=e.children(n),a=e.node(n);if(r.length&&o.forEach(r,t),o.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,c=a.maxRank+1;s<c;++s)i(e,"borderLeft","_bl",n,a,s),i(e,"borderRight","_br",n,a,s)}}))}},21981:(e,t,n)=>{"use strict";var o=n(78208);function r(e){o.forEach(e.nodes(),(function(t){i(e.node(t))})),o.forEach(e.edges(),(function(t){i(e.edge(t))}))}function i(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||r(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||function(e){o.forEach(e.nodes(),(function(t){a(e.node(t))})),o.forEach(e.edges(),(function(t){var n=e.edge(t);o.forEach(n.points,a),o.has(n,"y")&&a(n)}))}(e);"lr"!==t&&"rl"!==t||(!function(e){o.forEach(e.nodes(),(function(t){s(e.node(t))})),o.forEach(e.edges(),(function(t){var n=e.edge(t);o.forEach(n.points,s),o.has(n,"x")&&s(n)}))}(e),r(e))}}},66684:e=>{function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function o(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,o)),n=n._prev;return"["+e.join(", ")+"]"}},3774:(e,t,n)=>{var o=n(78208),r=n(65641),i=n(17938).Graph;e.exports={debugOrdering:function(e){var t=r.buildLayerMatrix(e),n=new i({compound:!0,multigraph:!0}).setGraph({});return o.forEach(e.nodes(),(function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)})),o.forEach(e.edges(),(function(e){n.setEdge(e.v,e.w,{},e.name)})),o.forEach(t,(function(e,t){var r="layer"+t;n.setNode(r,{rank:"same"}),o.reduce(e,(function(e,t){return n.setEdge(e,t,{style:"invis"}),t}))})),n}}},17938:(e,t,n)=>{var o;try{o=n(79207)}catch(r){}o||(o=window.graphlib),e.exports=o},63130:(e,t,n)=>{var o=n(78208),r=n(17938).Graph,i=n(66684);e.exports=function(e,t){if(e.nodeCount()<=1)return[];var n=function(e,t){var n=new r,a=0,s=0;o.forEach(e.nodes(),(function(e){n.setNode(e,{v:e,in:0,out:0})})),o.forEach(e.edges(),(function(e){var o=n.edge(e.v,e.w)||0,r=t(e),i=o+r;n.setEdge(e.v,e.w,i),s=Math.max(s,n.node(e.v).out+=r),a=Math.max(a,n.node(e.w).in+=r)}));var u=o.range(s+a+3).map((function(){return new i})),l=a+1;return o.forEach(n.nodes(),(function(e){c(u,l,n.node(e))})),{graph:n,buckets:u,zeroIdx:l}}(e,t||a),u=function(e,t,n){var o,r=[],i=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;o=a.dequeue();)s(e,t,n,o);for(;o=i.dequeue();)s(e,t,n,o);if(e.nodeCount())for(var c=t.length-2;c>0;--c)if(o=t[c].dequeue()){r=r.concat(s(e,t,n,o,!0));break}}return r}(n.graph,n.buckets,n.zeroIdx);return o.flatten(o.map(u,(function(t){return e.outEdges(t.v,t.w)})),!0)};var a=o.constant(1);function s(e,t,n,r,i){var a=i?[]:void 0;return o.forEach(e.inEdges(r.v),(function(o){var r=e.edge(o),s=e.node(o.v);i&&a.push({v:o.v,w:o.w}),s.out-=r,c(t,n,s)})),o.forEach(e.outEdges(r.v),(function(o){var r=e.edge(o),i=o.w,a=e.node(i);a.in-=r,c(t,n,a)})),e.removeNode(r.v),a}function c(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},86675:(e,t,n)=>{"use strict";var o=n(78208),r=n(5673),i=n(22786),a=n(12460),s=n(65641).normalizeRanks,c=n(76467),u=n(65641).removeEmptyRanks,l=n(35146),d=n(5972),f=n(21981),h=n(550),p=n(81277),g=n(65641),m=n(17938).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?g.time:g.notime;n("layout",(function(){var t=n("  buildLayoutGraph",(function(){return function(e){var t=new m({multigraph:!0,compound:!0}),n=N(e.graph());return t.setGraph(o.merge({},y,C(n,v),o.pick(n,b))),o.forEach(e.nodes(),(function(n){var r=N(e.node(n));t.setNode(n,o.defaults(C(r,w),x)),t.setParent(n,e.parent(n))})),o.forEach(e.edges(),(function(n){var r=N(e.edge(n));t.setEdge(n,o.merge({},S,C(r,E),o.pick(r,_)))})),t}(e)}));n("  runLayout",(function(){!function(e,t){t("    makeSpaceForEdgeLabels",(function(){!function(e){var t=e.graph();t.ranksep/=2,o.forEach(e.edges(),(function(n){var o=e.edge(n);o.minlen*=2,"c"!==o.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?o.width+=o.labeloffset:o.height+=o.labeloffset)}))}(e)})),t("    removeSelfEdges",(function(){!function(e){o.forEach(e.edges(),(function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}}))}(e)})),t("    acyclic",(function(){r.run(e)})),t("    nestingGraph.run",(function(){l.run(e)})),t("    rank",(function(){a(g.asNonCompoundGraph(e))})),t("    injectEdgeLabelProxies",(function(){!function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);if(n.width&&n.height){var o=e.node(t.v),r={rank:(e.node(t.w).rank-o.rank)/2+o.rank,e:t};g.addDummyNode(e,"edge-proxy",r,"_ep")}}))}(e)})),t("    removeEmptyRanks",(function(){u(e)})),t("    nestingGraph.cleanup",(function(){l.cleanup(e)})),t("    normalizeRanks",(function(){s(e)})),t("    assignRankMinMax",(function(){!function(e){var t=0;o.forEach(e.nodes(),(function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=o.max(t,r.maxRank))})),e.graph().maxRank=t}(e)})),t("    removeEdgeLabelProxies",(function(){!function(e){o.forEach(e.nodes(),(function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))}))}(e)})),t("    normalize.run",(function(){i.run(e)})),t("    parentDummyChains",(function(){c(e)})),t("    addBorderSegments",(function(){d(e)})),t("    order",(function(){h(e)})),t("    insertSelfEdges",(function(){!function(e){var t=g.buildLayerMatrix(e);o.forEach(t,(function(t){var n=0;o.forEach(t,(function(t,r){var i=e.node(t);i.order=r+n,o.forEach(i.selfEdges,(function(t){g.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:r+ ++n,e:t.e,label:t.label},"_se")})),delete i.selfEdges}))}))}(e)})),t("    adjustCoordinateSystem",(function(){f.adjust(e)})),t("    position",(function(){p(e)})),t("    positionSelfEdges",(function(){!function(e){o.forEach(e.nodes(),(function(t){var n=e.node(t);if("selfedge"===n.dummy){var o=e.node(n.e.v),r=o.x+o.width/2,i=o.y,a=n.x-r,s=o.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:r+2*a/3,y:i-s},{x:r+5*a/6,y:i-s},{x:r+a,y:i},{x:r+5*a/6,y:i+s},{x:r+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}}))}(e)})),t("    removeBorderNodes",(function(){!function(e){o.forEach(e.nodes(),(function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(o.last(n.borderLeft)),s=e.node(o.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(i.y-r.y),n.x=a.x+n.width/2,n.y=r.y+n.height/2}})),o.forEach(e.nodes(),(function(t){"border"===e.node(t).dummy&&e.removeNode(t)}))}(e)})),t("    normalize.undo",(function(){i.undo(e)})),t("    fixupEdgeLabelCoords",(function(){!function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);if(o.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(e)})),t("    undoCoordinateSystem",(function(){f.undo(e)})),t("    translateGraph",(function(){!function(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,c=a.marginy||0;function u(e){var o=e.x,a=e.y,s=e.width,c=e.height;t=Math.min(t,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-c/2),i=Math.max(i,a+c/2)}o.forEach(e.nodes(),(function(t){u(e.node(t))})),o.forEach(e.edges(),(function(t){var n=e.edge(t);o.has(n,"x")&&u(n)})),t-=s,r-=c,o.forEach(e.nodes(),(function(n){var o=e.node(n);o.x-=t,o.y-=r})),o.forEach(e.edges(),(function(n){var i=e.edge(n);o.forEach(i.points,(function(e){e.x-=t,e.y-=r})),o.has(i,"x")&&(i.x-=t),o.has(i,"y")&&(i.y-=r)})),a.width=n-t+s,a.height=i-r+c}(e)})),t("    assignNodeIntersects",(function(){!function(e){o.forEach(e.edges(),(function(t){var n,o,r=e.edge(t),i=e.node(t.v),a=e.node(t.w);r.points?(n=r.points[0],o=r.points[r.points.length-1]):(r.points=[],n=a,o=i),r.points.unshift(g.intersectRect(i,n)),r.points.push(g.intersectRect(a,o))}))}(e)})),t("    reversePoints",(function(){!function(e){o.forEach(e.edges(),(function(t){var n=e.edge(t);n.reversed&&n.points.reverse()}))}(e)})),t("    acyclic.undo",(function(){r.undo(e)}))}(t,n)})),n("  updateInputGraph",(function(){!function(e,t){o.forEach(e.nodes(),(function(n){var o=e.node(n),r=t.node(n);o&&(o.x=r.x,o.y=r.y,t.children(n).length&&(o.width=r.width,o.height=r.height))})),o.forEach(e.edges(),(function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,o.has(i,"x")&&(r.x=i.x,r.y=i.y)})),e.graph().width=t.graph().width,e.graph().height=t.graph().height}(e,t)}))}))};var v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],w=["width","height"],x={width:0,height:0},E=["minlen","weight","width","height","labeloffset"],S={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},_=["labelpos"];function C(e,t){return o.mapValues(o.pick(e,t),Number)}function N(e){var t={};return o.forEach(e,(function(e,n){t[n.toLowerCase()]=e})),t}},78208:(e,t,n)=>{var o;try{o={cloneDeep:n(56434),constant:n(22541),defaults:n(31163),each:n(62580),filter:n(50723),find:n(98990),flatten:n(20819),forEach:n(55491),forIn:n(77717),has:n(62117),isUndefined:n(141),last:n(74065),map:n(33411),mapValues:n(91733),max:n(50539),merge:n(34677),min:n(76745),minBy:n(59364),now:n(4757),pick:n(22616),range:n(96604),reduce:n(12759),sortBy:n(87424),uniqueId:n(80111),values:n(26727),zipObject:n(78129)}}catch(r){}o||(o=window._),e.exports=o},35146:(e,t,n)=>{var o=n(78208),r=n(65641);function i(e,t,n,a,s,c,u){var l=e.children(u);if(l.length){var d=r.addBorderNode(e,"_bt"),f=r.addBorderNode(e,"_bb"),h=e.node(u);e.setParent(d,u),h.borderTop=d,e.setParent(f,u),h.borderBottom=f,o.forEach(l,(function(o){i(e,t,n,a,s,c,o);var r=e.node(o),l=r.borderTop?r.borderTop:o,h=r.borderBottom?r.borderBottom:o,p=r.borderTop?a:2*a,g=l!==h?1:s-c[u]+1;e.setEdge(d,l,{weight:p,minlen:g,nestingEdge:!0}),e.setEdge(h,f,{weight:p,minlen:g,nestingEdge:!0})})),e.parent(u)||e.setEdge(t,d,{weight:0,minlen:s+c[u]})}else u!==t&&e.setEdge(t,u,{weight:0,minlen:n})}e.exports={run:function(e){var t=r.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};function n(r,i){var a=e.children(r);a&&a.length&&o.forEach(a,(function(e){n(e,i+1)})),t[r]=i}return o.forEach(e.children(),(function(e){n(e,1)})),t}(e),a=o.max(o.values(n))-1,s=2*a+1;e.graph().nestingRoot=t,o.forEach(e.edges(),(function(t){e.edge(t).minlen*=s}));var c=function(e){return o.reduce(e.edges(),(function(t,n){return t+e.edge(n).weight}),0)}(e)+1;o.forEach(e.children(),(function(o){i(e,t,s,c,a,n,o)})),e.graph().nodeRankFactor=s},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,o.forEach(e.edges(),(function(t){e.edge(t).nestingEdge&&e.removeEdge(t)}))}}},22786:(e,t,n)=>{"use strict";var o=n(78208),r=n(65641);e.exports={run:function(e){e.graph().dummyChains=[],o.forEach(e.edges(),(function(t){!function(e,t){var n,o,i,a=t.v,s=e.node(a).rank,c=t.w,u=e.node(c).rank,l=t.name,d=e.edge(t),f=d.labelRank;if(u===s+1)return;for(e.removeEdge(t),i=0,++s;s<u;++i,++s)d.points=[],o={width:0,height:0,edgeLabel:d,edgeObj:t,rank:s},n=r.addDummyNode(e,"edge",o,"_d"),s===f&&(o.width=d.width,o.height=d.height,o.dummy="edge-label",o.labelpos=d.labelpos),e.setEdge(a,n,{weight:d.weight},l),0===i&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,c,{weight:d.weight},l)}(e,t)}))},undo:function(e){o.forEach(e.graph().dummyChains,(function(t){var n,o=e.node(t),r=o.edgeLabel;for(e.setEdge(o.edgeObj,r);o.dummy;)n=e.successors(t)[0],e.removeNode(t),r.points.push({x:o.x,y:o.y}),"edge-label"===o.dummy&&(r.x=o.x,r.y=o.y,r.width=o.width,r.height=o.height),t=n,o=e.node(t)}))}}},8381:(e,t,n)=>{var o=n(78208);e.exports=function(e,t,n){var r,i={};o.forEach(n,(function(n){for(var o,a,s=e.parent(n);s;){if((o=e.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void t.setEdge(a,s);s=o}}))}},46297:(e,t,n)=>{var o=n(78208);e.exports=function(e,t){return o.map(t,(function(t){var n=e.inEdges(t);if(n.length){var r=o.reduce(n,(function(t,n){var o=e.edge(n),r=e.node(n.v);return{sum:t.sum+o.weight*r.order,weight:t.weight+o.weight}}),{sum:0,weight:0});return{v:t,barycenter:r.sum/r.weight,weight:r.weight}}return{v:t}}))}},81987:(e,t,n)=>{var o=n(78208),r=n(17938).Graph;e.exports=function(e,t,n){var i=function(e){var t;for(;e.hasNode(t=o.uniqueId("_root")););return t}(e),a=new r({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(t){return e.node(t)}));return o.forEach(e.nodes(),(function(r){var s=e.node(r),c=e.parent(r);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(r),a.setParent(r,c||i),o.forEach(e[n](r),(function(t){var n=t.v===r?t.w:t.v,i=a.edge(n,r),s=o.isUndefined(i)?0:i.weight;a.setEdge(n,r,{weight:e.edge(t).weight+s})})),o.has(s,"minRank")&&a.setNode(r,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))})),a}},74308:(e,t,n)=>{"use strict";var o=n(78208);function r(e,t,n){for(var r=o.zipObject(n,o.map(n,(function(e,t){return t}))),i=o.flatten(o.map(t,(function(t){return o.sortBy(o.map(e.outEdges(t),(function(t){return{pos:r[t.w],weight:e.edge(t).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var c=o.map(new Array(s),(function(){return 0})),u=0;return o.forEach(i.forEach((function(e){var t=e.pos+a;c[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=c[t+1]),c[t=t-1>>1]+=e.weight;u+=e.weight*n}))),u}e.exports=function(e,t){for(var n=0,o=1;o<t.length;++o)n+=r(e,t[o-1],t[o]);return n}},550:(e,t,n)=>{"use strict";var o=n(78208),r=n(5819),i=n(74308),a=n(49791),s=n(81987),c=n(8381),u=n(17938).Graph,l=n(65641);function d(e,t,n){return o.map(t,(function(t){return s(e,t,n)}))}function f(e,t){var n=new u;o.forEach(e,(function(e){var r=e.graph().root,i=a(e,r,n,t);o.forEach(i.vs,(function(t,n){e.node(t).order=n})),c(e,n,i.vs)}))}function h(e,t){o.forEach(t,(function(t){o.forEach(t,(function(t,n){e.node(t).order=n}))}))}e.exports=function(e){var t=l.maxRank(e),n=d(e,o.range(1,t+1),"inEdges"),a=d(e,o.range(t-1,-1,-1),"outEdges"),s=r(e);h(e,s);for(var c,u=Number.POSITIVE_INFINITY,p=0,g=0;g<4;++p,++g){f(p%2?n:a,p%4>=2),s=l.buildLayerMatrix(e);var m=i(e,s);m<u&&(g=0,c=o.cloneDeep(s),u=m)}h(e,c)}},5819:(e,t,n)=>{"use strict";var o=n(78208);e.exports=function(e){var t={},n=o.filter(e.nodes(),(function(t){return!e.children(t).length})),r=o.max(o.map(n,(function(t){return e.node(t).rank}))),i=o.map(o.range(r+1),(function(){return[]}));var a=o.sortBy(n,(function(t){return e.node(t).rank}));return o.forEach(a,(function n(r){if(o.has(t,r))return;t[r]=!0;var a=e.node(r);i[a.rank].push(r),o.forEach(e.successors(r),n)})),i}},68396:(e,t,n)=>{"use strict";var o=n(78208);e.exports=function(e,t){var n={};return o.forEach(e,(function(e,t){var r=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};o.isUndefined(e.barycenter)||(r.barycenter=e.barycenter,r.weight=e.weight)})),o.forEach(t.edges(),(function(e){var t=n[e.v],r=n[e.w];o.isUndefined(t)||o.isUndefined(r)||(r.indegree++,t.out.push(n[e.w]))})),function(e){var t=[];function n(e){return function(t){t.merged||(o.isUndefined(t.barycenter)||o.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,o=0;e.weight&&(n+=e.barycenter*e.weight,o+=e.weight);t.weight&&(n+=t.barycenter*t.weight,o+=t.weight);e.vs=t.vs.concat(e.vs),e.barycenter=n/o,e.weight=o,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}function r(t){return function(n){n.in.push(t),0===--n.indegree&&e.push(n)}}for(;e.length;){var i=e.pop();t.push(i),o.forEach(i.in.reverse(),n(i)),o.forEach(i.out,r(i))}return o.map(o.filter(t,(function(e){return!e.merged})),(function(e){return o.pick(e,["vs","i","barycenter","weight"])}))}(o.filter(n,(function(e){return!e.indegree})))}},49791:(e,t,n)=>{var o=n(78208),r=n(46297),i=n(68396),a=n(50388);e.exports=function e(t,n,s,c){var u=t.children(n),l=t.node(n),d=l?l.borderLeft:void 0,f=l?l.borderRight:void 0,h={};d&&(u=o.filter(u,(function(e){return e!==d&&e!==f})));var p=r(t,u);o.forEach(p,(function(n){if(t.children(n.v).length){var r=e(t,n.v,s,c);h[n.v]=r,o.has(r,"barycenter")&&(i=n,a=r,o.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var g=i(p,s);!function(e,t){o.forEach(e,(function(e){e.vs=o.flatten(e.vs.map((function(e){return t[e]?t[e].vs:e})),!0)}))}(g,h);var m=a(g,c);if(d&&(m.vs=o.flatten([d,m.vs,f],!0),t.predecessors(d).length)){var v=t.node(t.predecessors(d)[0]),y=t.node(t.predecessors(f)[0]);o.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+v.order+y.order)/(m.weight+2),m.weight+=2}return m}},50388:(e,t,n)=>{var o=n(78208),r=n(65641);function i(e,t,n){for(var r;t.length&&(r=o.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}e.exports=function(e,t){var n=r.partition(e,(function(e){return o.has(e,"barycenter")})),a=n.lhs,s=o.sortBy(n.rhs,(function(e){return-e.i})),c=[],u=0,l=0,d=0;a.sort((f=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:f?t.i-e.i:e.i-t.i})),d=i(c,s,d),o.forEach(a,(function(e){d+=e.vs.length,c.push(e.vs),u+=e.barycenter*e.weight,l+=e.weight,d=i(c,s,d)}));var f;var h={vs:o.flatten(c,!0)};l&&(h.barycenter=u/l,h.weight=l);return h}},76467:(e,t,n)=>{var o=n(78208);e.exports=function(e){var t=function(e){var t={},n=0;function r(i){var a=n;o.forEach(e.children(i),r),t[i]={low:a,lim:n++}}return o.forEach(e.children(),r),t}(e);o.forEach(e.graph().dummyChains,(function(n){for(var o=e.node(n),r=o.edgeObj,i=function(e,t,n,o){var r,i,a=[],s=[],c=Math.min(t[n].low,t[o].low),u=Math.max(t[n].lim,t[o].lim);r=n;do{r=e.parent(r),a.push(r)}while(r&&(t[r].low>c||u>t[r].lim));i=r,r=o;for(;(r=e.parent(r))!==i;)s.push(r);return{path:a.concat(s.reverse()),lca:i}}(e,t,r.v,r.w),a=i.path,s=i.lca,c=0,u=a[c],l=!0;n!==r.w;){if(o=e.node(n),l){for(;(u=a[c])!==s&&e.node(u).maxRank<o.rank;)c++;u===s&&(l=!1)}if(!l){for(;c<a.length-1&&e.node(u=a[c+1]).minRank<=o.rank;)c++;u=a[c]}e.setParent(n,u),n=e.successors(n)[0]}}))}},39558:(e,t,n)=>{"use strict";var o=n(78208),r=n(17938).Graph,i=n(65641);function a(e,t){var n={};return o.reduce(t,(function(t,r){var i=0,a=0,s=t.length,u=o.last(r);return o.forEach(r,(function(t,l){var d=function(e,t){if(e.node(t).dummy)return o.find(e.predecessors(t),(function(t){return e.node(t).dummy}))}(e,t),f=d?e.node(d).order:s;(d||t===u)&&(o.forEach(r.slice(a,l+1),(function(t){o.forEach(e.predecessors(t),(function(o){var r=e.node(o),a=r.order;!(a<i||f<a)||r.dummy&&e.node(t).dummy||c(n,o,t)}))})),a=l+1,i=f)})),r})),n}function s(e,t){var n={};function r(t,r,i,a,s){var u;o.forEach(o.range(r,i),(function(r){u=t[r],e.node(u).dummy&&o.forEach(e.predecessors(u),(function(t){var o=e.node(t);o.dummy&&(o.order<a||o.order>s)&&c(n,t,u)}))}))}return o.reduce(t,(function(t,n){var i,a=-1,s=0;return o.forEach(n,(function(o,c){if("border"===e.node(o).dummy){var u=e.predecessors(o);u.length&&(i=e.node(u[0]).order,r(n,s,c,a,i),s=c,a=i)}r(n,s,n.length,i,t.length)})),n})),n}function c(e,t,n){if(t>n){var o=t;t=n,n=o}var r=e[t];r||(e[t]=r={}),r[n]=!0}function u(e,t,n){if(t>n){var r=t;t=n,n=r}return o.has(e[t],n)}function l(e,t,n,r){var i={},a={},s={};return o.forEach(t,(function(e){o.forEach(e,(function(e,t){i[e]=e,a[e]=e,s[e]=t}))})),o.forEach(t,(function(e){var t=-1;o.forEach(e,(function(e){var c=r(e);if(c.length){c=o.sortBy(c,(function(e){return s[e]}));for(var l=(c.length-1)/2,d=Math.floor(l),f=Math.ceil(l);d<=f;++d){var h=c[d];a[e]===e&&t<s[h]&&!u(n,e,h)&&(a[h]=e,a[e]=i[e]=i[h],t=s[h])}}}))})),{root:i,align:a}}function d(e,t,n,i,a){var s={},c=function(e,t,n,i){var a=new r,s=e.graph(),c=function(e,t,n){return function(r,i,a){var s,c=r.node(i),u=r.node(a),l=0;if(l+=c.width/2,o.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=-c.width/2;break;case"r":s=c.width/2}if(s&&(l+=n?s:-s),s=0,l+=(c.dummy?t:e)/2,l+=(u.dummy?t:e)/2,l+=u.width/2,o.has(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":s=u.width/2;break;case"r":s=-u.width/2}return s&&(l+=n?s:-s),s=0,l}}(s.nodesep,s.edgesep,i);return o.forEach(t,(function(t){var r;o.forEach(t,(function(t){var o=n[t];if(a.setNode(o),r){var i=n[r],s=a.edge(i,o);a.setEdge(i,o,Math.max(c(e,t,r),s||0))}r=t}))})),a}(e,t,n,a),u=a?"borderLeft":"borderRight";function l(e,t){for(var n=c.nodes(),o=n.pop(),r={};o;)r[o]?e(o):(r[o]=!0,n.push(o),n=n.concat(t(o))),o=n.pop()}return l((function(e){s[e]=c.inEdges(e).reduce((function(e,t){return Math.max(e,s[t.v]+c.edge(t))}),0)}),c.predecessors.bind(c)),l((function(t){var n=c.outEdges(t).reduce((function(e,t){return Math.min(e,s[t.w]-c.edge(t))}),Number.POSITIVE_INFINITY),o=e.node(t);n!==Number.POSITIVE_INFINITY&&o.borderType!==u&&(s[t]=Math.max(s[t],n))}),c.successors.bind(c)),o.forEach(i,(function(e){s[e]=s[n[e]]})),s}function f(e,t){return o.minBy(o.values(t),(function(t){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return o.forIn(t,(function(t,o){var i=function(e,t){return e.node(t).width}(e,o)/2;n=Math.max(t+i,n),r=Math.min(t-i,r)})),n-r}))}function h(e,t){var n=o.values(t),r=o.min(n),i=o.max(n);o.forEach(["u","d"],(function(n){o.forEach(["l","r"],(function(a){var s,c=n+a,u=e[c];if(u!==t){var l=o.values(u);(s="l"===a?r-o.min(l):i-o.max(l))&&(e[c]=o.mapValues(u,(function(e){return e+s})))}}))}))}function p(e,t){return o.mapValues(e.ul,(function(n,r){if(t)return e[t.toLowerCase()][r];var i=o.sortBy(o.map(e,r));return(i[1]+i[2])/2}))}e.exports={positionX:function(e){var t,n=i.buildLayerMatrix(e),r=o.merge(a(e,n),s(e,n)),c={};o.forEach(["u","d"],(function(i){t="u"===i?n:o.values(n).reverse(),o.forEach(["l","r"],(function(n){"r"===n&&(t=o.map(t,(function(e){return o.values(e).reverse()})));var a=("u"===i?e.predecessors:e.successors).bind(e),s=l(e,t,r,a),u=d(e,t,s.root,s.align,"r"===n);"r"===n&&(u=o.mapValues(u,(function(e){return-e}))),c[i+n]=u}))}));var u=f(e,c);return h(c,u),p(c,e.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:c,hasConflict:u,verticalAlignment:l,horizontalCompaction:d,alignCoordinates:h,findSmallestWidthAlignment:f,balance:p}},81277:(e,t,n)=>{"use strict";var o=n(78208),r=n(65641),i=n(39558).positionX;e.exports=function(e){(function(e){var t=r.buildLayerMatrix(e),n=e.graph().ranksep,i=0;o.forEach(t,(function(t){var r=o.max(o.map(t,(function(t){return e.node(t).height})));o.forEach(t,(function(t){e.node(t).y=i+r/2})),i+=r+n}))})(e=r.asNonCompoundGraph(e)),o.forEach(i(e),(function(t,n){e.node(n).x=t}))}},23088:(e,t,n)=>{"use strict";var o=n(78208),r=n(17938).Graph,i=n(55758).slack;function a(e,t){return o.forEach(e.nodes(),(function n(r){o.forEach(t.nodeEdges(r),(function(o){var a=o.v,s=r===a?o.w:a;e.hasNode(s)||i(t,o)||(e.setNode(s,{}),e.setEdge(r,s,{}),n(s))}))})),e.nodeCount()}function s(e,t){return o.minBy(t.edges(),(function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return i(t,n)}))}function c(e,t,n){o.forEach(e.nodes(),(function(e){t.node(e).rank+=n}))}e.exports=function(e){var t,n,o=new r({directed:!1}),u=e.nodes()[0],l=e.nodeCount();o.setNode(u,{});for(;a(o,e)<l;)t=s(o,e),n=o.hasNode(t.v)?i(e,t):-i(e,t),c(o,e,n);return o}},12460:(e,t,n)=>{"use strict";var o=n(55758).longestPath,r=n(23088),i=n(24501);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:s(e);break;case"tight-tree":!function(e){o(e),r(e)}(e);break;case"longest-path":a(e)}};var a=o;function s(e){i(e)}},24501:(e,t,n)=>{"use strict";var o=n(78208),r=n(23088),i=n(55758).slack,a=n(55758).longestPath,s=n(17938).alg.preorder,c=n(17938).alg.postorder,u=n(65641).simplify;function l(e){e=u(e),a(e);var t,n=r(e);for(h(n),d(n,e);t=g(n);)v(n,e,t,m(n,e,t))}function d(e,t){var n=c(e,e.nodes());n=n.slice(0,n.length-1),o.forEach(n,(function(n){!function(e,t,n){var o=e.node(n),r=o.parent;e.edge(n,r).cutvalue=f(e,t,n)}(e,t,n)}))}function f(e,t,n){var r=e.node(n).parent,i=!0,a=t.edge(n,r),s=0;return a||(i=!1,a=t.edge(r,n)),s=a.weight,o.forEach(t.nodeEdges(n),(function(o){var a,c,u=o.v===n,l=u?o.w:o.v;if(l!==r){var d=u===i,f=t.edge(o).weight;if(s+=d?f:-f,a=n,c=l,e.hasEdge(a,c)){var h=e.edge(n,l).cutvalue;s+=d?-h:h}}})),s}function h(e,t){arguments.length<2&&(t=e.nodes()[0]),p(e,{},1,t)}function p(e,t,n,r,i){var a=n,s=e.node(r);return t[r]=!0,o.forEach(e.neighbors(r),(function(i){o.has(t,i)||(n=p(e,t,n,i,r))})),s.low=a,s.lim=n++,i?s.parent=i:delete s.parent,n}function g(e){return o.find(e.edges(),(function(t){return e.edge(t).cutvalue<0}))}function m(e,t,n){var r=n.v,a=n.w;t.hasEdge(r,a)||(r=n.w,a=n.v);var s=e.node(r),c=e.node(a),u=s,l=!1;s.lim>c.lim&&(u=c,l=!0);var d=o.filter(t.edges(),(function(t){return l===y(e,e.node(t.v),u)&&l!==y(e,e.node(t.w),u)}));return o.minBy(d,(function(e){return i(t,e)}))}function v(e,t,n,r){var i=n.v,a=n.w;e.removeEdge(i,a),e.setEdge(r.v,r.w,{}),h(e),d(e,t),function(e,t){var n=o.find(e.nodes(),(function(e){return!t.node(e).parent})),r=s(e,n);r=r.slice(1),o.forEach(r,(function(n){var o=e.node(n).parent,r=t.edge(n,o),i=!1;r||(r=t.edge(o,n),i=!0),t.node(n).rank=t.node(o).rank+(i?r.minlen:-r.minlen)}))}(e,t)}function y(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}e.exports=l,l.initLowLimValues=h,l.initCutValues=d,l.calcCutValue=f,l.leaveEdge=g,l.enterEdge=m,l.exchangeEdges=v},55758:(e,t,n)=>{"use strict";var o=n(78208);e.exports={longestPath:function(e){var t={};o.forEach(e.sources(),(function n(r){var i=e.node(r);if(o.has(t,r))return i.rank;t[r]=!0;var a=o.min(o.map(e.outEdges(r),(function(t){return n(t.w)-e.edge(t).minlen})));return a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0),i.rank=a}))},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},65641:(e,t,n)=>{"use strict";var o=n(78208),r=n(17938).Graph;function i(e,t,n,r){var i;do{i=o.uniqueId(r)}while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function a(e){return o.max(o.map(e.nodes(),(function(t){var n=e.node(t).rank;if(!o.isUndefined(n))return n})))}e.exports={addDummyNode:i,simplify:function(e){var t=(new r).setGraph(e.graph());return o.forEach(e.nodes(),(function(n){t.setNode(n,e.node(n))})),o.forEach(e.edges(),(function(n){var o=t.edge(n.v,n.w)||{weight:0,minlen:1},r=e.edge(n);t.setEdge(n.v,n.w,{weight:o.weight+r.weight,minlen:Math.max(o.minlen,r.minlen)})})),t},asNonCompoundGraph:function(e){var t=new r({multigraph:e.isMultigraph()}).setGraph(e.graph());return o.forEach(e.nodes(),(function(n){e.children(n).length||t.setNode(n,e.node(n))})),o.forEach(e.edges(),(function(n){t.setEdge(n,e.edge(n))})),t},successorWeights:function(e){var t=o.map(e.nodes(),(function(t){var n={};return o.forEach(e.outEdges(t),(function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight})),n}));return o.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=o.map(e.nodes(),(function(t){var n={};return o.forEach(e.inEdges(t),(function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight})),n}));return o.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,o,r=e.x,i=e.y,a=t.x-r,s=t.y-i,c=e.width/2,u=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*c>Math.abs(a)*u?(s<0&&(u=-u),n=u*a/s,o=u):(a<0&&(c=-c),n=c,o=c*s/a);return{x:r+n,y:i+o}},buildLayerMatrix:function(e){var t=o.map(o.range(a(e)+1),(function(){return[]}));return o.forEach(e.nodes(),(function(n){var r=e.node(n),i=r.rank;o.isUndefined(i)||(t[i][r.order]=n)})),t},normalizeRanks:function(e){var t=o.min(o.map(e.nodes(),(function(t){return e.node(t).rank})));o.forEach(e.nodes(),(function(n){var r=e.node(n);o.has(r,"rank")&&(r.rank-=t)}))},removeEmptyRanks:function(e){var t=o.min(o.map(e.nodes(),(function(t){return e.node(t).rank}))),n=[];o.forEach(e.nodes(),(function(o){var r=e.node(o).rank-t;n[r]||(n[r]=[]),n[r].push(o)}));var r=0,i=e.graph().nodeRankFactor;o.forEach(n,(function(t,n){o.isUndefined(t)&&n%i!==0?--r:r&&o.forEach(t,(function(t){e.node(t).rank+=r}))}))},addBorderNode:function(e,t,n,o){var r={width:0,height:0};arguments.length>=4&&(r.rank=n,r.order=o);return i(e,"border",r,t)},maxRank:a,partition:function(e,t){var n={lhs:[],rhs:[]};return o.forEach(e,(function(e){t(e)?n.lhs.push(e):n.rhs.push(e)})),n},time:function(e,t){var n=o.now();try{return t()}finally{console.log(e+" time: "+(o.now()-n)+"ms")}},notime:function(e,t){return t()}}},45185:e=>{e.exports="0.8.5"},79207:(e,t,n)=>{var o=n(99383);e.exports={Graph:o.Graph,json:n(51097),alg:n(28582),version:o.version}},35992:(e,t,n)=>{var o=n(95750);e.exports=function(e){var t,n={},r=[];function i(r){o.has(n,r)||(n[r]=!0,t.push(r),o.each(e.successors(r),i),o.each(e.predecessors(r),i))}return o.each(e.nodes(),(function(e){t=[],i(e),t.length&&r.push(t)})),r}},2125:(e,t,n)=>{var o=n(95750);function r(e,t,n,i,a,s){o.has(i,t)||(i[t]=!0,n||s.push(t),o.each(a(t),(function(t){r(e,t,n,i,a,s)})),n&&s.push(t))}e.exports=function(e,t,n){o.isArray(t)||(t=[t]);var i=(e.isDirected()?e.successors:e.neighbors).bind(e),a=[],s={};return o.each(t,(function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);r(e,t,"post"===n,s,i,a)})),a}},78976:(e,t,n)=>{var o=n(75822),r=n(95750);e.exports=function(e,t,n){return r.transform(e.nodes(),(function(r,i){r[i]=o(e,i,t,n)}),{})}},75822:(e,t,n)=>{var o=n(95750),r=n(34428);e.exports=function(e,t,n,o){return function(e,t,n,o){var i,a,s={},c=new r,u=function(e){var t=e.v!==i?e.v:e.w,o=s[t],r=n(e),u=a.distance+r;if(r<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+r);u<o.distance&&(o.distance=u,o.predecessor=i,c.decrease(t,u))};e.nodes().forEach((function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},c.add(e,n)}));for(;c.size()>0&&(i=c.removeMin(),(a=s[i]).distance!==Number.POSITIVE_INFINITY);)o(i).forEach(u);return s}(e,String(t),n||i,o||function(t){return e.outEdges(t)})};var i=o.constant(1)},30247:(e,t,n)=>{var o=n(95750),r=n(18808);e.exports=function(e){return o.filter(r(e),(function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])}))}},26945:(e,t,n)=>{var o=n(95750);e.exports=function(e,t,n){return function(e,t,n){var o={},r=e.nodes();return r.forEach((function(e){o[e]={},o[e][e]={distance:0},r.forEach((function(t){e!==t&&(o[e][t]={distance:Number.POSITIVE_INFINITY})})),n(e).forEach((function(n){var r=n.v===e?n.w:n.v,i=t(n);o[e][r]={distance:i,predecessor:e}}))})),r.forEach((function(e){var t=o[e];r.forEach((function(n){var i=o[n];r.forEach((function(n){var o=i[e],r=t[n],a=i[n],s=o.distance+r.distance;s<a.distance&&(a.distance=s,a.predecessor=r.predecessor)}))}))})),o}(e,t||r,n||function(t){return e.outEdges(t)})};var r=o.constant(1)},28582:(e,t,n)=>{e.exports={components:n(35992),dijkstra:n(75822),dijkstraAll:n(78976),findCycles:n(30247),floydWarshall:n(26945),isAcyclic:n(49825),postorder:n(51896),preorder:n(30127),prim:n(86368),tarjan:n(18808),topsort:n(38353)}},49825:(e,t,n)=>{var o=n(38353);e.exports=function(e){try{o(e)}catch(t){if(t instanceof o.CycleException)return!1;throw t}return!0}},51896:(e,t,n)=>{var o=n(2125);e.exports=function(e,t){return o(e,t,"post")}},30127:(e,t,n)=>{var o=n(2125);e.exports=function(e,t){return o(e,t,"pre")}},86368:(e,t,n)=>{var o=n(95750),r=n(20191),i=n(34428);e.exports=function(e,t){var n,a=new r,s={},c=new i;function u(e){var o=e.v===n?e.w:e.v,r=c.priority(o);if(void 0!==r){var i=t(e);i<r&&(s[o]=n,c.decrease(o,i))}}if(0===e.nodeCount())return a;o.each(e.nodes(),(function(e){c.add(e,Number.POSITIVE_INFINITY),a.setNode(e)})),c.decrease(e.nodes()[0],0);var l=!1;for(;c.size()>0;){if(n=c.removeMin(),o.has(s,n))a.setEdge(n,s[n]);else{if(l)throw new Error("Input graph is not connected: "+e);l=!0}e.nodeEdges(n).forEach(u)}return a}},18808:(e,t,n)=>{var o=n(95750);e.exports=function(e){var t=0,n=[],r={},i=[];function a(s){var c=r[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach((function(e){o.has(r,e)?r[e].onStack&&(c.lowlink=Math.min(c.lowlink,r[e].index)):(a(e),c.lowlink=Math.min(c.lowlink,r[e].lowlink))})),c.lowlink===c.index){var u,l=[];do{u=n.pop(),r[u].onStack=!1,l.push(u)}while(s!==u);i.push(l)}}return e.nodes().forEach((function(e){o.has(r,e)||a(e)})),i}},38353:(e,t,n)=>{var o=n(95750);function r(e){var t={},n={},r=[];if(o.each(e.sinks(),(function a(s){if(o.has(n,s))throw new i;o.has(t,s)||(n[s]=!0,t[s]=!0,o.each(e.predecessors(s),a),delete n[s],r.push(s))})),o.size(t)!==e.nodeCount())throw new i;return r}function i(){}e.exports=r,r.CycleException=i,i.prototype=new Error},34428:(e,t,n)=>{var o=n(95750);function r(){this._arr=[],this._keyIndices={}}e.exports=r,r.prototype.size=function(){return this._arr.length},r.prototype.keys=function(){return this._arr.map((function(e){return e.key}))},r.prototype.has=function(e){return o.has(this._keyIndices,e)},r.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},r.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},r.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!o.has(n,e)){var r=this._arr,i=r.length;return n[e]=i,r.push({key:e,priority:t}),this._decrease(i),!0}return!1},r.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},r.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},r.prototype._heapify=function(e){var t=this._arr,n=2*e,o=n+1,r=e;n<t.length&&(r=t[n].priority<t[r].priority?n:r,o<t.length&&(r=t[o].priority<t[r].priority?o:r),r!==e&&(this._swap(e,r),this._heapify(r)))},r.prototype._decrease=function(e){for(var t,n=this._arr,o=n[e].priority;0!==e&&!(n[t=e>>1].priority<o);)this._swap(e,t),e=t},r.prototype._swap=function(e,t){var n=this._arr,o=this._keyIndices,r=n[e],i=n[t];n[e]=i,n[t]=r,o[i.key]=e,o[r.key]=t}},20191:(e,t,n)=>{"use strict";var o=n(95750);e.exports=i;var r="\0";function i(e){this._isDirected=!o.has(e,"directed")||e.directed,this._isMultigraph=!!o.has(e,"multigraph")&&e.multigraph,this._isCompound=!!o.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=o.constant(void 0),this._defaultEdgeLabelFn=o.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[r]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(e,t){e[t]?e[t]++:e[t]=1}function s(e,t){--e[t]||delete e[t]}function c(e,t,n,r){var i=""+t,a=""+n;if(!e&&i>a){var s=i;i=a,a=s}return i+"\x01"+a+"\x01"+(o.isUndefined(r)?"\0":r)}function u(e,t){return c(e,t.v,t.w,t.name)}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(e){return this._label=e,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(e){return o.isFunction(e)||(e=o.constant(e)),this._defaultNodeLabelFn=e,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return o.keys(this._nodes)},i.prototype.sources=function(){var e=this;return o.filter(this.nodes(),(function(t){return o.isEmpty(e._in[t])}))},i.prototype.sinks=function(){var e=this;return o.filter(this.nodes(),(function(t){return o.isEmpty(e._out[t])}))},i.prototype.setNodes=function(e,t){var n=arguments,r=this;return o.each(e,(function(e){n.length>1?r.setNode(e,t):r.setNode(e)})),this},i.prototype.setNode=function(e,t){return o.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=r,this._children[e]={},this._children[r][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},i.prototype.node=function(e){return this._nodes[e]},i.prototype.hasNode=function(e){return o.has(this._nodes,e)},i.prototype.removeNode=function(e){var t=this;if(o.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],o.each(this.children(e),(function(e){t.setParent(e)})),delete this._children[e]),o.each(o.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],o.each(o.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},i.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(o.isUndefined(t))t=r;else{for(var n=t+="";!o.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},i.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},i.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==r)return t}},i.prototype.children=function(e){if(o.isUndefined(e)&&(e=r),this._isCompound){var t=this._children[e];if(t)return o.keys(t)}else{if(e===r)return this.nodes();if(this.hasNode(e))return[]}},i.prototype.predecessors=function(e){var t=this._preds[e];if(t)return o.keys(t)},i.prototype.successors=function(e){var t=this._sucs[e];if(t)return o.keys(t)},i.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return o.union(t,this.successors(e))},i.prototype.isLeaf=function(e){return 0===(this.isDirected()?this.successors(e):this.neighbors(e)).length},i.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;o.each(this._nodes,(function(n,o){e(o)&&t.setNode(o,n)})),o.each(this._edgeObjs,(function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))}));var r={};function i(e){var o=n.parent(e);return void 0===o||t.hasNode(o)?(r[e]=o,o):o in r?r[o]:i(o)}return this._isCompound&&o.each(t.nodes(),(function(e){t.setParent(e,i(e))})),t},i.prototype.setDefaultEdgeLabel=function(e){return o.isFunction(e)||(e=o.constant(e)),this._defaultEdgeLabelFn=e,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return o.values(this._edgeObjs)},i.prototype.setPath=function(e,t){var n=this,r=arguments;return o.reduce(e,(function(e,o){return r.length>1?n.setEdge(e,o,t):n.setEdge(e,o),o})),this},i.prototype.setEdge=function(){var e,t,n,r,i=!1,s=arguments[0];"object"===typeof s&&null!==s&&"v"in s?(e=s.v,t=s.w,n=s.name,2===arguments.length&&(r=arguments[1],i=!0)):(e=s,t=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),e=""+e,t=""+t,o.isUndefined(n)||(n=""+n);var u=c(this._isDirected,e,t,n);if(o.has(this._edgeLabels,u))return i&&(this._edgeLabels[u]=r),this;if(!o.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[u]=i?r:this._defaultEdgeLabelFn(e,t,n);var l=function(e,t,n,o){var r=""+t,i=""+n;if(!e&&r>i){var a=r;r=i,i=a}var s={v:r,w:i};o&&(s.name=o);return s}(this._isDirected,e,t,n);return e=l.v,t=l.w,Object.freeze(l),this._edgeObjs[u]=l,a(this._preds[t],e),a(this._sucs[e],t),this._in[t][u]=l,this._out[e][u]=l,this._edgeCount++,this},i.prototype.edge=function(e,t,n){var o=1===arguments.length?u(this._isDirected,arguments[0]):c(this._isDirected,e,t,n);return this._edgeLabels[o]},i.prototype.hasEdge=function(e,t,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):c(this._isDirected,e,t,n);return o.has(this._edgeLabels,r)},i.prototype.removeEdge=function(e,t,n){var o=1===arguments.length?u(this._isDirected,arguments[0]):c(this._isDirected,e,t,n),r=this._edgeObjs[o];return r&&(e=r.v,t=r.w,delete this._edgeLabels[o],delete this._edgeObjs[o],s(this._preds[t],e),s(this._sucs[e],t),delete this._in[t][o],delete this._out[e][o],this._edgeCount--),this},i.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var r=o.values(n);return t?o.filter(r,(function(e){return e.v===t})):r}},i.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var r=o.values(n);return t?o.filter(r,(function(e){return e.w===t})):r}},i.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},99383:(e,t,n)=>{e.exports={Graph:n(20191),version:n(78311)}},51097:(e,t,n)=>{var o=n(95750),r=n(20191);function i(e){return o.map(e.nodes(),(function(t){var n=e.node(t),r=e.parent(t),i={v:t};return o.isUndefined(n)||(i.value=n),o.isUndefined(r)||(i.parent=r),i}))}function a(e){return o.map(e.edges(),(function(t){var n=e.edge(t),r={v:t.v,w:t.w};return o.isUndefined(t.name)||(r.name=t.name),o.isUndefined(n)||(r.value=n),r}))}e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:i(e),edges:a(e)};o.isUndefined(e.graph())||(t.value=o.clone(e.graph()));return t},read:function(e){var t=new r(e.options).setGraph(e.value);return o.each(e.nodes,(function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)})),o.each(e.edges,(function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)})),t}}},95750:(e,t,n)=>{var o;try{o={clone:n(41740),constant:n(22541),each:n(62580),filter:n(50723),has:n(62117),isArray:n(54052),isEmpty:n(54320),isFunction:n(11629),isUndefined:n(141),keys:n(28673),map:n(33411),reduce:n(12759),size:n(35640),transform:n(22717),union:n(30450),values:n(26727)}}catch(r){}o||(o=window._),e.exports=o},78311:e=>{e.exports="2.1.8"},80726:e=>{e.exports=function(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}},99421:e=>{e.exports=function(e,t,n,o){var r=-1,i=null==e?0:e.length;for(o&&i&&(n=e[++r]);++r<i;)n=t(n,e[r],r,e);return n}},34724:(e,t,n)=>{var o=n(10396)("length");e.exports=o},63868:(e,t,n)=>{var o=n(71775),r=n(93211);e.exports=function(e,t,n){(void 0!==n&&!r(e[t],n)||void 0===n&&!(t in e))&&o(e,t,n)}},78420:(e,t,n)=>{var o=n(71775),r=n(93211),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];i.call(e,t)&&r(a,n)&&(void 0!==n||t in e)||o(e,t,n)}},51104:(e,t,n)=>{var o=n(96614),r=n(28673);e.exports=function(e,t){return e&&o(t,r(t),e)}},55119:(e,t,n)=>{var o=n(96614),r=n(30474);e.exports=function(e,t){return e&&o(t,r(t),e)}},97132:(e,t,n)=>{var o=n(5538),r=n(80726),i=n(78420),a=n(51104),s=n(55119),c=n(44353),u=n(91980),l=n(98124),d=n(29075),f=n(59395),h=n(68592),p=n(26924),g=n(38268),m=n(18630),v=n(20310),y=n(54052),b=n(44543),w=n(57887),x=n(46686),E=n(45921),S=n(28673),_=n(30474),C="[object Arguments]",N="[object Function]",M="[object Object]",k={};k[C]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[M]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[N]=k["[object WeakMap]"]=!1,e.exports=function e(t,n,A,I,P,O){var R,D=1&n,z=2&n,T=4&n;if(A&&(R=P?A(t,I,P,O):A(t)),void 0!==R)return R;if(!x(t))return t;var B=y(t);if(B){if(R=g(t),!D)return u(t,R)}else{var L=p(t),j=L==N||"[object GeneratorFunction]"==L;if(b(t))return c(t,D);if(L==M||L==C||j&&!P){if(R=z||j?{}:v(t),!D)return z?d(t,s(R,t)):l(t,a(R,t))}else{if(!k[L])return P?t:{};R=m(t,L,D)}}O||(O=new o);var $=O.get(t);if($)return $;O.set(t,R),E(t)?t.forEach((function(o){R.add(e(o,n,A,o,t,O))})):w(t)&&t.forEach((function(o,r){R.set(r,e(o,n,A,r,t,O))}));var V=B?void 0:(T?z?h:f:z?_:S)(t);return r(V||t,(function(o,r){V&&(o=t[r=o]),i(R,r,e(o,n,A,r,t,O))})),R}},21817:(e,t,n)=>{var o=n(46686),r=Object.create,i=function(){function e(){}return function(t){if(!o(t))return{};if(r)return r(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},87171:(e,t,n)=>{var o=n(45652);e.exports=function(e,t){var n=[];return o(e,(function(e,o,r){t(e,o,r)&&n.push(e)})),n}},36741:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},5791:(e,t,n)=>{var o=n(26924),r=n(22761);e.exports=function(e){return r(e)&&"[object Map]"==o(e)}},20449:(e,t,n)=>{var o=n(26924),r=n(22761);e.exports=function(e){return r(e)&&"[object Set]"==o(e)}},58122:(e,t,n)=>{var o=n(46686),r=n(36140),i=n(43516),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!o(e))return i(e);var t=r(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},23253:(e,t,n)=>{var o=n(5538),r=n(63868),i=n(94258),a=n(83223),s=n(46686),c=n(30474),u=n(53737);e.exports=function e(t,n,l,d,f){t!==n&&i(n,(function(i,c){if(f||(f=new o),s(i))a(t,n,c,l,e,d,f);else{var h=d?d(u(t,c),i,c+"",t,n,f):void 0;void 0===h&&(h=i),r(t,c,h)}}),c)}},83223:(e,t,n)=>{var o=n(63868),r=n(44353),i=n(38710),a=n(91980),s=n(20310),c=n(22777),u=n(54052),l=n(76272),d=n(44543),f=n(11629),h=n(46686),p=n(12322),g=n(51268),m=n(53737),v=n(91609);e.exports=function(e,t,n,y,b,w,x){var E=m(e,n),S=m(t,n),_=x.get(S);if(_)o(e,n,_);else{var C=w?w(E,S,n+"",e,t,x):void 0,N=void 0===C;if(N){var M=u(S),k=!M&&d(S),A=!M&&!k&&g(S);C=S,M||k||A?u(E)?C=E:l(E)?C=a(E):k?(N=!1,C=r(S,!0)):A?(N=!1,C=i(S,!0)):C=[]:p(S)||c(S)?(C=E,c(E)?C=v(E):h(E)&&!f(E)||(C=s(S))):N=!1}N&&(x.set(S,C),b(C,S,y,w,x),x.delete(S)),o(e,n,C)}}},94008:(e,t,n)=>{var o=n(27449),r=n(53366);e.exports=function(e,t){return o(e,t,(function(t,n){return r(e,n)}))}},27449:(e,t,n)=>{var o=n(52969),r=n(9261),i=n(35324);e.exports=function(e,t,n){for(var a=-1,s=t.length,c={};++a<s;){var u=t[a],l=o(e,u);n(l,u)&&r(c,i(u,e),l)}return c}},66487:e=>{e.exports=function(e,t,n,o,r){return r(e,(function(e,r,i){n=o?(o=!1,e):t(n,e,r,i)})),n}},9261:(e,t,n)=>{var o=n(78420),r=n(35324),i=n(69194),a=n(46686),s=n(70914);e.exports=function(e,t,n,c){if(!a(e))return e;for(var u=-1,l=(t=r(t,e)).length,d=l-1,f=e;null!=f&&++u<l;){var h=s(t[u]),p=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return e;if(u!=d){var g=f[h];void 0===(p=c?c(g,h,f):void 0)&&(p=a(g)?g:i(t[u+1])?[]:{})}o(f,h,p),f=f[h]}return e}},86983:(e,t,n)=>{var o=n(50149);e.exports=function(e,t){return o(t,(function(t){return e[t]}))}},99377:e=>{e.exports=function(e,t,n){for(var o=-1,r=e.length,i=t.length,a={};++o<r;){var s=o<i?t[o]:void 0;n(a,e[o],s)}return a}},25111:(e,t,n)=>{var o=n(33279);e.exports=function(e){return"function"==typeof e?e:o}},61516:(e,t,n)=>{var o=n(22929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new o(t).set(new o(e)),t}},44353:(e,t,n)=>{e=n.nmd(e);var o=n(56552),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,a=i&&i.exports===r?o.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,o=s?s(n):new e.constructor(n);return e.copy(o),o}},6806:(e,t,n)=>{var o=n(61516);e.exports=function(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},18962:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},11295:(e,t,n)=>{var o=n(9812),r=o?o.prototype:void 0,i=r?r.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},38710:(e,t,n)=>{var o=n(61516);e.exports=function(e,t){var n=t?o(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},91980:e=>{e.exports=function(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}},96614:(e,t,n)=>{var o=n(78420),r=n(71775);e.exports=function(e,t,n,i){var a=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var u=t[s],l=i?i(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),a?r(n,u,l):o(n,u,l)}return n}},98124:(e,t,n)=>{var o=n(96614),r=n(69621);e.exports=function(e,t){return o(e,r(e),t)}},29075:(e,t,n)=>{var o=n(96614),r=n(56326);e.exports=function(e,t){return o(e,r(e),t)}},84570:(e,t,n)=>{var o=n(55647),r=n(60929);e.exports=function(e){return o((function(t,n){var o=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&r(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++o<i;){var c=n[o];c&&e(t,c,o,a)}return t}))}},15857:(e,t,n)=>{var o=n(20819),r=n(55636),i=n(46350);e.exports=function(e){return i(r(e,void 0,o),e+"")}},68592:(e,t,n)=>{var o=n(4262),r=n(56326),i=n(30474);e.exports=function(e){return o(e,i,r)}},56326:(e,t,n)=>{var o=n(48895),r=n(85990),i=n(69621),a=n(57828),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)o(t,i(e)),e=r(e);return t}:a;e.exports=s},38268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,o=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(o.index=e.index,o.input=e.input),o}},18630:(e,t,n)=>{var o=n(61516),r=n(6806),i=n(18962),a=n(11295),s=n(38710);e.exports=function(e,t,n){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return o(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return r(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},20310:(e,t,n)=>{var o=n(21817),r=n(85990),i=n(36140);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:o(r(e))}},43516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},53737:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},91632:(e,t,n)=>{var o=n(34724),r=n(36311),i=n(67168);e.exports=function(e){return r(e)?i(e):o(e)}},67168:e=>{var t="\\ud800-\\udfff",n="["+t+"]",o="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+o+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?",l=u+c+("(?:\\u200d(?:"+[i,a,s].join("|")+")"+u+c+")*"),d="(?:"+[i+o+"?",o,a,s,n].join("|")+")",f=RegExp(r+"(?="+r+")|"+d+l,"g");e.exports=function(e){for(var t=f.lastIndex=0;f.test(e);)++t;return t}},41740:(e,t,n)=>{var o=n(97132);e.exports=function(e){return o(e,4)}},56434:(e,t,n)=>{var o=n(97132);e.exports=function(e){return o(e,5)}},31163:(e,t,n)=>{var o=n(55647),r=n(93211),i=n(60929),a=n(30474),s=Object.prototype,c=s.hasOwnProperty,u=o((function(e,t){e=Object(e);var n=-1,o=t.length,u=o>2?t[2]:void 0;for(u&&i(t[0],t[1],u)&&(o=1);++n<o;)for(var l=t[n],d=a(l),f=-1,h=d.length;++f<h;){var p=d[f],g=e[p];(void 0===g||r(g,s[p])&&!c.call(e,p))&&(e[p]=l[p])}return e}));e.exports=u},62580:(e,t,n)=>{e.exports=n(55491)},50723:(e,t,n)=>{var o=n(17529),r=n(87171),i=n(9096),a=n(54052);e.exports=function(e,t){return(a(e)?o:r)(e,i(t,3))}},20819:(e,t,n)=>{var o=n(80755);e.exports=function(e){return(null==e?0:e.length)?o(e,1):[]}},55491:(e,t,n)=>{var o=n(80726),r=n(45652),i=n(25111),a=n(54052);e.exports=function(e,t){return(a(e)?o:r)(e,i(t))}},77717:(e,t,n)=>{var o=n(94258),r=n(25111),i=n(30474);e.exports=function(e,t){return null==e?e:o(e,r(t),i)}},62117:(e,t,n)=>{var o=n(36741),r=n(99057);e.exports=function(e,t){return null!=e&&r(e,t,o)}},76272:(e,t,n)=>{var o=n(6571),r=n(22761);e.exports=function(e){return r(e)&&o(e)}},54320:(e,t,n)=>{var o=n(83713),r=n(26924),i=n(22777),a=n(54052),s=n(6571),c=n(44543),u=n(36140),l=n(51268),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||i(e)))return!e.length;var t=r(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!o(e).length;for(var n in e)if(d.call(e,n))return!1;return!0}},57887:(e,t,n)=>{var o=n(5791),r=n(47574),i=n(56832),a=i&&i.isMap,s=a?r(a):o;e.exports=s},45921:(e,t,n)=>{var o=n(20449),r=n(47574),i=n(56832),a=i&&i.isSet,s=a?r(a):o;e.exports=s},141:e=>{e.exports=function(e){return void 0===e}},30474:(e,t,n)=>{var o=n(73204),r=n(58122),i=n(6571);e.exports=function(e){return i(e)?o(e,!0):r(e)}},34677:(e,t,n)=>{var o=n(23253),r=n(84570)((function(e,t,n){o(e,t,n)}));e.exports=r},59364:(e,t,n)=>{var o=n(79742),r=n(9096),i=n(50061);e.exports=function(e,t){return e&&e.length?o(e,r(t,2),i):void 0}},22616:(e,t,n)=>{var o=n(94008),r=n(15857)((function(e,t){return null==e?{}:o(e,t)}));e.exports=r},12759:(e,t,n)=>{var o=n(99421),r=n(45652),i=n(9096),a=n(66487),s=n(54052);e.exports=function(e,t,n){var c=s(e)?o:a,u=arguments.length<3;return c(e,i(t,4),n,u,r)}},35640:(e,t,n)=>{var o=n(83713),r=n(26924),i=n(6571),a=n(90620),s=n(91632);e.exports=function(e){if(null==e)return 0;if(i(e))return a(e)?s(e):e.length;var t=r(e);return"[object Map]"==t||"[object Set]"==t?e.size:o(e).length}},91609:(e,t,n)=>{var o=n(96614),r=n(30474);e.exports=function(e){return o(e,r(e))}},22717:(e,t,n)=>{var o=n(80726),r=n(21817),i=n(94664),a=n(9096),s=n(85990),c=n(54052),u=n(44543),l=n(11629),d=n(46686),f=n(51268);e.exports=function(e,t,n){var h=c(e),p=h||u(e)||f(e);if(t=a(t,4),null==n){var g=e&&e.constructor;n=p?h?new g:[]:d(e)&&l(g)?r(s(e)):{}}return(p?o:i)(e,(function(e,o,r){return t(n,e,o,r)})),n}},30450:(e,t,n)=>{var o=n(80755),r=n(55647),i=n(64416),a=n(76272),s=r((function(e){return i(o(e,1,a,!0))}));e.exports=s},80111:(e,t,n)=>{var o=n(41069),r=0;e.exports=function(e){var t=++r;return o(e)+t}},26727:(e,t,n)=>{var o=n(86983),r=n(28673);e.exports=function(e){return null==e?[]:o(e,r(e))}},78129:(e,t,n)=>{var o=n(78420),r=n(99377);e.exports=function(e,t){return r(e||[],t||[],o)}},45956:(e,t,n)=>{"use strict";var o=n(65043);var r="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=o.useState,a=o.useEffect,s=o.useLayoutEffect,c=o.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(o){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),o=i({inst:{value:n,getSnapshot:t}}),r=o[0].inst,l=o[1];return s((function(){r.value=n,r.getSnapshot=t,u(r)&&l({inst:r})}),[e,n,t]),a((function(){return u(r)&&l({inst:r}),e((function(){u(r)&&l({inst:r})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==o.useSyncExternalStore?o.useSyncExternalStore:l},45039:(e,t,n)=>{"use strict";var o=n(65043),r=n(29461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,s=o.useRef,c=o.useEffect,u=o.useMemo,l=o.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,o,r){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!c){if(c=!0,a=e,e=o(e),void 0!==r&&f.hasValue){var t=f.value;if(r(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=o(e);return void 0!==r&&r(t,n)?t:(a=e,s=n)}var a,s,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,n,o,r]);var h=a(e,d[0],d[1]);return c((function(){f.hasValue=!0,f.value=h}),[h]),l(h),h}},29461:(e,t,n)=>{"use strict";e.exports=n(45956)},98443:(e,t,n)=>{"use strict";e.exports=n(45039)},96299:()=>{},63227:(e,t,n)=>{"use strict";n.d(t,{V:()=>p});var o,r=n(65043),i=n(89181),a=n(69212),s=n(7059);function c(e){let{color:t,dimensions:n,lineWidth:o}=e;return r.createElement("path",{stroke:t,strokeWidth:o,d:`M${n[0]/2} 0 V${n[1]} M0 ${n[1]/2} H${n[0]}`})}function u(e){let{color:t,radius:n}=e;return r.createElement("circle",{cx:n,cy:n,r:n,fill:t})}!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(o||(o={}));const l={[o.Dots]:"#91919a",[o.Lines]:"#eee",[o.Cross]:"#e2e2e2"},d={[o.Dots]:1,[o.Lines]:1,[o.Cross]:6},f=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function h(e){let{id:t,variant:n=o.Dots,gap:h=20,size:p,lineWidth:g=1,offset:m=2,color:v,style:y,className:b}=e;const w=(0,r.useRef)(null),{transform:x,patternId:E}=(0,a.Pj)(f,s.x),S=v||l[n],_=p||d[n],C=n===o.Dots,N=n===o.Cross,M=Array.isArray(h)?h:[h,h],k=[M[0]*x[2]||1,M[1]*x[2]||1],A=_*x[2],I=N?[A,A]:k,P=C?[A/m,A/m]:[I[0]/m,I[1]/m];return r.createElement("svg",{className:(0,i.A)(["react-flow__background",b]),style:{...y,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:w,"data-testid":"rf__background"},r.createElement("pattern",{id:E+t,x:x[0]%k[0],y:x[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${P[0]},-${P[1]})`},C?r.createElement(u,{color:S,radius:A/m}):r.createElement(c,{dimensions:I,color:S,lineWidth:g})),r.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${E+t})`}))}h.displayName="Background";var p=(0,r.memo)(h)},54077:(e,t,n)=>{"use strict";n.d(t,{H:()=>g});var o=n(65043),r=n(89181),i=n(7059),a=n(69212);function s(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},o.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function c(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},o.createElement("path",{d:"M0 0h32v4.2H0z"}))}function u(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},o.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function l(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},o.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function d(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},o.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const f=e=>{let{children:t,className:n,...i}=e;return o.createElement("button",{type:"button",className:(0,r.A)(["react-flow__controls-button",n]),...i},t)};f.displayName="ControlButton";const h=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),p=e=>{let{style:t,showZoom:n=!0,showFitView:p=!0,showInteractive:g=!0,fitViewOptions:m,onZoomIn:v,onZoomOut:y,onFitView:b,onInteractiveChange:w,className:x,children:E,position:S="bottom-left"}=e;const _=(0,a.PI)(),[C,N]=(0,o.useState)(!1),{isInteractive:M,minZoomReached:k,maxZoomReached:A}=(0,a.Pj)(h,i.x),{zoomIn:I,zoomOut:P,fitView:O}=(0,a.VH)();if((0,o.useEffect)((()=>{N(!0)}),[]),!C)return null;return o.createElement(a.Zk,{className:(0,r.A)(["react-flow__controls",x]),position:S,style:t,"data-testid":"rf__controls"},n&&o.createElement(o.Fragment,null,o.createElement(f,{onClick:()=>{I(),v?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:A},o.createElement(s,null)),o.createElement(f,{onClick:()=>{P(),y?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:k},o.createElement(c,null))),p&&o.createElement(f,{className:"react-flow__controls-fitview",onClick:()=>{O(m),b?.()},title:"fit view","aria-label":"fit view"},o.createElement(u,null)),g&&o.createElement(f,{className:"react-flow__controls-interactive",onClick:()=>{_.setState({nodesDraggable:!M,nodesConnectable:!M,elementsSelectable:!M}),w?.(!M)},title:"toggle interactivity","aria-label":"toggle interactivity"},M?o.createElement(d,null):o.createElement(l,null)),E)};p.displayName="Controls";var g=(0,o.memo)(p)},69212:(e,t,n)=>{"use strict";n.d(t,{xX:()=>Eo,h7:()=>Go,TG:()=>ao,Zk:()=>An,yX:()=>so,Gc:()=>oa,fM:()=>aa,ck:()=>ia,VH:()=>Pr,Pj:()=>Nn,PI:()=>Mn});var o=n(65043),r=n(89181),i=n(98443);const a=e=>{let t;const n=new Set,o=(e,o)=>{const r="function"===typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=o?o:"object"!==typeof r||null===r)?r:Object.assign({},t,r),n.forEach((n=>n(t,e)))}},r=()=>t,i={setState:o,getState:r,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(o,r,i);return i},s=e=>e?a(e):a;const{useDebugValue:c}=o,{useSyncExternalStoreWithSelector:u}=i,l=e=>e;function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n=arguments.length>2?arguments[2]:void 0;const o=u(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return c(o),o}const f=(e,t)=>{const n=s(e),o=function(e){return d(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(o,n),o};var h=n(7059),p={value:()=>{}};function g(){for(var e,t=0,n=arguments.length,o={};t<n;++t){if(!(e=arguments[t]+"")||e in o||/[\s.]/.test(e))throw new Error("illegal type: "+e);o[e]=[]}return new m(o)}function m(e){this._=e}function v(e,t){for(var n,o=0,r=e.length;o<r;++o)if((n=e[o]).name===t)return n.value}function y(e,t,n){for(var o=0,r=e.length;o<r;++o)if(e[o].name===t){e[o]=p,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=n&&e.push({name:t,value:n}),e}m.prototype=g.prototype={constructor:m,on:function(e,t){var n,o,r=this._,i=(o=r,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!o.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<s;)if(n=(e=i[a]).type)r[n]=y(r[n],e.name,t);else if(null==t)for(n in r)r[n]=y(r[n],e.name,null);return this}for(;++a<s;)if((n=(e=i[a]).type)&&(n=v(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new m(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,o,r=new Array(n),i=0;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(o=this._[e]).length;i<n;++i)o[i].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)}};const b=g;function w(){}function x(e){return null==e?w:function(){return this.querySelector(e)}}function E(){return[]}function S(e){return null==e?E:function(){return this.querySelectorAll(e)}}function _(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function C(e){return function(){return this.matches(e)}}function N(e){return function(t){return t.matches(e)}}var M=Array.prototype.find;function k(){return this.firstElementChild}var A=Array.prototype.filter;function I(){return Array.from(this.children)}function P(e){return new Array(e.length)}function O(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function R(e,t,n,o,r,i){for(var a,s=0,c=t.length,u=i.length;s<u;++s)(a=t[s])?(a.__data__=i[s],o[s]=a):n[s]=new O(e,i[s]);for(;s<c;++s)(a=t[s])&&(r[s]=a)}function D(e,t,n,o,r,i,a){var s,c,u,l=new Map,d=t.length,f=i.length,h=new Array(d);for(s=0;s<d;++s)(c=t[s])&&(h[s]=u=a.call(c,c.__data__,s,t)+"",l.has(u)?r[s]=c:l.set(u,c));for(s=0;s<f;++s)u=a.call(e,i[s],s,i)+"",(c=l.get(u))?(o[s]=c,c.__data__=i[s],l.delete(u)):n[s]=new O(e,i[s]);for(s=0;s<d;++s)(c=t[s])&&l.get(h[s])===c&&(r[s]=c)}function z(e){return e.__data__}function T(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function B(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}O.prototype={constructor:O,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var L="http://www.w3.org/1999/xhtml";const j={svg:"http://www.w3.org/2000/svg",xhtml:L,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),j.hasOwnProperty(t)?{space:j[t],local:e}:e}function V(e){return function(){this.removeAttribute(e)}}function Y(e){return function(){this.removeAttributeNS(e.space,e.local)}}function H(e,t){return function(){this.setAttribute(e,t)}}function X(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function F(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function G(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Z(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function K(e){return function(){this.style.removeProperty(e)}}function U(e,t,n){return function(){this.style.setProperty(e,t,n)}}function W(e,t,n){return function(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function q(e,t){return e.style.getPropertyValue(t)||Z(e).getComputedStyle(e,null).getPropertyValue(t)}function Q(e){return function(){delete this[e]}}function J(e,t){return function(){this[e]=t}}function ee(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function te(e){return e.trim().split(/^|\s+/)}function ne(e){return e.classList||new oe(e)}function oe(e){this._node=e,this._names=te(e.getAttribute("class")||"")}function re(e,t){for(var n=ne(e),o=-1,r=t.length;++o<r;)n.add(t[o])}function ie(e,t){for(var n=ne(e),o=-1,r=t.length;++o<r;)n.remove(t[o])}function ae(e){return function(){re(this,e)}}function se(e){return function(){ie(this,e)}}function ce(e,t){return function(){(t.apply(this,arguments)?re:ie)(this,e)}}function ue(){this.textContent=""}function le(e){return function(){this.textContent=e}}function de(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function fe(){this.innerHTML=""}function he(e){return function(){this.innerHTML=e}}function pe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ge(){this.nextSibling&&this.parentNode.appendChild(this)}function me(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ve(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===L&&t.documentElement.namespaceURI===L?t.createElement(e):t.createElementNS(n,e)}}function ye(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function be(e){var t=$(e);return(t.local?ye:ve)(t)}function we(){return null}function xe(){var e=this.parentNode;e&&e.removeChild(this)}function Ee(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Se(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function _e(e){return function(){var t=this.__on;if(t){for(var n,o=0,r=-1,i=t.length;o<i;++o)n=t[o],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function Ce(e,t,n){return function(){var o,r=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var a=0,s=r.length;a<s;++a)if((o=r[a]).type===e.type&&o.name===e.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=i,o.options=n),void(o.value=t);this.addEventListener(e.type,i,n),o={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(o):this.__on=[o]}}function Ne(e,t,n){var o=Z(e),r=o.CustomEvent;"function"===typeof r?r=new r(t,n):(r=o.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function Me(e,t){return function(){return Ne(this,e,t)}}function ke(e,t){return function(){return Ne(this,e,t.apply(this,arguments))}}oe.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Ae=[null];function Ie(e,t){this._groups=e,this._parents=t}function Pe(){return new Ie([[document.documentElement]],Ae)}Ie.prototype=Pe.prototype={constructor:Ie,select:function(e){"function"!==typeof e&&(e=x(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i,a,s=t[r],c=s.length,u=o[r]=new Array(c),l=0;l<c;++l)(i=s[l])&&(a=e.call(i,i.__data__,l,s))&&("__data__"in i&&(a.__data__=i.__data__),u[l]=a);return new Ie(o,this._parents)},selectAll:function(e){e="function"===typeof e?_(e):S(e);for(var t=this._groups,n=t.length,o=[],r=[],i=0;i<n;++i)for(var a,s=t[i],c=s.length,u=0;u<c;++u)(a=s[u])&&(o.push(e.call(a,a.__data__,u,s)),r.push(a));return new Ie(o,r)},selectChild:function(e){return this.select(null==e?k:function(e){return function(){return M.call(this.children,e)}}("function"===typeof e?e:N(e)))},selectChildren:function(e){return this.selectAll(null==e?I:function(e){return function(){return A.call(this.children,e)}}("function"===typeof e?e:N(e)))},filter:function(e){"function"!==typeof e&&(e=C(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i,a=t[r],s=a.length,c=o[r]=[],u=0;u<s;++u)(i=a[u])&&e.call(i,i.__data__,u,a)&&c.push(i);return new Ie(o,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,z);var n,o=t?D:R,r=this._parents,i=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var a=i.length,s=new Array(a),c=new Array(a),u=new Array(a),l=0;l<a;++l){var d=r[l],f=i[l],h=f.length,p=T(e.call(d,d&&d.__data__,l,r)),g=p.length,m=c[l]=new Array(g),v=s[l]=new Array(g);o(d,f,m,v,u[l]=new Array(h),p,t);for(var y,b,w=0,x=0;w<g;++w)if(y=m[w]){for(w>=x&&(x=w+1);!(b=v[x])&&++x<g;);y._next=b||null}}return(s=new Ie(s,r))._enter=c,s._exit=u,s},enter:function(){return new Ie(this._enter||this._groups.map(P),this._parents)},exit:function(){return new Ie(this._exit||this._groups.map(P),this._parents)},join:function(e,t,n){var o=this.enter(),r=this,i=this.exit();return"function"===typeof e?(o=e(o))&&(o=o.selection()):o=o.append(e+""),null!=t&&(r=t(r))&&(r=r.selection()),null==n?i.remove():n(i),o&&r?o.merge(r).order():r},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,r=n.length,i=o.length,a=Math.min(r,i),s=new Array(r),c=0;c<a;++c)for(var u,l=n[c],d=o[c],f=l.length,h=s[c]=new Array(f),p=0;p<f;++p)(u=l[p]||d[p])&&(h[p]=u);for(;c<r;++c)s[c]=n[c];return new Ie(s,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o,r=e[t],i=r.length-1,a=r[i];--i>=0;)(o=r[i])&&(a&&4^o.compareDocumentPosition(a)&&a.parentNode.insertBefore(o,a),a=o);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=B);for(var n=this._groups,o=n.length,r=new Array(o),i=0;i<o;++i){for(var a,s=n[i],c=s.length,u=r[i]=new Array(c),l=0;l<c;++l)(a=s[l])&&(u[l]=a);u.sort(t)}return new Ie(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],r=0,i=o.length;r<i;++r){var a=o[r];if(a)return a}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var r,i=t[n],a=0,s=i.length;a<s;++a)(r=i[a])&&e.call(r,r.__data__,a,i);return this},attr:function(e,t){var n=$(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?Y:V:"function"===typeof t?n.local?G:F:n.local?X:H)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?K:"function"===typeof t?W:U)(e,t,null==n?"":n)):q(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Q:"function"===typeof t?ee:J)(e,t)):this.node()[e]},classed:function(e,t){var n=te(e+"");if(arguments.length<2){for(var o=ne(this.node()),r=-1,i=n.length;++r<i;)if(!o.contains(n[r]))return!1;return!0}return this.each(("function"===typeof t?ce:t?ae:se)(n,t))},text:function(e){return arguments.length?this.each(null==e?ue:("function"===typeof e?de:le)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?fe:("function"===typeof e?pe:he)(e)):this.node().innerHTML},raise:function(){return this.each(ge)},lower:function(){return this.each(me)},append:function(e){var t="function"===typeof e?e:be(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:be(e),o=null==t?we:"function"===typeof t?t:x(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)}))},remove:function(){return this.each(xe)},clone:function(e){return this.select(e?Se:Ee)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var o,r,i=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),a=i.length;if(!(arguments.length<2)){for(s=t?Ce:_e,o=0;o<a;++o)this.each(s(i[o],t,n));return this}var s=this.node().__on;if(s)for(var c,u=0,l=s.length;u<l;++u)for(o=0,c=s[u];o<a;++o)if((r=i[o]).type===c.type&&r.name===c.name)return c.value},dispatch:function(e,t){return this.each(("function"===typeof t?ke:Me)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o,r=e[t],i=0,a=r.length;i<a;++i)(o=r[i])&&(yield o)}};const Oe=Pe;function Re(e){return"string"===typeof e?new Ie([[document.querySelector(e)]],[document.documentElement]):new Ie([[e]],Ae)}const De={passive:!1},ze={capture:!0,passive:!1};function Te(e){e.stopImmediatePropagation()}function Be(e){e.preventDefault(),e.stopImmediatePropagation()}function Le(e){var t=e.document.documentElement,n=Re(e).on("dragstart.drag",Be,ze);"onselectstart"in t?n.on("selectstart.drag",Be,ze):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function je(e,t){var n=e.document.documentElement,o=Re(e).on("dragstart.drag",null);t&&(o.on("click.drag",Be,ze),setTimeout((function(){o.on("click.drag",null)}),0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function $e(e){return((e=Math.exp(e))+1/e)/2}const Ve=function e(t,n,o){function r(e,r){var i,a,s=e[0],c=e[1],u=e[2],l=r[0],d=r[1],f=r[2],h=l-s,p=d-c,g=h*h+p*p;if(g<1e-12)a=Math.log(f/u)/t,i=function(e){return[s+e*h,c+e*p,u*Math.exp(t*e*a)]};else{var m=Math.sqrt(g),v=(f*f-u*u+o*g)/(2*u*n*m),y=(f*f-u*u-o*g)/(2*f*n*m),b=Math.log(Math.sqrt(v*v+1)-v),w=Math.log(Math.sqrt(y*y+1)-y);a=(w-b)/t,i=function(e){var o,r=e*a,i=$e(b),l=u/(n*m)*(i*(o=t*r+b,((o=Math.exp(2*o))-1)/(o+1))-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[s+l*h,c+l*p,u*i/$e(t*r+b)]}}return i.duration=1e3*a*t/Math.SQRT2,i}return r.rho=function(t){var n=Math.max(.001,+t),o=n*n;return e(n,o,o*o)},r}(Math.SQRT2,2,4);function Ye(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}if(t.getBoundingClientRect){var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]}}return[e.pageX,e.pageY]}var He,Xe,Fe=0,Ge=0,Ze=0,Ke=0,Ue=0,We=0,qe="object"===typeof performance&&performance.now?performance:Date,Qe="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Je(){return Ue||(Qe(et),Ue=qe.now()+We)}function et(){Ue=0}function tt(){this._call=this._time=this._next=null}function nt(e,t,n){var o=new tt;return o.restart(e,t,n),o}function ot(){Ue=(Ke=qe.now())+We,Fe=Ge=0;try{!function(){Je(),++Fe;for(var e,t=He;t;)(e=Ue-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Fe}()}finally{Fe=0,function(){var e,t,n=He,o=1/0;for(;n;)n._call?(o>n._time&&(o=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:He=t);Xe=e,it(o)}(),Ue=0}}function rt(){var e=qe.now(),t=e-Ke;t>1e3&&(We-=t,Ke=e)}function it(e){Fe||(Ge&&(Ge=clearTimeout(Ge)),e-Ue>24?(e<1/0&&(Ge=setTimeout(ot,e-qe.now()-We)),Ze&&(Ze=clearInterval(Ze))):(Ze||(Ke=qe.now(),Ze=setInterval(rt,1e3)),Fe=1,Qe(ot)))}function at(e,t,n){var o=new tt;return t=null==t?0:+t,o.restart((n=>{o.stop(),e(n+t)}),t,n),o}tt.prototype=nt.prototype={constructor:tt,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?Je():+n)+(null==t?0:+t),this._next||Xe===this||(Xe?Xe._next=this:He=this,Xe=this),this._call=e,this._time=n,it()},stop:function(){this._call&&(this._call=null,this._time=1/0,it())}};var st=b("start","end","cancel","interrupt"),ct=[];function ut(e,t,n,o,r,i){var a=e.__transition;if(a){if(n in a)return}else e.__transition={};!function(e,t,n){var o,r=e.__transition;function i(e){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=e&&a(e-n.delay)}function a(i){var u,l,d,f;if(1!==n.state)return c();for(u in r)if((f=r[u]).name===n.name){if(3===f.state)return at(a);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[u])}if(at((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,o=new Array(d=n.tween.length),u=0,l=-1;u<d;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(o[++l]=f);o.length=l+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(c),n.state=5,1),i=-1,a=o.length;++i<a;)o[i].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){for(var o in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=nt(i,0,n.time)}(e,n,{name:t,index:o,group:r,on:st,tween:ct,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function lt(e,t){var n=ft(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function dt(e,t){var n=ft(e,t);if(n.state>3)throw new Error("too late; already running");return n}function ft(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ht(e,t){var n,o,r,i=e.__transition,a=!0;if(i){for(r in t=null==t?null:t+"",i)(n=i[r]).name===t?(o=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[r]):a=!1;a&&delete e.__transition}}var pt,gt=n(50010),mt=180/Math.PI,vt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yt(e,t,n,o,r,i){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,c/=s),e*o<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*mt,skewX:Math.atan(c)*mt,scaleX:a,scaleY:s}}function bt(e,t,n,o){function r(e){return e.length?e.pop()+" ":""}return function(i,a){var s=[],c=[];return i=e(i),a=e(a),function(e,o,r,i,a,s){if(e!==r||o!==i){var c=a.push("translate(",null,t,null,n);s.push({i:c-4,x:(0,gt.A)(e,r)},{i:c-2,x:(0,gt.A)(o,i)})}else(r||i)&&a.push("translate("+r+t+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,c),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(r(n)+"rotate(",null,o)-2,x:(0,gt.A)(e,t)})):t&&n.push(r(n)+"rotate("+t+o)}(i.rotate,a.rotate,s,c),function(e,t,n,i){e!==t?i.push({i:n.push(r(n)+"skewX(",null,o)-2,x:(0,gt.A)(e,t)}):t&&n.push(r(n)+"skewX("+t+o)}(i.skewX,a.skewX,s,c),function(e,t,n,o,i,a){if(e!==n||t!==o){var s=i.push(r(i)+"scale(",null,",",null,")");a.push({i:s-4,x:(0,gt.A)(e,n)},{i:s-2,x:(0,gt.A)(t,o)})}else 1===n&&1===o||i.push(r(i)+"scale("+n+","+o+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,c),i=a=null,function(e){for(var t,n=-1,o=c.length;++n<o;)s[(t=c[n]).i]=t.x(e);return s.join("")}}}var wt=bt((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?vt:yt(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),xt=bt((function(e){return null==e?vt:(pt||(pt=document.createElementNS("http://www.w3.org/2000/svg","g")),pt.setAttribute("transform",e),(e=pt.transform.baseVal.consolidate())?yt((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):vt)}),", ",")",")");function Et(e,t){var n,o;return function(){var r=dt(this,e),i=r.tween;if(i!==n)for(var a=0,s=(o=n=i).length;a<s;++a)if(o[a].name===t){(o=o.slice()).splice(a,1);break}r.tween=o}}function St(e,t,n){var o,r;if("function"!==typeof n)throw new Error;return function(){var i=dt(this,e),a=i.tween;if(a!==o){r=(o=a).slice();for(var s={name:t,value:n},c=0,u=r.length;c<u;++c)if(r[c].name===t){r[c]=s;break}c===u&&r.push(s)}i.tween=r}}function _t(e,t,n){var o=e._id;return e.each((function(){var e=dt(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return ft(e,o).value[t]}}var Ct=n(75206),Nt=n(75365),Mt=n(97162);function kt(e,t){var n;return("number"===typeof t?gt.A:t instanceof Ct.Ay?Nt.Ay:(n=(0,Ct.Ay)(t))?(t=n,Nt.Ay):Mt.A)(e,t)}function At(e){return function(){this.removeAttribute(e)}}function It(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Pt(e,t,n){var o,r,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===o?r:r=t(o=a,n)}}function Ot(e,t,n){var o,r,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?r:r=t(o=a,n)}}function Rt(e,t,n){var o,r,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(e))===(s=c+"")?null:a===o&&s===r?i:(r=s,i=t(o=a,c));this.removeAttribute(e)}}function Dt(e,t,n){var o,r,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(e.space,e.local))===(s=c+"")?null:a===o&&s===r?i:(r=s,i=t(o=a,c));this.removeAttributeNS(e.space,e.local)}}function zt(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,r)),n}return r._value=t,r}function Tt(e,t){var n,o;function r(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,r)),n}return r._value=t,r}function Bt(e,t){return function(){lt(this,e).delay=+t.apply(this,arguments)}}function Lt(e,t){return t=+t,function(){lt(this,e).delay=t}}function jt(e,t){return function(){dt(this,e).duration=+t.apply(this,arguments)}}function $t(e,t){return t=+t,function(){dt(this,e).duration=t}}var Vt=Oe.prototype.constructor;function Yt(e){return function(){this.style.removeProperty(e)}}var Ht=0;function Xt(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Ft(){return++Ht}var Gt=Oe.prototype;Xt.prototype=function(e){return Oe().transition(e)}.prototype={constructor:Xt,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=x(e));for(var o=this._groups,r=o.length,i=new Array(r),a=0;a<r;++a)for(var s,c,u=o[a],l=u.length,d=i[a]=new Array(l),f=0;f<l;++f)(s=u[f])&&(c=e.call(s,s.__data__,f,u))&&("__data__"in s&&(c.__data__=s.__data__),d[f]=c,ut(d[f],t,n,f,d,ft(s,n)));return new Xt(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=S(e));for(var o=this._groups,r=o.length,i=[],a=[],s=0;s<r;++s)for(var c,u=o[s],l=u.length,d=0;d<l;++d)if(c=u[d]){for(var f,h=e.call(c,c.__data__,d,u),p=ft(c,n),g=0,m=h.length;g<m;++g)(f=h[g])&&ut(f,t,n,g,h,p);i.push(h),a.push(c)}return new Xt(i,a,t,n)},selectChild:Gt.selectChild,selectChildren:Gt.selectChildren,filter:function(e){"function"!==typeof e&&(e=C(e));for(var t=this._groups,n=t.length,o=new Array(n),r=0;r<n;++r)for(var i,a=t[r],s=a.length,c=o[r]=[],u=0;u<s;++u)(i=a[u])&&e.call(i,i.__data__,u,a)&&c.push(i);return new Xt(o,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,r=n.length,i=Math.min(o,r),a=new Array(o),s=0;s<i;++s)for(var c,u=t[s],l=n[s],d=u.length,f=a[s]=new Array(d),h=0;h<d;++h)(c=u[h]||l[h])&&(f[h]=c);for(;s<o;++s)a[s]=t[s];return new Xt(a,this._parents,this._name,this._id)},selection:function(){return new Vt(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Ft(),o=this._groups,r=o.length,i=0;i<r;++i)for(var a,s=o[i],c=s.length,u=0;u<c;++u)if(a=s[u]){var l=ft(a,t);ut(a,e,n,u,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Xt(o,this._parents,e,n)},call:Gt.call,nodes:Gt.nodes,node:Gt.node,size:Gt.size,empty:Gt.empty,each:Gt.each,on:function(e,t){var n=this._id;return arguments.length<2?ft(this.node(),n).on.on(e):this.each(function(e,t,n){var o,r,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?lt:dt;return function(){var a=i(this,e),s=a.on;s!==o&&(r=(o=s).copy()).on(t,n),a.on=r}}(n,e,t))},attr:function(e,t){var n=$(e),o="transform"===n?xt:kt;return this.attrTween(e,"function"===typeof t?(n.local?Dt:Rt)(n,o,_t(this,"attr."+e,t)):null==t?(n.local?It:At)(n):(n.local?Ot:Pt)(n,o,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var o=$(e);return this.tween(n,(o.local?zt:Tt)(o,t))},style:function(e,t,n){var o="transform"===(e+="")?wt:kt;return null==t?this.styleTween(e,function(e,t){var n,o,r;return function(){var i=q(this,e),a=(this.style.removeProperty(e),q(this,e));return i===a?null:i===n&&a===o?r:r=t(n=i,o=a)}}(e,o)).on("end.style."+e,Yt(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var o,r,i;return function(){var a=q(this,e),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(e),c=s=q(this,e)),a===c?null:a===o&&c===r?i:(r=c,i=t(o=a,s))}}(e,o,_t(this,"style."+e,t))).each(function(e,t){var n,o,r,i,a="style."+t,s="end."+a;return function(){var c=dt(this,e),u=c.on,l=null==c.value[a]?i||(i=Yt(t)):void 0;u===n&&r===l||(o=(n=u).copy()).on(s,r=l),c.on=o}}(this._id,e)):this.styleTween(e,function(e,t,n){var o,r,i=n+"";return function(){var a=q(this,e);return a===i?null:a===o?r:r=t(o=a,n)}}(e,o,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(null==t)return this.tween(o,null);if("function"!==typeof t)throw new Error;return this.tween(o,function(e,t,n){var o,r;function i(){var i=t.apply(this,arguments);return i!==r&&(o=(r=i)&&function(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}(e,i,n)),o}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(_t(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function o(){var o=e.apply(this,arguments);return o!==n&&(t=(n=o)&&function(e){return function(t){this.textContent=e.call(this,t)}}(o)),t}return o._value=e,o}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,r=ft(this.node(),n).tween,i=0,a=r.length;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((null==t?Et:St)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Bt:Lt)(t,e)):ft(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?jt:$t)(t,e)):ft(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){dt(this,e).ease=t}}(t,e)):ft(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;dt(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,o=n._id,r=n.size();return new Promise((function(i,a){var s={value:a},c={value:function(){0===--r&&i()}};n.each((function(){var n=dt(this,o),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),n.on=t})),0===r&&i()}))},[Symbol.iterator]:Gt[Symbol.iterator]};var Zt={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Kt(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}Oe.prototype.interrupt=function(e){return this.each((function(){ht(this,e)}))},Oe.prototype.transition=function(e){var t,n;e instanceof Xt?(t=e._id,e=e._name):(t=Ft(),(n=Zt).time=Je(),e=null==e?null:e+"");for(var o=this._groups,r=o.length,i=0;i<r;++i)for(var a,s=o[i],c=s.length,u=0;u<c;++u)(a=s[u])&&ut(a,e,t,u,s,n||Kt(a,t));return new Xt(o,this._parents,e,t)};const Ut=e=>()=>e;function Wt(e,t){let{sourceEvent:n,target:o,transform:r,dispatch:i}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function qt(e,t,n){this.k=e,this.x=t,this.y=n}qt.prototype={constructor:qt,scale:function(e){return 1===e?this:new qt(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new qt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Qt=new qt(1,0,0);function Jt(e){e.stopImmediatePropagation()}function en(e){e.preventDefault(),e.stopImmediatePropagation()}function tn(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function nn(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function on(){return this.__zoom||Qt}function rn(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function an(){return navigator.maxTouchPoints||"ontouchstart"in this}function sn(e,t,n){var o=e.invertX(t[0][0])-n[0][0],r=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(r>o?(o+r)/2:Math.min(0,o)||Math.max(0,r),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}qt.prototype;const cn=e=>()=>e;function un(e,t){let{sourceEvent:n,subject:o,target:r,identifier:i,active:a,x:s,y:c,dx:u,dy:l,dispatch:d}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:d}})}function ln(e){return!e.ctrlKey&&!e.button}function dn(){return this.parentNode}function fn(e,t){return null==t?{x:e.x,y:e.y}:t}function hn(){return navigator.maxTouchPoints||"ontouchstart"in this}un.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};n(97950);const pn=(0,o.createContext)(null),gn=pn.Provider,mn=e=>`Node type "${e}" not found. Using fallback type "default".`,vn=()=>"The React Flow parent container needs a width and a height to render the graph.",yn=()=>"Only child nodes can use a parent extent.",bn=()=>"Can't create edge. An edge needs a source and a target.",wn=e=>`Marker type "${e}" doesn't exist.`,xn=(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,En=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",Sn=e=>`Edge type "${e}" not found. Using fallback type "default".`,_n=e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,Cn=(()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001")();function Nn(e,t){const n=(0,o.useContext)(pn);if(null===n)throw new Error(Cn);return d(n,e,t)}const Mn=()=>{const e=(0,o.useContext)(pn);if(null===e)throw new Error(Cn);return(0,o.useMemo)((()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy})),[e])},kn=e=>e.userSelectionActive?"none":"all";function An(e){let{position:t,children:n,className:i,style:a,...s}=e;const c=Nn(kn),u=`${t}`.split("-");return o.createElement("div",{className:(0,r.A)(["react-flow__panel",i,...u]),style:{...a,pointerEvents:c},...s},n)}function In(e){let{proOptions:t,position:n="bottom-right"}=e;return t?.hideAttribution?null:o.createElement(An,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},o.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}var Pn=(0,o.memo)((e=>{let{x:t,y:n,label:i,labelStyle:a={},labelShowBg:s=!0,labelBgStyle:c={},labelBgPadding:u=[2,4],labelBgBorderRadius:l=2,children:d,className:f,...h}=e;const p=(0,o.useRef)(null),[g,m]=(0,o.useState)({x:0,y:0,width:0,height:0}),v=(0,r.A)(["react-flow__edge-textwrapper",f]);return(0,o.useEffect)((()=>{if(p.current){const e=p.current.getBBox();m({x:e.x,y:e.y,width:e.width,height:e.height})}}),[i]),"undefined"!==typeof i&&i?o.createElement("g",{transform:`translate(${t-g.width/2} ${n-g.height/2})`,className:v,visibility:g.width?"visible":"hidden",...h},s&&o.createElement("rect",{width:g.width+2*u[0],x:-u[0],y:-u[1],height:g.height+2*u[1],className:"react-flow__edge-textbg",style:c,rx:l,ry:l}),o.createElement("text",{className:"react-flow__edge-text",y:g.height/2,dy:"0.3em",ref:p,style:a},i),d):null}));const On=e=>({width:e.offsetWidth,height:e.offsetHeight}),Rn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},Dn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},t=arguments.length>1?arguments[1]:void 0;return{x:Rn(e.x,t[0][0],t[1][0]),y:Rn(e.y,t[0][1],t[1][1])}},zn=(e,t,n)=>e<t?Rn(Math.abs(e-t),1,50)/50:e>n?-Rn(Math.abs(e-n),1,50)/50:0,Tn=(e,t)=>[20*zn(e.x,35,t.width-35),20*zn(e.y,35,t.height-35)],Bn=e=>e.getRootNode?.()||window?.document,Ln=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),jn=e=>{let{x:t,y:n,width:o,height:r}=e;return{x:t,y:n,x2:t+o,y2:n+r}},$n=e=>{let{x:t,y:n,x2:o,y2:r}=e;return{x:t,y:n,width:o-t,height:r-n}},Vn=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),Yn=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),o=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*o)},Hn=e=>Xn(e.width)&&Xn(e.height)&&Xn(e.x)&&Xn(e.y),Xn=e=>!isNaN(e)&&isFinite(e),Fn=Symbol.for("internals"),Gn=["Enter"," ","Escape"],Zn=(e,t)=>{0};function Kn(e){const t=(e=>"nativeEvent"in e)(e)?e.nativeEvent:e,n=t.composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const Un=e=>"clientX"in e,Wn=(e,t)=>{const n=Un(e),o=n?e.clientX:e.touches?.[0].clientX,r=n?e.clientY:e.touches?.[0].clientY;return{x:o-(t?.left??0),y:r-(t?.top??0)}},qn=()=>"undefined"!==typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0,Qn=e=>{let{id:t,path:n,labelX:r,labelY:i,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:g=20}=e;return o.createElement(o.Fragment,null,o.createElement("path",{id:t,style:f,d:n,fill:"none",className:"react-flow__edge-path",markerEnd:h,markerStart:p}),g&&o.createElement("path",{d:n,fill:"none",strokeOpacity:0,strokeWidth:g,className:"react-flow__edge-interaction"}),a&&Xn(r)&&Xn(i)?o.createElement(Pn,{x:r,y:i,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:d}):null)};Qn.displayName="BaseEdge";function Jn(e,t,n){return void 0===n?n:o=>{const r=t().edges.find((t=>t.id===e));r&&n(o,{...r})}}function eo(e){let{sourceX:t,sourceY:n,targetX:o,targetY:r}=e;const i=Math.abs(o-t)/2,a=o<t?o+i:o-i,s=Math.abs(r-n)/2;return[a,r<n?r+s:r-s,i,s]}function to(e){let{sourceX:t,sourceY:n,targetX:o,targetY:r,sourceControlX:i,sourceControlY:a,targetControlX:s,targetControlY:c}=e;const u=.125*t+.375*i+.375*s+.125*o,l=.125*n+.375*a+.375*c+.125*r;return[u,l,Math.abs(u-t),Math.abs(l-n)]}var no,oo,ro,io,ao,so;function co(e){let{pos:t,x1:n,y1:o,x2:r,y2:i}=e;return t===so.Left||t===so.Right?[.5*(n+r),o]:[n,.5*(o+i)]}function uo(e){let{sourceX:t,sourceY:n,sourcePosition:o=so.Bottom,targetX:r,targetY:i,targetPosition:a=so.Top}=e;const[s,c]=co({pos:o,x1:t,y1:n,x2:r,y2:i}),[u,l]=co({pos:a,x1:r,y1:i,x2:t,y2:n}),[d,f,h,p]=to({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:s,sourceControlY:c,targetControlX:u,targetControlY:l});return[`M${t},${n} C${s},${c} ${u},${l} ${r},${i}`,d,f,h,p]}!function(e){e.Strict="strict",e.Loose="loose"}(no||(no={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(oo||(oo={})),function(e){e.Partial="partial",e.Full="full"}(ro||(ro={})),function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(io||(io={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(ao||(ao={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(so||(so={}));const lo=(0,o.memo)((e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:a=so.Bottom,targetPosition:s=so.Top,label:c,labelStyle:u,labelShowBg:l,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:m,interactionWidth:v}=e;const[y,b,w]=uo({sourceX:t,sourceY:n,sourcePosition:a,targetX:r,targetY:i,targetPosition:s});return o.createElement(Qn,{path:y,labelX:b,labelY:w,label:c,labelStyle:u,labelShowBg:l,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:m,interactionWidth:v})}));lo.displayName="SimpleBezierEdge";const fo={[so.Left]:{x:-1,y:0},[so.Right]:{x:1,y:0},[so.Top]:{x:0,y:-1},[so.Bottom]:{x:0,y:1}},ho=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function po(e){let{source:t,sourcePosition:n=so.Bottom,target:o,targetPosition:r=so.Top,center:i,offset:a}=e;const s=fo[n],c=fo[r],u={x:t.x+s.x*a,y:t.y+s.y*a},l={x:o.x+c.x*a,y:o.y+c.y*a},d=(e=>{let{source:t,sourcePosition:n=so.Bottom,target:o}=e;return n===so.Left||n===so.Right?t.x<o.x?{x:1,y:0}:{x:-1,y:0}:t.y<o.y?{x:0,y:1}:{x:0,y:-1}})({source:u,sourcePosition:n,target:l}),f=0!==d.x?"x":"y",h=d[f];let p,g,m=[];const v={x:0,y:0},y={x:0,y:0},[b,w,x,E]=eo({sourceX:t.x,sourceY:t.y,targetX:o.x,targetY:o.y});if(s[f]*c[f]===-1){p=i.x??b,g=i.y??w;const e=[{x:p,y:u.y},{x:p,y:l.y}],t=[{x:u.x,y:g},{x:l.x,y:g}];m=s[f]===h?"x"===f?e:t:"x"===f?t:e}else{const e=[{x:u.x,y:l.y}],i=[{x:l.x,y:u.y}];if(m="x"===f?s.x===h?i:e:s.y===h?e:i,n===r){const e=Math.abs(t[f]-o[f]);if(e<=a){const n=Math.min(a-1,a-e);s[f]===h?v[f]=(u[f]>t[f]?-1:1)*n:y[f]=(l[f]>o[f]?-1:1)*n}}if(n!==r){const t="x"===f?"y":"x",n=s[f]===c[t],o=u[t]>l[t],r=u[t]<l[t];(1===s[f]&&(!n&&o||n&&r)||1!==s[f]&&(!n&&r||n&&o))&&(m="x"===f?e:i)}const d={x:u.x+v.x,y:u.y+v.y},b={x:l.x+y.x,y:l.y+y.y};Math.max(Math.abs(d.x-m[0].x),Math.abs(b.x-m[0].x))>=Math.max(Math.abs(d.y-m[0].y),Math.abs(b.y-m[0].y))?(p=(d.x+b.x)/2,g=m[0].y):(p=m[0].x,g=(d.y+b.y)/2)}return[[t,{x:u.x+v.x,y:u.y+v.y},...m,{x:l.x+y.x,y:l.y+y.y},o],p,g,x,E]}function go(e){let{sourceX:t,sourceY:n,sourcePosition:o=so.Bottom,targetX:r,targetY:i,targetPosition:a=so.Top,borderRadius:s=5,centerX:c,centerY:u,offset:l=20}=e;const[d,f,h,p,g]=po({source:{x:t,y:n},sourcePosition:o,target:{x:r,y:i},targetPosition:a,center:{x:c,y:u},offset:l}),m=d.reduce(((e,t,n)=>{let o="";return o=n>0&&n<d.length-1?function(e,t,n,o){const r=Math.min(ho(e,t)/2,ho(t,n)/2,o),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a)return`L ${i+r*(e.x<n.x?-1:1)},${a}Q ${i},${a} ${i},${a+r*(e.y<n.y?1:-1)}`;const s=e.x<n.x?1:-1;return`L ${i},${a+r*(e.y<n.y?-1:1)}Q ${i},${a} ${i+r*s},${a}`}(d[n-1],t,d[n+1],s):`${0===n?"M":"L"}${t.x} ${t.y}`,e+=o}),"");return[m,f,h,p,g]}const mo=(0,o.memo)((e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:i,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:d,style:f,sourcePosition:h=so.Bottom,targetPosition:p=so.Top,markerEnd:g,markerStart:m,pathOptions:v,interactionWidth:y}=e;const[b,w,x]=go({sourceX:t,sourceY:n,sourcePosition:h,targetX:r,targetY:i,targetPosition:p,borderRadius:v?.borderRadius,offset:v?.offset});return o.createElement(Qn,{path:b,labelX:w,labelY:x,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:d,style:f,markerEnd:g,markerStart:m,interactionWidth:y})}));mo.displayName="SmoothStepEdge";const vo=(0,o.memo)((e=>o.createElement(mo,{...e,pathOptions:(0,o.useMemo)((()=>({borderRadius:0,offset:e.pathOptions?.offset})),[e.pathOptions?.offset])})));vo.displayName="StepEdge";const yo=(0,o.memo)((e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:i,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:g}=e;const[m,v,y]=function(e){let{sourceX:t,sourceY:n,targetX:o,targetY:r}=e;const[i,a,s,c]=eo({sourceX:t,sourceY:n,targetX:o,targetY:r});return[`M ${t},${n}L ${o},${r}`,i,a,s,c]}({sourceX:t,sourceY:n,targetX:r,targetY:i});return o.createElement(Qn,{path:m,labelX:v,labelY:y,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:u,labelBgPadding:l,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:g})}));function bo(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function wo(e){let{pos:t,x1:n,y1:o,x2:r,y2:i,c:a}=e;switch(t){case so.Left:return[n-bo(n-r,a),o];case so.Right:return[n+bo(r-n,a),o];case so.Top:return[n,o-bo(o-i,a)];case so.Bottom:return[n,o+bo(i-o,a)]}}function xo(e){let{sourceX:t,sourceY:n,sourcePosition:o=so.Bottom,targetX:r,targetY:i,targetPosition:a=so.Top,curvature:s=.25}=e;const[c,u]=wo({pos:o,x1:t,y1:n,x2:r,y2:i,c:s}),[l,d]=wo({pos:a,x1:r,y1:i,x2:t,y2:n,c:s}),[f,h,p,g]=to({sourceX:t,sourceY:n,targetX:r,targetY:i,sourceControlX:c,sourceControlY:u,targetControlX:l,targetControlY:d});return[`M${t},${n} C${c},${u} ${l},${d} ${r},${i}`,f,h,p,g]}yo.displayName="StraightEdge";const Eo=(0,o.memo)((e=>{let{sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:a=so.Bottom,targetPosition:s=so.Top,label:c,labelStyle:u,labelShowBg:l,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:m,pathOptions:v,interactionWidth:y}=e;const[b,w,x]=xo({sourceX:t,sourceY:n,sourcePosition:a,targetX:r,targetY:i,targetPosition:s,curvature:v?.curvature});return o.createElement(Qn,{path:b,labelX:w,labelY:x,label:c,labelStyle:u,labelShowBg:l,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:m,interactionWidth:y})}));Eo.displayName="BezierEdge";const So=(0,o.createContext)(null),_o=So.Provider;So.Consumer;const Co=e=>{let{source:t,sourceHandle:n,target:o,targetHandle:r}=e;return`reactflow__edge-${t}${n||""}-${o}${r||""}`},No=(e,t)=>{if("undefined"===typeof e)return"";if("string"===typeof e)return e;return`${t?`${t}__`:""}${Object.keys(e).sort().map((t=>`${t}=${e[t]}`)).join("&")}`},Mo=(e,t,n,o)=>{let{x:r,y:i}=e,[a,s,c]=t,[u,l]=o;const d={x:(r-a)/c,y:(i-s)/c};return n?{x:u*Math.round(d.x/u),y:l*Math.round(d.y/l)}:d},ko=(e,t)=>{let{x:n,y:o}=e,[r,i,a]=t;return{x:n*a+r,y:o*a+i}},Ao=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],o=(e.height??0)*t[1],r={x:e.position.x-n,y:e.position.y-o};return{...r,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-o}:r}},Io=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce(((e,n)=>{const{x:o,y:r}=Ao(n,t).positionAbsolute;return Ln(e,jn({x:o,y:r,width:n.width||0,height:n.height||0}))}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return $n(n)},Po=function(e,t){let[n,o,r]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0];const c={x:(t.x-n)/r,y:(t.y-o)/r,width:t.width/r,height:t.height/r},u=[];return e.forEach((e=>{const{width:t,height:n,selectable:o=!0,hidden:r=!1}=e;if(a&&!o||r)return!1;const{positionAbsolute:l}=Ao(e,s),d={x:l.x,y:l.y,width:t||0,height:n||0},f=Yn(c,d);("undefined"===typeof t||"undefined"===typeof n||null===t||null===n||i&&f>0||f>=(t||0)*(n||0)||e.dragging)&&u.push(e)})),u},Oo=(e,t)=>{const n=e.map((e=>e.id));return t.filter((e=>n.includes(e.source)||n.includes(e.target)))},Ro=function(e,t,n,o,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.1;const a=t/(e.width*(1+i)),s=n/(e.height*(1+i)),c=Math.min(a,s),u=Rn(c,o,r);return{x:t/2-(e.x+e.width/2)*u,y:n/2-(e.y+e.height/2)*u,zoom:u}},Do=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.transition().duration(t)};function zo(e,t,n,o){return(t[n]||[]).reduce(((t,r)=>(`${e.id}-${r.id}-${n}`!==o&&t.push({id:r.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+r.x+r.width/2,y:(e.positionAbsolute?.y??0)+r.y+r.height/2}),t)),[])}const To={source:null,target:null,sourceHandle:null,targetHandle:null},Bo=()=>({handleDomNode:null,isValid:!1,connection:To,endHandle:null});function Lo(e,t,n,o,r,i,a){const s="target"===r,c=a.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),u={...Bo(),handleDomNode:c};if(c){const e=jo(void 0,c),r=c.getAttribute("data-nodeid"),a=c.getAttribute("data-handleid"),l=c.classList.contains("connectable"),d=c.classList.contains("connectableend"),f={source:s?r:n,sourceHandle:s?a:o,target:s?n:r,targetHandle:s?o:a};u.connection=f;l&&d&&(t===no.Strict?s&&"source"===e||!s&&"target"===e:r!==n||a!==o)&&(u.endHandle={nodeId:r,handleId:a,type:e},u.isValid=i(f))}return u}function jo(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function $o(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function Vo(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function Yo(e){let{event:t,handleId:n,nodeId:o,onConnect:r,isTarget:i,getState:a,setState:s,isValidConnection:c,edgeUpdaterType:u,onReconnectEnd:l}=e;const d=Bn(t.target),{connectionMode:f,domNode:h,autoPanOnConnect:p,connectionRadius:g,onConnectStart:m,panBy:v,getNodes:y,cancelConnection:b}=a();let w,x=0;const{x:E,y:S}=Wn(t),_=d?.elementFromPoint(E,S),C=jo(u,_),N=h?.getBoundingClientRect();if(!N||!C)return;let M,k=Wn(t,N),A=!1,I=null,P=!1,O=null;const R=function(e){let{nodes:t,nodeId:n,handleId:o,handleType:r}=e;return t.reduce(((e,t)=>{if(t[Fn]){const{handleBounds:i}=t[Fn];let a=[],s=[];i&&(a=zo(t,i,"source",`${n}-${o}-${r}`),s=zo(t,i,"target",`${n}-${o}-${r}`)),e.push(...a,...s)}return e}),[])}({nodes:y(),nodeId:o,handleId:n,handleType:C}),D=()=>{if(!p)return;const[e,t]=Tn(k,N);v({x:e,y:t}),x=requestAnimationFrame(D)};function z(e){const{transform:t}=a();k=Wn(e,N);const{handle:r,validHandleResult:u}=function(e,t,n,o,r,i){const{x:a,y:s}=Wn(e),c=t.elementsFromPoint(a,s).find((e=>e.classList.contains("react-flow__handle")));if(c){const e=c.getAttribute("data-nodeid");if(e){const t=jo(void 0,c),o=c.getAttribute("data-handleid"),a=i({nodeId:e,id:o,type:t});if(a){const i=r.find((n=>n.nodeId===e&&n.type===t&&n.id===o));return{handle:{id:o,type:t,nodeId:e,x:i?.x||n.x,y:i?.y||n.y},validHandleResult:a}}}}let u=[],l=1/0;if(r.forEach((e=>{const t=Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2);if(t<=o){const n=i(e);t<=l&&(t<l?u=[{handle:e,validHandleResult:n}]:t===l&&u.push({handle:e,validHandleResult:n}),l=t)}})),!u.length)return{handle:null,validHandleResult:Bo()};if(1===u.length)return u[0];const d=u.some((e=>{let{validHandleResult:t}=e;return t.isValid})),f=u.some((e=>{let{handle:t}=e;return"target"===t.type}));return u.find((e=>{let{handle:t,validHandleResult:n}=e;return f?"target"===t.type:!d||n.isValid}))||u[0]}(e,d,Mo(k,t,!1,[1,1]),g,R,(e=>Lo(e,f,o,n,i?"target":"source",c,d)));if(w=r,A||(D(),A=!0),O=u.handleDomNode,I=u.connection,P=u.isValid,s({connectionPosition:w&&P?ko({x:w.x,y:w.y},t):k,connectionStatus:Vo(!!w,P),connectionEndHandle:u.endHandle}),!w&&!P&&!O)return $o(M);I.source!==I.target&&O&&($o(M),M=O,O.classList.add("connecting","react-flow__handle-connecting"),O.classList.toggle("valid",P),O.classList.toggle("react-flow__handle-valid",P))}function T(e){(w||O)&&I&&P&&r?.(I),a().onConnectEnd?.(e),u&&l?.(e),$o(M),b(),cancelAnimationFrame(x),A=!1,P=!1,I=null,O=null,d.removeEventListener("mousemove",z),d.removeEventListener("mouseup",T),d.removeEventListener("touchmove",z),d.removeEventListener("touchend",T)}s({connectionPosition:k,connectionStatus:null,connectionNodeId:o,connectionHandleId:n,connectionHandleType:C,connectionStartHandle:{nodeId:o,handleId:n,type:C},connectionEndHandle:null}),m?.(t,{nodeId:o,handleId:n,handleType:C}),d.addEventListener("mousemove",z),d.addEventListener("mouseup",T),d.addEventListener("touchmove",z),d.addEventListener("touchend",T)}const Ho=()=>!0,Xo=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),Fo=(0,o.forwardRef)(((e,t)=>{let{type:n="source",position:i=so.Top,isValidConnection:a,isConnectable:s=!0,isConnectableStart:c=!0,isConnectableEnd:u=!0,id:l,onConnect:d,children:f,className:p,onMouseDown:g,onTouchStart:m,...v}=e;const y=l||null,b="target"===n,w=Mn(),x=(0,o.useContext)(So),{connectOnClick:E,noPanClassName:S}=Nn(Xo,h.x),{connecting:_,clickConnecting:C}=Nn(((e,t,n)=>o=>{const{connectionStartHandle:r,connectionEndHandle:i,connectionClickStartHandle:a}=o;return{connecting:r?.nodeId===e&&r?.handleId===t&&r?.type===n||i?.nodeId===e&&i?.handleId===t&&i?.type===n,clickConnecting:a?.nodeId===e&&a?.handleId===t&&a?.type===n}})(x,y,n),h.x);x||w.getState().onError?.("010",En());const N=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:o}=w.getState(),r={...t,...e};if(o){const{edges:e,setEdges:t}=w.getState();t(((e,t)=>{if(!e.source||!e.target)return Zn(0,bn()),t;let n;var o;return n="id"in(o=e)&&"source"in o&&"target"in o?{...e}:{...e,id:Co(e)},((e,t)=>t.some((t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle))))(n,t)?t:t.concat(n)})(r,e))}n?.(r),d?.(r)},M=e=>{if(!x)return;const t=Un(e);c&&(t&&0===e.button||!t)&&Yo({event:e,handleId:y,nodeId:x,onConnect:N,isTarget:b,getState:w.getState,setState:w.setState,isValidConnection:a||w.getState().isValidConnection||Ho}),t?g?.(e):m?.(e)};return o.createElement("div",{"data-handleid":y,"data-nodeid":x,"data-handlepos":i,"data-id":`${x}-${y}-${n}`,className:(0,r.A)(["react-flow__handle",`react-flow__handle-${i}`,"nodrag",S,p,{source:!b,target:b,connectable:s,connectablestart:c,connectableend:u,connecting:C,connectionindicator:s&&(c&&!_||u&&_)}]),onMouseDown:M,onTouchStart:M,onClick:E?e=>{const{onClickConnectStart:t,onClickConnectEnd:o,connectionClickStartHandle:r,connectionMode:i,isValidConnection:s}=w.getState();if(!x||!r&&!c)return;if(!r)return t?.(e,{nodeId:x,handleId:y,handleType:n}),void w.setState({connectionClickStartHandle:{nodeId:x,type:n,handleId:y}});const u=Bn(e.target),l=a||s||Ho,{connection:d,isValid:f}=Lo({nodeId:x,id:y,type:n},i,r.nodeId,r.handleId||null,r.type,l,u);f&&N(d),o?.(e),w.setState({connectionClickStartHandle:null})}:void 0,ref:t,...v},f)}));Fo.displayName="Handle";var Go=(0,o.memo)(Fo);const Zo=e=>{let{data:t,isConnectable:n,targetPosition:r=so.Top,sourcePosition:i=so.Bottom}=e;return o.createElement(o.Fragment,null,o.createElement(Go,{type:"target",position:r,isConnectable:n}),t?.label,o.createElement(Go,{type:"source",position:i,isConnectable:n}))};Zo.displayName="DefaultNode";var Ko=(0,o.memo)(Zo);const Uo=e=>{let{data:t,isConnectable:n,sourcePosition:r=so.Bottom}=e;return o.createElement(o.Fragment,null,t?.label,o.createElement(Go,{type:"source",position:r,isConnectable:n}))};Uo.displayName="InputNode";var Wo=(0,o.memo)(Uo);const qo=e=>{let{data:t,isConnectable:n,targetPosition:r=so.Top}=e;return o.createElement(o.Fragment,null,o.createElement(Go,{type:"target",position:r,isConnectable:n}),t?.label)};qo.displayName="OutputNode";var Qo=(0,o.memo)(qo);const Jo=()=>null;Jo.displayName="GroupNode";const er=e=>({selectedNodes:e.getNodes().filter((e=>e.selected)),selectedEdges:e.edges.filter((e=>e.selected)).map((e=>({...e})))}),tr=e=>e.id;function nr(e,t){return(0,h.x)(e.selectedNodes.map(tr),t.selectedNodes.map(tr))&&(0,h.x)(e.selectedEdges.map(tr),t.selectedEdges.map(tr))}const or=(0,o.memo)((e=>{let{onSelectionChange:t}=e;const n=Mn(),{selectedNodes:r,selectedEdges:i}=Nn(er,nr);return(0,o.useEffect)((()=>{const e={nodes:r,edges:i};t?.(e),n.getState().onSelectionChange.forEach((t=>t(e)))}),[r,i,t]),null}));or.displayName="SelectionListener";const rr=e=>!!e.onSelectionChange;function ir(e){let{onSelectionChange:t}=e;const n=Nn(rr);return t||n?o.createElement(or,{onSelectionChange:t}):null}const ar=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function sr(e,t){(0,o.useEffect)((()=>{"undefined"!==typeof e&&t(e)}),[e])}function cr(e,t,n){(0,o.useEffect)((()=>{"undefined"!==typeof t&&n({[e]:t})}),[t])}const ur=e=>{let{nodes:t,edges:n,defaultNodes:r,defaultEdges:i,onConnect:a,onConnectStart:s,onConnectEnd:c,onClickConnectStart:u,onClickConnectEnd:l,nodesDraggable:d,nodesConnectable:f,nodesFocusable:p,edgesFocusable:g,edgesUpdatable:m,elevateNodesOnSelect:v,minZoom:y,maxZoom:b,nodeExtent:w,onNodesChange:x,onEdgesChange:E,elementsSelectable:S,connectionMode:_,snapGrid:C,snapToGrid:N,translateExtent:M,connectOnClick:k,defaultEdgeOptions:A,fitView:I,fitViewOptions:P,onNodesDelete:O,onEdgesDelete:R,onNodeDrag:D,onNodeDragStart:z,onNodeDragStop:T,onSelectionDrag:B,onSelectionDragStart:L,onSelectionDragStop:j,noPanClassName:$,nodeOrigin:V,rfId:Y,autoPanOnConnect:H,autoPanOnNodeDrag:X,onError:F,connectionRadius:G,isValidConnection:Z,nodeDragThreshold:K}=e;const{setNodes:U,setEdges:W,setDefaultNodesAndEdges:q,setMinZoom:Q,setMaxZoom:J,setTranslateExtent:ee,setNodeExtent:te,reset:ne}=Nn(ar,h.x),oe=Mn();return(0,o.useEffect)((()=>{const e=i?.map((e=>({...e,...A})));return q(r,e),()=>{ne()}}),[]),cr("defaultEdgeOptions",A,oe.setState),cr("connectionMode",_,oe.setState),cr("onConnect",a,oe.setState),cr("onConnectStart",s,oe.setState),cr("onConnectEnd",c,oe.setState),cr("onClickConnectStart",u,oe.setState),cr("onClickConnectEnd",l,oe.setState),cr("nodesDraggable",d,oe.setState),cr("nodesConnectable",f,oe.setState),cr("nodesFocusable",p,oe.setState),cr("edgesFocusable",g,oe.setState),cr("edgesUpdatable",m,oe.setState),cr("elementsSelectable",S,oe.setState),cr("elevateNodesOnSelect",v,oe.setState),cr("snapToGrid",N,oe.setState),cr("snapGrid",C,oe.setState),cr("onNodesChange",x,oe.setState),cr("onEdgesChange",E,oe.setState),cr("connectOnClick",k,oe.setState),cr("fitViewOnInit",I,oe.setState),cr("fitViewOnInitOptions",P,oe.setState),cr("onNodesDelete",O,oe.setState),cr("onEdgesDelete",R,oe.setState),cr("onNodeDrag",D,oe.setState),cr("onNodeDragStart",z,oe.setState),cr("onNodeDragStop",T,oe.setState),cr("onSelectionDrag",B,oe.setState),cr("onSelectionDragStart",L,oe.setState),cr("onSelectionDragStop",j,oe.setState),cr("noPanClassName",$,oe.setState),cr("nodeOrigin",V,oe.setState),cr("rfId",Y,oe.setState),cr("autoPanOnConnect",H,oe.setState),cr("autoPanOnNodeDrag",X,oe.setState),cr("onError",F,oe.setState),cr("connectionRadius",G,oe.setState),cr("isValidConnection",Z,oe.setState),cr("nodeDragThreshold",K,oe.setState),sr(t,U),sr(n,W),sr(y,Q),sr(b,J),sr(M,ee),sr(w,te),null},lr={display:"none"},dr={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},fr="react-flow__node-desc",hr="react-flow__edge-desc",pr=e=>e.ariaLiveMessage;function gr(e){let{rfId:t}=e;const n=Nn(pr);return o.createElement("div",{id:`react-flow__aria-live-${t}`,"aria-live":"assertive","aria-atomic":"true",style:dr},n)}function mr(e){let{rfId:t,disableKeyboardA11y:n}=e;return o.createElement(o.Fragment,null,o.createElement("div",{id:`${fr}-${t}`,style:lr},"Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),o.createElement("div",{id:`${hr}-${t}`,style:lr},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!n&&o.createElement(gr,{rfId:t}))}var vr=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{actInsideInputWithModifier:!0};const[n,r]=(0,o.useState)(!1),i=(0,o.useRef)(!1),a=(0,o.useRef)(new Set([])),[s,c]=(0,o.useMemo)((()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter((e=>"string"===typeof e)).map((e=>e.split("+"))),n=t.reduce(((e,t)=>e.concat(...t)),[]);return[t,n]}return[[],[]]}),[e]);return(0,o.useEffect)((()=>{const n="undefined"!==typeof document?document:null,o=t?.target||n;if(null!==e){const e=e=>{i.current=e.ctrlKey||e.metaKey||e.shiftKey;if((!i.current||i.current&&!t.actInsideInputWithModifier)&&Kn(e))return!1;const n=br(e.code,c);a.current.add(e[n]),yr(s,a.current,!1)&&(e.preventDefault(),r(!0))},n=e=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&Kn(e))return!1;const n=br(e.code,c);yr(s,a.current,!0)?(r(!1),a.current.clear()):a.current.delete(e[n]),"Meta"===e.key&&a.current.clear(),i.current=!1},u=()=>{a.current.clear(),r(!1)};return o?.addEventListener("keydown",e),o?.addEventListener("keyup",n),window.addEventListener("blur",u),()=>{o?.removeEventListener("keydown",e),o?.removeEventListener("keyup",n),window.removeEventListener("blur",u)}}}),[e,r]),n};function yr(e,t,n){return e.filter((e=>n||e.length===t.size)).some((e=>e.every((e=>t.has(e)))))}function br(e,t){return t.includes(e)?"code":"key"}function wr(e,t,n,o){const r=e.parentNode||e.parentId;if(!r)return n;const i=t.get(r),a=Ao(i,o);return wr(i,t,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(i[Fn]?.z??0)>(n.z??0)?i[Fn]?.z??0:n.z??0},o)}function xr(e,t,n){e.forEach((o=>{const r=o.parentNode||o.parentId;if(r&&!e.has(r))throw new Error(`Parent node ${r} not found`);if(r||n?.[o.id]){const{x:r,y:i,z:a}=wr(o,e,{...o.position,z:o[Fn]?.z??0},t);o.positionAbsolute={x:r,y:i},o[Fn].z=a,n?.[o.id]&&(o[Fn].isParent=!0)}}))}function Er(e,t,n,o){const r=new Map,i={},a=o?1e3:0;return e.forEach((e=>{const n=(Xn(e.zIndex)?e.zIndex:0)+(e.selected?a:0),o=t.get(e.id),s={...e,positionAbsolute:{x:e.position.x,y:e.position.y}},c=e.parentNode||e.parentId;c&&(i[c]=!0);const u=o?.type&&o?.type!==e.type;Object.defineProperty(s,Fn,{enumerable:!1,value:{handleBounds:u?void 0:o?.[Fn]?.handleBounds,z:n}}),r.set(e.id,s)})),xr(r,n,i),r}function Sr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getNodes:n,width:o,height:r,minZoom:i,maxZoom:a,d3Zoom:s,d3Selection:c,fitViewOnInitDone:u,fitViewOnInit:l,nodeOrigin:d}=e(),f=t.initial&&!u&&l;if(s&&c&&(f||!t.initial)){const e=n().filter((e=>{const n=t.includeHiddenNodes?e.width&&e.height:!e.hidden;return t.nodes?.length?n&&t.nodes.some((t=>t.id===e.id)):n})),u=e.every((e=>e.width&&e.height));if(e.length>0&&u){const n=Io(e,d),{x:u,y:l,zoom:f}=Ro(n,o,r,t.minZoom??i,t.maxZoom??a,t.padding??.1),h=Qt.translate(u,l).scale(f);return"number"===typeof t.duration&&t.duration>0?s.transform(Do(c,t.duration),h):s.transform(c,h),!0}}return!1}function _r(e,t){return e.forEach((e=>{const n=t.get(e.id);n&&t.set(n.id,{...n,[Fn]:n[Fn],selected:e.selected})})),new Map(t)}function Cr(e,t){return t.map((t=>{const n=e.find((e=>e.id===t.id));return n&&(t.selected=n.selected),t}))}function Nr(e){let{changedNodes:t,changedEdges:n,get:o,set:r}=e;const{nodeInternals:i,edges:a,onNodesChange:s,onEdgesChange:c,hasDefaultNodes:u,hasDefaultEdges:l}=o();t?.length&&(u&&r({nodeInternals:_r(t,i)}),s?.(t)),n?.length&&(l&&r({edges:Cr(n,a)}),c?.(n))}const Mr=()=>{},kr={zoomIn:Mr,zoomOut:Mr,zoomTo:Mr,getZoom:()=>1,setViewport:Mr,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Mr,fitBounds:Mr,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},Ar=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),Ir=()=>{const e=Mn(),{d3Zoom:t,d3Selection:n}=Nn(Ar,h.x),r=(0,o.useMemo)((()=>n&&t?{zoomIn:e=>t.scaleBy(Do(n,e?.duration),1.2),zoomOut:e=>t.scaleBy(Do(n,e?.duration),1/1.2),zoomTo:(e,o)=>t.scaleTo(Do(n,o?.duration),e),getZoom:()=>e.getState().transform[2],setViewport:(o,r)=>{const[i,a,s]=e.getState().transform,c=Qt.translate(o.x??i,o.y??a).scale(o.zoom??s);t.transform(Do(n,r?.duration),c)},getViewport:()=>{const[t,n,o]=e.getState().transform;return{x:t,y:n,zoom:o}},fitView:t=>Sr(e.getState,t),setCenter:(o,r,i)=>{const{width:a,height:s,maxZoom:c}=e.getState(),u="undefined"!==typeof i?.zoom?i.zoom:c,l=a/2-o*u,d=s/2-r*u,f=Qt.translate(l,d).scale(u);t.transform(Do(n,i?.duration),f)},fitBounds:(o,r)=>{const{width:i,height:a,minZoom:s,maxZoom:c}=e.getState(),{x:u,y:l,zoom:d}=Ro(o,i,a,s,c,r?.padding??.1),f=Qt.translate(u,l).scale(d);t.transform(Do(n,r?.duration),f)},project:t=>{const{transform:n,snapToGrid:o,snapGrid:r}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Mo(t,n,o,r)},screenToFlowPosition:t=>{const{transform:n,snapToGrid:o,snapGrid:r,domNode:i}=e.getState();if(!i)return t;const{x:a,y:s}=i.getBoundingClientRect(),c={x:t.x-a,y:t.y-s};return Mo(c,n,o,r)},flowToScreenPosition:t=>{const{transform:n,domNode:o}=e.getState();if(!o)return t;const{x:r,y:i}=o.getBoundingClientRect(),a=ko(t,n);return{x:a.x+r,y:a.y+i}},viewportInitialized:!0}:kr),[t,n]);return r};function Pr(){const e=Ir(),t=Mn(),n=(0,o.useCallback)((()=>t.getState().getNodes().map((e=>({...e})))),[]),r=(0,o.useCallback)((e=>t.getState().nodeInternals.get(e)),[]),i=(0,o.useCallback)((()=>{const{edges:e=[]}=t.getState();return e.map((e=>({...e})))}),[]),a=(0,o.useCallback)((e=>{const{edges:n=[]}=t.getState();return n.find((t=>t.id===e))}),[]),s=(0,o.useCallback)((e=>{const{getNodes:n,setNodes:o,hasDefaultNodes:r,onNodesChange:i}=t.getState(),a=n(),s="function"===typeof e?e(a):e;if(r)o(s);else if(i){const e=0===s.length?a.map((e=>({type:"remove",id:e.id}))):s.map((e=>({item:e,type:"reset"})));i(e)}}),[]),c=(0,o.useCallback)((e=>{const{edges:n=[],setEdges:o,hasDefaultEdges:r,onEdgesChange:i}=t.getState(),a="function"===typeof e?e(n):e;if(r)o(a);else if(i){i(0===a.length?n.map((e=>({type:"remove",id:e.id}))):a.map((e=>({item:e,type:"reset"}))))}}),[]),u=(0,o.useCallback)((e=>{const n=Array.isArray(e)?e:[e],{getNodes:o,setNodes:r,hasDefaultNodes:i,onNodesChange:a}=t.getState();if(i){r([...o(),...n])}else if(a){const e=n.map((e=>({item:e,type:"add"})));a(e)}}),[]),l=(0,o.useCallback)((e=>{const n=Array.isArray(e)?e:[e],{edges:o=[],setEdges:r,hasDefaultEdges:i,onEdgesChange:a}=t.getState();if(i)r([...o,...n]);else if(a){a(n.map((e=>({item:e,type:"add"}))))}}),[]),d=(0,o.useCallback)((()=>{const{getNodes:e,edges:n=[],transform:o}=t.getState(),[r,i,a]=o;return{nodes:e().map((e=>({...e}))),edges:n.map((e=>({...e}))),viewport:{x:r,y:i,zoom:a}}}),[]),f=(0,o.useCallback)((e=>{let{nodes:n,edges:o}=e;const{nodeInternals:r,getNodes:i,edges:a,hasDefaultNodes:s,hasDefaultEdges:c,onNodesDelete:u,onEdgesDelete:l,onNodesChange:d,onEdgesChange:f}=t.getState(),h=(n||[]).map((e=>e.id)),p=(o||[]).map((e=>e.id)),g=i().reduce(((e,t)=>{const n=t.parentNode||t.parentId,o=!h.includes(t.id)&&n&&e.find((e=>e.id===n));return("boolean"!==typeof t.deletable||t.deletable)&&(h.includes(t.id)||o)&&e.push(t),e}),[]),m=a.filter((e=>"boolean"!==typeof e.deletable||e.deletable)),v=m.filter((e=>p.includes(e.id)));if(g||v){const e=Oo(g,m),n=[...v,...e],o=n.reduce(((e,t)=>(e.includes(t.id)||e.push(t.id),e)),[]);if((c||s)&&(c&&t.setState({edges:a.filter((e=>!o.includes(e.id)))}),s&&(g.forEach((e=>{r.delete(e.id)})),t.setState({nodeInternals:new Map(r)}))),o.length>0&&(l?.(n),f&&f(o.map((e=>({id:e,type:"remove"}))))),g.length>0&&(u?.(g),d)){d(g.map((e=>({id:e.id,type:"remove"}))))}}}),[]),h=(0,o.useCallback)((e=>{const n=Hn(e),o=n?null:t.getState().nodeInternals.get(e.id);if(!n&&!o)return[null,null,n];return[n?e:Vn(o),o,n]}),[]),p=(0,o.useCallback)((function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2?arguments[2]:void 0;const[r,i,a]=h(e);return r?(o||t.getState().getNodes()).filter((e=>{if(!a&&(e.id===i.id||!e.positionAbsolute))return!1;const t=Vn(e),o=Yn(t,r);return n&&o>0||o>=r.width*r.height})):[]}),[]),g=(0,o.useCallback)((function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const[o]=h(e);if(!o)return!1;const r=Yn(o,t);return n&&r>0||r>=o.width*o.height}),[]);return(0,o.useMemo)((()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:a,setNodes:s,setEdges:c,addNodes:u,addEdges:l,toObject:d,deleteElements:f,getIntersectingNodes:p,isNodeIntersecting:g})),[e,n,r,i,a,s,c,u,l,d,f,p,g])}const Or={actInsideInputWithModifier:!1};const Rr={position:"absolute",width:"100%",height:"100%",top:0,left:0},Dr=e=>({x:e.x,y:e.y,zoom:e.k}),zr=(e,t)=>e.target.closest(`.${t}`),Tr=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),Br=e=>{const t=e.ctrlKey&&qn()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t},Lr=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),jr=e=>{let{onMove:t,onMoveStart:n,onMoveEnd:r,onPaneContextMenu:i,zoomOnScroll:a=!0,zoomOnPinch:s=!0,panOnScroll:c=!1,panOnScrollSpeed:u=.5,panOnScrollMode:l=oo.Free,zoomOnDoubleClick:d=!0,elementsSelectable:f,panOnDrag:p=!0,defaultViewport:g,translateExtent:m,minZoom:v,maxZoom:y,zoomActivationKeyCode:w,preventScrolling:x=!0,children:E,noWheelClassName:S,noPanClassName:_}=e;const C=(0,o.useRef)(),N=Mn(),M=(0,o.useRef)(!1),k=(0,o.useRef)(!1),A=(0,o.useRef)(null),I=(0,o.useRef)({x:0,y:0,zoom:0}),{d3Zoom:P,d3Selection:O,d3ZoomHandler:R,userSelectionActive:D}=Nn(Lr,h.x),z=vr(w),T=(0,o.useRef)(0),B=(0,o.useRef)(!1),L=(0,o.useRef)();return function(e){const t=Mn();(0,o.useEffect)((()=>{let n;const o=()=>{if(!e.current)return;const n=On(e.current);0!==n.height&&0!==n.width||t.getState().onError?.("004",vn()),t.setState({width:n.width||500,height:n.height||500})};return o(),window.addEventListener("resize",o),e.current&&(n=new ResizeObserver((()=>o())),n.observe(e.current)),()=>{window.removeEventListener("resize",o),n&&e.current&&n.unobserve(e.current)}}),[])}(A),(0,o.useEffect)((()=>{if(A.current){const e=A.current.getBoundingClientRect(),t=function(){var e,t,n,o=tn,r=nn,i=sn,a=rn,s=an,c=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],l=250,d=Ve,f=b("start","zoom","end"),h=0,p=10;function g(e){e.property("__zoom",on).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",_).on("dblclick.zoom",C).filter(s).on("touchstart.zoom",N).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(e,t){return(t=Math.max(c[0],Math.min(c[1],t)))===e.k?e:new qt(t,e.x,e.y)}function v(e,t,n){var o=t[0]-n[0]*e.k,r=t[1]-n[1]*e.k;return o===e.x&&r===e.y?e:new qt(e.k,o,r)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,o){e.on("start.zoom",(function(){x(this,arguments).event(o).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).event(o).end()})).tween("zoom",(function(){var e=this,i=arguments,a=x(e,i).event(o),s=r.apply(e,i),c=null==n?y(s):"function"===typeof n?n.apply(e,i):n,u=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),l=e.__zoom,f="function"===typeof t?t.apply(e,i):t,h=d(l.invert(c).concat(u/l.k),f.invert(c).concat(u/f.k));return function(e){if(1===e)e=f;else{var t=h(e),n=u/t[2];e=new qt(n,c[0]-t[0]*n,c[1]-t[1]*n)}a.zoom(null,e)}}))}function x(e,t,n){return!n&&e.__zooming||new E(e,t)}function E(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=r.apply(e,t),this.taps=0}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(o.apply(this,arguments)){var s=x(this,n).event(e),l=this.__zoom,d=Math.max(c[0],Math.min(c[1],l.k*Math.pow(2,a.apply(this,arguments)))),f=Ye(e);if(s.wheel)s.mouse[0][0]===f[0]&&s.mouse[0][1]===f[1]||(s.mouse[1]=l.invert(s.mouse[0]=f)),clearTimeout(s.wheel);else{if(l.k===d)return;s.mouse=[f,l.invert(f)],ht(this),s.start()}en(e),s.wheel=setTimeout((function(){s.wheel=null,s.end()}),150),s.zoom("mouse",i(v(m(l,d),s.mouse[0],s.mouse[1]),s.extent,u))}}function _(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];if(!n&&o.apply(this,arguments)){var s=e.currentTarget,c=x(this,r,!0).event(e),l=Re(e.view).on("mousemove.zoom",(function(e){if(en(e),!c.moved){var t=e.clientX-f,n=e.clientY-p;c.moved=t*t+n*n>h}c.event(e).zoom("mouse",i(v(c.that.__zoom,c.mouse[0]=Ye(e,s),c.mouse[1]),c.extent,u))}),!0).on("mouseup.zoom",(function(e){l.on("mousemove.zoom mouseup.zoom",null),je(e.view,c.moved),en(e),c.event(e).end()}),!0),d=Ye(e,s),f=e.clientX,p=e.clientY;Le(e.view),Jt(e),c.mouse=[d,this.__zoom.invert(d)],ht(this),c.start()}}function C(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(o.apply(this,arguments)){var s=this.__zoom,c=Ye(e.changedTouches?e.changedTouches[0]:e,this),d=s.invert(c),f=s.k*(e.shiftKey?.5:2),h=i(v(m(s,f),c,d),r.apply(this,n),u);en(e),l>0?Re(this).transition().duration(l).call(w,h,c,e):Re(this).call(g.transform,h,c,e)}}function N(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(o.apply(this,arguments)){var s,c,u,l,d=n.touches,f=d.length,h=x(this,i,n.changedTouches.length===f).event(n);for(Jt(n),c=0;c<f;++c)l=[l=Ye(u=d[c],this),this.__zoom.invert(l),u.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,s=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),s&&(h.taps<2&&(t=l[0],e=setTimeout((function(){e=null}),500)),ht(this),h.start())}}function M(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var r,a,s,c,l=x(this,n).event(e),d=e.changedTouches,f=d.length;for(en(e),r=0;r<f;++r)s=Ye(a=d[r],this),l.touch0&&l.touch0[2]===a.identifier?l.touch0[0]=s:l.touch1&&l.touch1[2]===a.identifier&&(l.touch1[0]=s);if(a=l.that.__zoom,l.touch1){var h=l.touch0[0],p=l.touch0[1],g=l.touch1[0],y=l.touch1[1],b=(b=g[0]-h[0])*b+(b=g[1]-h[1])*b,w=(w=y[0]-p[0])*w+(w=y[1]-p[1])*w;a=m(a,Math.sqrt(b/w)),s=[(h[0]+g[0])/2,(h[1]+g[1])/2],c=[(p[0]+y[0])/2,(p[1]+y[1])/2]}else{if(!l.touch0)return;s=l.touch0[0],c=l.touch0[1]}l.zoom("touch",i(v(a,s,c),l.extent,u))}}function k(e){for(var o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];if(this.__zooming){var a,s,c=x(this,r).event(e),u=e.changedTouches,l=u.length;for(Jt(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),a=0;a<l;++a)s=u[a],c.touch0&&c.touch0[2]===s.identifier?delete c.touch0:c.touch1&&c.touch1[2]===s.identifier&&delete c.touch1;if(c.touch1&&!c.touch0&&(c.touch0=c.touch1,delete c.touch1),c.touch0)c.touch0[1]=this.__zoom.invert(c.touch0[0]);else if(c.end(),2===c.taps&&(s=Ye(s,this),Math.hypot(t[0]-s[0],t[1]-s[1])<p)){var d=Re(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return g.transform=function(e,t,n,o){var r=e.selection?e.selection():e;r.property("__zoom",on),e!==r?w(e,t,n,o):r.interrupt().each((function(){x(this,arguments).event(o).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},g.scaleBy=function(e,t,n,o){g.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,o)},g.scaleTo=function(e,t,n,o){g.transform(e,(function(){var e=r.apply(this,arguments),o=this.__zoom,a=null==n?y(e):"function"===typeof n?n.apply(this,arguments):n,s=o.invert(a),c="function"===typeof t?t.apply(this,arguments):t;return i(v(m(o,c),a,s),e,u)}),n,o)},g.translateBy=function(e,t,n,o){g.transform(e,(function(){return i(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),r.apply(this,arguments),u)}),null,o)},g.translateTo=function(e,t,n,o,a){g.transform(e,(function(){var e=r.apply(this,arguments),a=this.__zoom,s=null==o?y(e):"function"===typeof o?o.apply(this,arguments):o;return i(Qt.translate(s[0],s[1]).scale(a.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,u)}),o,a)},E.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Re(this.that).datum();f.call(e,this.that,new Wt(e,{sourceEvent:this.sourceEvent,target:g,type:e,transform:this.that.__zoom,dispatch:f}),t)}},g.wheelDelta=function(e){return arguments.length?(a="function"===typeof e?e:Ut(+e),g):a},g.filter=function(e){return arguments.length?(o="function"===typeof e?e:Ut(!!e),g):o},g.touchable=function(e){return arguments.length?(s="function"===typeof e?e:Ut(!!e),g):s},g.extent=function(e){return arguments.length?(r="function"===typeof e?e:Ut([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),g):r},g.scaleExtent=function(e){return arguments.length?(c[0]=+e[0],c[1]=+e[1],g):[c[0],c[1]]},g.translateExtent=function(e){return arguments.length?(u[0][0]=+e[0][0],u[1][0]=+e[1][0],u[0][1]=+e[0][1],u[1][1]=+e[1][1],g):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},g.constrain=function(e){return arguments.length?(i=e,g):i},g.duration=function(e){return arguments.length?(l=+e,g):l},g.interpolate=function(e){return arguments.length?(d=e,g):d},g.on=function(){var e=f.on.apply(f,arguments);return e===f?g:e},g.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,g):Math.sqrt(h)},g.tapDistance=function(e){return arguments.length?(p=+e,g):p},g}().scaleExtent([v,y]).translateExtent(m),n=Re(A.current).call(t),o=Qt.translate(g.x,g.y).scale(Rn(g.zoom,v,y)),r=[[0,0],[e.width,e.height]],i=t.constrain()(o,r,m);t.transform(n,i),t.wheelDelta(Br),N.setState({d3Zoom:t,d3Selection:n,d3ZoomHandler:n.on("wheel.zoom"),transform:[i.x,i.y,i.k],domNode:A.current.closest(".react-flow")})}}),[]),(0,o.useEffect)((()=>{O&&P&&(!c||z||D?"undefined"!==typeof R&&O.on("wheel.zoom",(function(e,t){if(!x&&"wheel"===e.type&&!e.ctrlKey||zr(e,S))return null;e.preventDefault(),R.call(this,e,t)}),{passive:!1}):O.on("wheel.zoom",(e=>{if(zr(e,S))return!1;e.preventDefault(),e.stopImmediatePropagation();const o=O.property("__zoom").k||1;if(e.ctrlKey&&s){const t=Ye(e),n=Br(e),r=o*Math.pow(2,n);return void P.scaleTo(O,r,t,e)}const i=1===e.deltaMode?20:1;let a=l===oo.Vertical?0:e.deltaX*i,c=l===oo.Horizontal?0:e.deltaY*i;!qn()&&e.shiftKey&&l!==oo.Vertical&&(a=e.deltaY*i,c=0),P.translateBy(O,-a/o*u,-c/o*u,{internal:!0});const d=Dr(O.property("__zoom")),{onViewportChangeStart:f,onViewportChange:h,onViewportChangeEnd:p}=N.getState();clearTimeout(L.current),B.current||(B.current=!0,n?.(e,d),f?.(d)),B.current&&(t?.(e,d),h?.(d),L.current=setTimeout((()=>{r?.(e,d),p?.(d),B.current=!1}),150))}),{passive:!1}))}),[D,c,l,O,P,R,z,s,x,S,n,t,r]),(0,o.useEffect)((()=>{P&&P.on("start",(e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;T.current=e.sourceEvent?.button;const{onViewportChangeStart:t}=N.getState(),o=Dr(e.transform);M.current=!0,I.current=o,"mousedown"===e.sourceEvent?.type&&N.setState({paneDragging:!0}),t?.(o),n?.(e.sourceEvent,o)}))}),[P,n]),(0,o.useEffect)((()=>{P&&(D&&!M.current?P.on("zoom",null):D||P.on("zoom",(e=>{const{onViewportChange:n}=N.getState();if(N.setState({transform:[e.transform.x,e.transform.y,e.transform.k]}),k.current=!(!i||!Tr(p,T.current??0)),(t||n)&&!e.sourceEvent?.internal){const o=Dr(e.transform);n?.(o),t?.(e.sourceEvent,o)}})))}),[D,P,t,p,i]),(0,o.useEffect)((()=>{P&&P.on("end",(e=>{if(!e.sourceEvent||e.sourceEvent.internal)return null;const{onViewportChangeEnd:t}=N.getState();if(M.current=!1,N.setState({paneDragging:!1}),i&&Tr(p,T.current??0)&&!k.current&&i(e.sourceEvent),k.current=!1,(r||t)&&(n=I.current,o=e.transform,n.x!==o.x||n.y!==o.y||n.zoom!==o.k)){const n=Dr(e.transform);I.current=n,clearTimeout(C.current),C.current=setTimeout((()=>{t?.(n),r?.(e.sourceEvent,n)}),c?150:0)}var n,o}))}),[P,c,p,r,i]),(0,o.useEffect)((()=>{P&&P.filter((e=>{const t=z||a,n=s&&e.ctrlKey;if((!0===p||Array.isArray(p)&&p.includes(1))&&1===e.button&&"mousedown"===e.type&&(zr(e,"react-flow__node")||zr(e,"react-flow__edge")))return!0;if(!p&&!t&&!c&&!d&&!s)return!1;if(D)return!1;if(!d&&"dblclick"===e.type)return!1;if(zr(e,S)&&"wheel"===e.type)return!1;if(zr(e,_)&&("wheel"!==e.type||c&&"wheel"===e.type&&!z))return!1;if(!s&&e.ctrlKey&&"wheel"===e.type)return!1;if(!t&&!c&&!n&&"wheel"===e.type)return!1;if(!p&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(p)&&!p.includes(e.button)&&"mousedown"===e.type)return!1;const o=Array.isArray(p)&&p.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&o}))}),[D,P,a,s,c,d,p,f,z]),o.createElement("div",{className:"react-flow__renderer",ref:A,style:Rr},E)},$r=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function Vr(){const{userSelectionActive:e,userSelectionRect:t}=Nn($r,h.x);return e&&t?o.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function Yr(e,t){const n=t.parentNode||t.parentId,o=e.find((e=>e.id===n));if(o){const e=t.position.x+t.width-o.width,n=t.position.y+t.height-o.height;if(e>0||n>0||t.position.x<0||t.position.y<0){if(o.style={...o.style}||{},o.style.width=o.style.width??o.width,o.style.height=o.style.height??o.height,e>0&&(o.style.width+=e),n>0&&(o.style.height+=n),t.position.x<0){const e=Math.abs(t.position.x);o.position.x=o.position.x-e,o.style.width+=e,t.position.x=0}if(t.position.y<0){const e=Math.abs(t.position.y);o.position.y=o.position.y-e,o.style.height+=e,t.position.y=0}o.width=o.style.width,o.height=o.style.height}}}function Hr(e,t){if(e.some((e=>"reset"===e.type)))return e.filter((e=>"reset"===e.type)).map((e=>e.item));const n=e.filter((e=>"add"===e.type)).map((e=>e.item));return t.reduce(((t,n)=>{const o=e.filter((e=>e.id===n.id));if(0===o.length)return t.push(n),t;const r={...n};for(const e of o)if(e)switch(e.type){case"select":r.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(r.position=e.position),"undefined"!==typeof e.positionAbsolute&&(r.positionAbsolute=e.positionAbsolute),"undefined"!==typeof e.dragging&&(r.dragging=e.dragging),r.expandParent&&Yr(t,r);break;case"dimensions":"undefined"!==typeof e.dimensions&&(r.width=e.dimensions.width,r.height=e.dimensions.height),"undefined"!==typeof e.updateStyle&&(r.style={...r.style||{},...e.dimensions}),"boolean"===typeof e.resizing&&(r.resizing=e.resizing),r.expandParent&&Yr(t,r);break;case"remove":return t}return t.push(r),t}),n)}function Xr(e,t){return Hr(e,t)}const Fr=(e,t)=>({id:e,type:"select",selected:t});function Gr(e,t){return e.reduce(((e,n)=>{const o=t.includes(n.id);return!n.selected&&o?(n.selected=!0,e.push(Fr(n.id,!0))):n.selected&&!o&&(n.selected=!1,e.push(Fr(n.id,!1))),e}),[])}const Zr=(e,t)=>n=>{n.target===t.current&&e?.(n)},Kr=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Ur=(0,o.memo)((e=>{let{isSelecting:t,selectionMode:n=ro.Full,panOnDrag:i,onSelectionStart:a,onSelectionEnd:s,onPaneClick:c,onPaneContextMenu:u,onPaneScroll:l,onPaneMouseEnter:d,onPaneMouseMove:f,onPaneMouseLeave:p,children:g}=e;const m=(0,o.useRef)(null),v=Mn(),y=(0,o.useRef)(0),b=(0,o.useRef)(0),w=(0,o.useRef)(),{userSelectionActive:x,elementsSelectable:E,dragging:S}=Nn(Kr,h.x),_=()=>{v.setState({userSelectionActive:!1,userSelectionRect:null}),y.current=0,b.current=0},C=e=>{c?.(e),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},N=l?e=>l(e):void 0,M=E&&(t||x);return o.createElement("div",{className:(0,r.A)(["react-flow__pane",{dragging:S,selection:t}]),onClick:M?void 0:Zr(C,m),onContextMenu:Zr((e=>{Array.isArray(i)&&i?.includes(2)?e.preventDefault():u?.(e)}),m),onWheel:Zr(N,m),onMouseEnter:M?void 0:d,onMouseDown:M?e=>{const{resetSelectedElements:n,domNode:o}=v.getState();if(w.current=o?.getBoundingClientRect(),!E||!t||0!==e.button||e.target!==m.current||!w.current)return;const{x:r,y:i}=Wn(e,w.current);n(),v.setState({userSelectionRect:{width:0,height:0,startX:r,startY:i,x:r,y:i}}),a?.(e)}:void 0,onMouseMove:M?e=>{const{userSelectionRect:o,nodeInternals:r,edges:i,transform:a,onNodesChange:s,onEdgesChange:c,nodeOrigin:u,getNodes:l}=v.getState();if(!t||!w.current||!o)return;v.setState({userSelectionActive:!0,nodesSelectionActive:!1});const d=Wn(e,w.current),f=o.startX??0,h=o.startY??0,p={...o,x:d.x<f?d.x:f,y:d.y<h?d.y:h,width:Math.abs(d.x-f),height:Math.abs(d.y-h)},g=l(),m=Po(r,p,a,n===ro.Partial,!0,u),x=Oo(m,i).map((e=>e.id)),E=m.map((e=>e.id));if(y.current!==E.length){y.current=E.length;const e=Gr(g,E);e.length&&s?.(e)}if(b.current!==x.length){b.current=x.length;const e=Gr(i,x);e.length&&c?.(e)}v.setState({userSelectionRect:p})}:f,onMouseUp:M?e=>{if(0!==e.button)return;const{userSelectionRect:t}=v.getState();!x&&t&&e.target===m.current&&C?.(e),v.setState({nodesSelectionActive:y.current>0}),_(),s?.(e)}:void 0,onMouseLeave:M?e=>{x&&(v.setState({nodesSelectionActive:y.current>0}),s?.(e)),_()}:p,ref:m,style:Rr},g,o.createElement(Vr,null))}));function Wr(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const o=t.get(n);return!!o&&(!!o.selected||Wr(o,t))}function qr(e,t,n){let o=e;do{if(o?.matches(t))return!0;if(o===n.current)return!1;o=o.parentElement}while(o);return!1}function Qr(e,t,n,o){return Array.from(e.values()).filter((n=>(n.selected||n.id===o)&&(!n.parentNode||n.parentId||!Wr(n,e))&&(n.draggable||t&&"undefined"===typeof n.draggable))).map((e=>({id:e.id,position:e.position||{x:0,y:0},positionAbsolute:e.positionAbsolute||{x:0,y:0},distance:{x:n.x-(e.positionAbsolute?.x??0),y:n.y-(e.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:e.extent,parentNode:e.parentNode||e.parentId,parentId:e.parentNode||e.parentId,width:e.width,height:e.height,expandParent:e.expandParent})))}function Jr(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],i=arguments.length>5?arguments[5]:void 0;const a=function(e,t){return t&&"parent"!==t?[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]:t}(e,e.extent||o);let s=a;const c=e.parentNode||e.parentId;if("parent"!==e.extent||e.expandParent){if(e.extent&&c&&"parent"!==e.extent){const t=n.get(c),{x:o,y:i}=Ao(t,r).positionAbsolute;s=[[e.extent[0][0]+o,e.extent[0][1]+i],[e.extent[1][0]+o,e.extent[1][1]+i]]}}else if(c&&e.width&&e.height){const t=n.get(c),{x:o,y:i}=Ao(t,r).positionAbsolute;s=t&&Xn(o)&&Xn(i)&&Xn(t.width)&&Xn(t.height)?[[o+e.width*r[0],i+e.height*r[1]],[o+t.width-e.width+e.width*r[0],i+t.height-e.height+e.height*r[1]]]:s}else i?.("005",yn()),s=a;let u={x:0,y:0};if(c){const e=n.get(c);u=Ao(e,r).positionAbsolute}const l=s&&"parent"!==s?Dn(t,s):t;return{position:{x:l.x-u.x,y:l.y-u.y},positionAbsolute:l}}function ei(e){let{nodeId:t,dragItems:n,nodeInternals:o}=e;const r=n.map((e=>({...o.get(e.id),position:e.position,positionAbsolute:e.positionAbsolute})));return[t?r.find((e=>e.id===t)):r[0],r]}Ur.displayName="Pane";const ti=(e,t,n,o)=>{const r=t.querySelectorAll(e);if(!r||!r.length)return null;const i=Array.from(r),a=t.getBoundingClientRect(),s=a.width*o[0],c=a.height*o[1];return i.map((e=>{const t=e.getBoundingClientRect();return{id:e.getAttribute("data-handleid"),position:e.getAttribute("data-handlepos"),x:(t.left-a.left-s)/n,y:(t.top-a.top-c)/n,...On(e)}}))};function ni(e,t,n){return void 0===n?n:o=>{const r=t().nodeInternals.get(e);r&&n(o,{...r})}}function oi(e){let{id:t,store:n,unselect:o=!1,nodeRef:r}=e;const{addSelectedNodes:i,unselectNodesAndEdges:a,multiSelectionActive:s,nodeInternals:c,onError:u}=n.getState(),l=c.get(t);l?(n.setState({nodesSelectionActive:!1}),l.selected?(o||l.selected&&s)&&(a({nodes:[l],edges:[]}),requestAnimationFrame((()=>r?.current?.blur()))):i([t])):u?.("012",_n(t))}function ri(e){return(t,n,o)=>e?.(t,o)}function ii(e){let{nodeRef:t,disabled:n=!1,noDragClassName:r,handleSelector:i,nodeId:a,isSelectable:s,selectNodesOnDrag:c}=e;const u=Mn(),[l,d]=(0,o.useState)(!1),f=(0,o.useRef)([]),h=(0,o.useRef)({x:null,y:null}),p=(0,o.useRef)(0),g=(0,o.useRef)(null),m=(0,o.useRef)({x:0,y:0}),v=(0,o.useRef)(null),y=(0,o.useRef)(!1),w=(0,o.useRef)(!1),x=(0,o.useRef)(!1),E=function(){const e=Mn(),t=(0,o.useCallback)((t=>{let{sourceEvent:n}=t;const{transform:o,snapGrid:r,snapToGrid:i}=e.getState(),a=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,c={x:(a-o[0])/o[2],y:(s-o[1])/o[2]};return{xSnapped:i?r[0]*Math.round(c.x/r[0]):c.x,ySnapped:i?r[1]*Math.round(c.y/r[1]):c.y,...c}}),[]);return t}();return(0,o.useEffect)((()=>{if(t?.current){const e=Re(t.current),o=e=>{let{x:t,y:n}=e;const{nodeInternals:o,onNodeDrag:r,onSelectionDrag:i,updateNodePositions:s,nodeExtent:c,snapGrid:l,snapToGrid:p,nodeOrigin:g,onError:m}=u.getState();h.current={x:t,y:n};let y=!1,b={x:0,y:0,x2:0,y2:0};if(f.current.length>1&&c){const e=Io(f.current,g);b=jn(e)}if(f.current=f.current.map((e=>{const r={x:t-e.distance.x,y:n-e.distance.y};p&&(r.x=l[0]*Math.round(r.x/l[0]),r.y=l[1]*Math.round(r.y/l[1]));const i=[[c[0][0],c[0][1]],[c[1][0],c[1][1]]];f.current.length>1&&c&&!e.extent&&(i[0][0]=e.positionAbsolute.x-b.x+c[0][0],i[1][0]=e.positionAbsolute.x+(e.width??0)-b.x2+c[1][0],i[0][1]=e.positionAbsolute.y-b.y+c[0][1],i[1][1]=e.positionAbsolute.y+(e.height??0)-b.y2+c[1][1]);const a=Jr(e,r,o,i,g,m);return y=y||e.position.x!==a.position.x||e.position.y!==a.position.y,e.position=a.position,e.positionAbsolute=a.positionAbsolute,e})),!y)return;s(f.current,!0,!0),d(!0);const w=a?r:ri(i);if(w&&v.current){const[e,t]=ei({nodeId:a,dragItems:f.current,nodeInternals:o});w(v.current,e,t)}},l=()=>{if(!g.current)return;const[e,t]=Tn(m.current,g.current);if(0!==e||0!==t){const{transform:n,panBy:r}=u.getState();h.current.x=(h.current.x??0)-e/n[2],h.current.y=(h.current.y??0)-t/n[2],r({x:e,y:t})&&o(h.current)}p.current=requestAnimationFrame(l)},S=e=>{const{nodeInternals:n,multiSelectionActive:o,nodesDraggable:r,unselectNodesAndEdges:i,onNodeDragStart:l,onSelectionDragStart:d}=u.getState();w.current=!0;const p=a?l:ri(d);c&&s||o||!a||n.get(a)?.selected||i(),a&&s&&c&&oi({id:a,store:u,nodeRef:t});const g=E(e);if(h.current=g,f.current=Qr(n,r,g,a),p&&f.current){const[t,o]=ei({nodeId:a,dragItems:f.current,nodeInternals:n});p(e.sourceEvent,t,o)}};if(!n){const n=function(){var e,t,n,o,r=ln,i=dn,a=fn,s=hn,c={},u=b("start","drag","end"),l=0,d=0;function f(e){e.on("mousedown.drag",h).filter(s).on("touchstart.drag",m).on("touchmove.drag",v,De).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(a,s){if(!o&&r.call(this,a,s)){var c=w(this,i.call(this,a,s),a,s,"mouse");c&&(Re(a.view).on("mousemove.drag",p,ze).on("mouseup.drag",g,ze),Le(a.view),Te(a),n=!1,e=a.clientX,t=a.clientY,c("start",a))}}function p(o){if(Be(o),!n){var r=o.clientX-e,i=o.clientY-t;n=r*r+i*i>d}c.mouse("drag",o)}function g(e){Re(e.view).on("mousemove.drag mouseup.drag",null),je(e.view,n),Be(e),c.mouse("end",e)}function m(e,t){if(r.call(this,e,t)){var n,o,a=e.changedTouches,s=i.call(this,e,t),c=a.length;for(n=0;n<c;++n)(o=w(this,s,e,t,a[n].identifier,a[n]))&&(Te(e),o("start",e,a[n]))}}function v(e){var t,n,o=e.changedTouches,r=o.length;for(t=0;t<r;++t)(n=c[o[t].identifier])&&(Be(e),n("drag",e,o[t]))}function y(e){var t,n,r=e.changedTouches,i=r.length;for(o&&clearTimeout(o),o=setTimeout((function(){o=null}),500),t=0;t<i;++t)(n=c[r[t].identifier])&&(Te(e),n("end",e,r[t]))}function w(e,t,n,o,r,i){var s,d,h,p=u.copy(),g=Ye(i||n,t);if(null!=(h=a.call(e,new un("beforestart",{sourceEvent:n,target:f,identifier:r,active:l,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),o)))return s=h.x-g[0]||0,d=h.y-g[1]||0,function n(i,a,u){var m,v=g;switch(i){case"start":c[r]=n,m=l++;break;case"end":delete c[r],--l;case"drag":g=Ye(u||a,t),m=l}p.call(i,e,new un(i,{sourceEvent:a,subject:h,target:f,identifier:r,active:m,x:g[0]+s,y:g[1]+d,dx:g[0]-v[0],dy:g[1]-v[1],dispatch:p}),o)}}return f.filter=function(e){return arguments.length?(r="function"===typeof e?e:cn(!!e),f):r},f.container=function(e){return arguments.length?(i="function"===typeof e?e:cn(e),f):i},f.subject=function(e){return arguments.length?(a="function"===typeof e?e:cn(e),f):a},f.touchable=function(e){return arguments.length?(s="function"===typeof e?e:cn(!!e),f):s},f.on=function(){var e=u.on.apply(u,arguments);return e===u?f:e},f.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,f):Math.sqrt(d)},f}().on("start",(e=>{const{domNode:t,nodeDragThreshold:n}=u.getState();0===n&&S(e),x.current=!1;const o=E(e);h.current=o,g.current=t?.getBoundingClientRect()||null,m.current=Wn(e.sourceEvent,g.current)})).on("drag",(e=>{const t=E(e),{autoPanOnNodeDrag:n,nodeDragThreshold:r}=u.getState();if("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1&&(x.current=!0),!x.current){if(!y.current&&w.current&&n&&(y.current=!0,l()),!w.current){const n=t.xSnapped-(h?.current?.x??0),o=t.ySnapped-(h?.current?.y??0);Math.sqrt(n*n+o*o)>r&&S(e)}(h.current.x!==t.xSnapped||h.current.y!==t.ySnapped)&&f.current&&w.current&&(v.current=e.sourceEvent,m.current=Wn(e.sourceEvent,g.current),o(t))}})).on("end",(e=>{if(w.current&&!x.current&&(d(!1),y.current=!1,w.current=!1,cancelAnimationFrame(p.current),f.current)){const{updateNodePositions:t,nodeInternals:n,onNodeDragStop:o,onSelectionDragStop:r}=u.getState(),i=a?o:ri(r);if(t(f.current,!1,!1),i){const[t,o]=ei({nodeId:a,dragItems:f.current,nodeInternals:n});i(e.sourceEvent,t,o)}}})).filter((e=>{const n=e.target;return!e.button&&(!r||!qr(n,`.${r}`,t))&&(!i||qr(n,i,t))}));return e.call(n),()=>{e.on(".drag",null)}}e.on(".drag",null)}}),[t,n,r,i,s,u,a,c,E]),l}function ai(){const e=Mn();return(0,o.useCallback)((t=>{const{nodeInternals:n,nodeExtent:o,updateNodePositions:r,getNodes:i,snapToGrid:a,snapGrid:s,onError:c,nodesDraggable:u}=e.getState(),l=i().filter((e=>e.selected&&(e.draggable||u&&"undefined"===typeof e.draggable))),d=a?s[0]:5,f=a?s[1]:5,h=t.isShiftPressed?4:1,p=t.x*d*h,g=t.y*f*h;r(l.map((e=>{if(e.positionAbsolute){const t={x:e.positionAbsolute.x+p,y:e.positionAbsolute.y+g};a&&(t.x=s[0]*Math.round(t.x/s[0]),t.y=s[1]*Math.round(t.y/s[1]));const{positionAbsolute:r,position:i}=Jr(e,t,n,o,void 0,c);e.position=i,e.positionAbsolute=r}return e})),!0,!1)}),[])}const si={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var ci=e=>{const t=t=>{let{id:n,type:i,data:a,xPos:s,yPos:c,xPosOrigin:u,yPosOrigin:l,selected:d,onClick:f,onMouseEnter:h,onMouseMove:p,onMouseLeave:g,onContextMenu:m,onDoubleClick:v,style:y,className:b,isDraggable:w,isSelectable:x,isConnectable:E,isFocusable:S,selectNodesOnDrag:_,sourcePosition:C,targetPosition:N,hidden:M,resizeObserver:k,dragHandle:A,zIndex:I,isParent:P,noDragClassName:O,noPanClassName:R,initialized:D,disableKeyboardA11y:z,ariaLabel:T,rfId:B,hasHandleBounds:L}=t;const j=Mn(),$=(0,o.useRef)(null),V=(0,o.useRef)(null),Y=(0,o.useRef)(C),H=(0,o.useRef)(N),X=(0,o.useRef)(i),F=x||w||f||h||p||g,G=ai(),Z=ni(n,j.getState,h),K=ni(n,j.getState,p),U=ni(n,j.getState,g),W=ni(n,j.getState,m),q=ni(n,j.getState,v);(0,o.useEffect)((()=>()=>{V.current&&(k?.unobserve(V.current),V.current=null)}),[]),(0,o.useEffect)((()=>{if($.current&&!M){const e=$.current;D&&L&&V.current===e||(V.current&&k?.unobserve(V.current),k?.observe(e),V.current=e)}}),[M,D,L]),(0,o.useEffect)((()=>{const e=X.current!==i,t=Y.current!==C,o=H.current!==N;$.current&&(e||t||o)&&(e&&(X.current=i),t&&(Y.current=C),o&&(H.current=N),j.getState().updateNodeDimensions([{id:n,nodeElement:$.current,forceUpdate:!0}]))}),[n,i,C,N]);const Q=ii({nodeRef:$,disabled:M||!w,noDragClassName:O,handleSelector:A,nodeId:n,isSelectable:x,selectNodesOnDrag:_});return M?null:o.createElement("div",{className:(0,r.A)(["react-flow__node",`react-flow__node-${i}`,{[R]:w},b,{selected:d,selectable:x,parent:P,dragging:Q}]),ref:$,style:{zIndex:I,transform:`translate(${u}px,${l}px)`,pointerEvents:F?"all":"none",visibility:D?"visible":"hidden",...y},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:Z,onMouseMove:K,onMouseLeave:U,onContextMenu:W,onClick:e=>{const{nodeDragThreshold:t}=j.getState();if(x&&(!_||!w||t>0)&&oi({id:n,store:j,nodeRef:$}),f){const t=j.getState().nodeInternals.get(n);t&&f(e,{...t})}},onDoubleClick:q,onKeyDown:S?e=>{if(!Kn(e)&&!z)if(Gn.includes(e.key)&&x){const t="Escape"===e.key;oi({id:n,store:j,unselect:t,nodeRef:$})}else w&&d&&Object.prototype.hasOwnProperty.call(si,e.key)&&(j.setState({ariaLiveMessage:`Moved selected node ${e.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~s}, y: ${~~c}`}),G({x:si[e.key].x,y:si[e.key].y,isShiftPressed:e.shiftKey}))}:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":z?void 0:`${fr}-${B}`,"aria-label":T},o.createElement(_o,{value:n},o.createElement(e,{id:n,data:a,type:i,xPos:s,yPos:c,selected:d,isConnectable:E,sourcePosition:C,targetPosition:N,dragging:Q,dragHandle:A,zIndex:I})))};return t.displayName="NodeWrapper",(0,o.memo)(t)};const ui=e=>{const t=e.getNodes().filter((e=>e.selected));return{...Io(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};var li=(0,o.memo)((function(e){let{onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:i}=e;const a=Mn(),{width:s,height:c,x:u,y:l,transformString:d,userSelectionActive:f}=Nn(ui,h.x),p=ai(),g=(0,o.useRef)(null);if((0,o.useEffect)((()=>{i||g.current?.focus({preventScroll:!0})}),[i]),ii({nodeRef:g}),f||!s||!c)return null;const m=t?e=>{const n=a.getState().getNodes().filter((e=>e.selected));t(e,n)}:void 0;return o.createElement("div",{className:(0,r.A)(["react-flow__nodesselection","react-flow__container",n]),style:{transform:d}},o.createElement("div",{ref:g,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:i?void 0:-1,onKeyDown:i?void 0:e=>{Object.prototype.hasOwnProperty.call(si,e.key)&&p({x:si[e.key].x,y:si[e.key].y,isShiftPressed:e.shiftKey})},style:{width:s,height:c,top:l,left:u}}))}));const di=e=>e.nodesSelectionActive,fi=e=>{let{children:t,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:c,deleteKeyCode:u,onMove:l,onMoveStart:d,onMoveEnd:f,selectionKeyCode:h,selectionOnDrag:p,selectionMode:g,onSelectionStart:m,onSelectionEnd:v,multiSelectionKeyCode:y,panActivationKeyCode:b,zoomActivationKeyCode:w,elementsSelectable:x,zoomOnScroll:E,zoomOnPinch:S,panOnScroll:_,panOnScrollSpeed:C,panOnScrollMode:N,zoomOnDoubleClick:M,panOnDrag:k,defaultViewport:A,translateExtent:I,minZoom:P,maxZoom:O,preventScrolling:R,onSelectionContextMenu:D,noWheelClassName:z,noPanClassName:T,disableKeyboardA11y:B}=e;const L=Nn(di),j=vr(h),$=vr(b),V=$||k,Y=$||_,H=j||p&&!0!==V;return(e=>{let{deleteKeyCode:t,multiSelectionKeyCode:n}=e;const r=Mn(),{deleteElements:i}=Pr(),a=vr(t,Or),s=vr(n);(0,o.useEffect)((()=>{if(a){const{edges:e,getNodes:t}=r.getState(),n=t().filter((e=>e.selected)),o=e.filter((e=>e.selected));i({nodes:n,edges:o}),r.setState({nodesSelectionActive:!1})}}),[a]),(0,o.useEffect)((()=>{r.setState({multiSelectionActive:s})}),[s])})({deleteKeyCode:u,multiSelectionKeyCode:y}),o.createElement(jr,{onMove:l,onMoveStart:d,onMoveEnd:f,onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:E,zoomOnPinch:S,panOnScroll:Y,panOnScrollSpeed:C,panOnScrollMode:N,zoomOnDoubleClick:M,panOnDrag:!j&&V,defaultViewport:A,translateExtent:I,minZoom:P,maxZoom:O,zoomActivationKeyCode:w,preventScrolling:R,noWheelClassName:z,noPanClassName:T},o.createElement(Ur,{onSelectionStart:m,onSelectionEnd:v,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:i,onPaneMouseLeave:a,onPaneContextMenu:s,onPaneScroll:c,panOnDrag:V,isSelecting:!!H,selectionMode:g},t,L&&o.createElement(li,{onSelectionContextMenu:D,noPanClassName:T,disableKeyboardA11y:B})))};fi.displayName="FlowRenderer";var hi=(0,o.memo)(fi);function pi(e){return{...{input:ci(e.input||Wo),default:ci(e.default||Ko),output:ci(e.output||Qo),group:ci(e.group||Jo)},...Object.keys(e).filter((e=>!["input","default","output","group"].includes(e))).reduce(((t,n)=>(t[n]=ci(e[n]||Ko),t)),{})}}const gi=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),mi=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:a,onError:s}=Nn(gi,h.x),c=(u=e.onlyRenderVisibleElements,Nn((0,o.useCallback)((e=>u?Po(e.nodeInternals,{x:0,y:0,width:e.width,height:e.height},e.transform,!0):e.getNodes()),[u])));var u;const l=(0,o.useRef)(),d=(0,o.useMemo)((()=>{if("undefined"===typeof ResizeObserver)return null;const e=new ResizeObserver((e=>{const t=e.map((e=>({id:e.target.getAttribute("data-id"),nodeElement:e.target,forceUpdate:!0})));a(t)}));return l.current=e,e}),[]);return(0,o.useEffect)((()=>()=>{l?.current?.disconnect()}),[]),o.createElement("div",{className:"react-flow__nodes",style:Rr},c.map((a=>{let c=a.type||"default";e.nodeTypes[c]||(s?.("003",mn(c)),c="default");const u=e.nodeTypes[c]||e.nodeTypes.default,l=!!(a.draggable||t&&"undefined"===typeof a.draggable),f=!!(a.selectable||i&&"undefined"===typeof a.selectable),h=!!(a.connectable||n&&"undefined"===typeof a.connectable),p=!!(a.focusable||r&&"undefined"===typeof a.focusable),g=e.nodeExtent?Dn(a.positionAbsolute,e.nodeExtent):a.positionAbsolute,m=g?.x??0,v=g?.y??0,y=(e=>{let{x:t,y:n,width:o,height:r,origin:i}=e;return o&&r?i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:t,y:n}:{x:t-o*i[0],y:n-r*i[1]}:{x:t,y:n}})({x:m,y:v,width:a.width??0,height:a.height??0,origin:e.nodeOrigin});return o.createElement(u,{key:a.id,id:a.id,className:a.className,style:a.style,type:c,data:a.data,sourcePosition:a.sourcePosition||so.Bottom,targetPosition:a.targetPosition||so.Top,hidden:a.hidden,xPos:m,yPos:v,xPosOrigin:y.x,yPosOrigin:y.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!a.selected,isDraggable:l,isSelectable:f,isConnectable:h,isFocusable:p,resizeObserver:d,dragHandle:a.dragHandle,zIndex:a[Fn]?.z??0,isParent:!!a[Fn]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!a.width&&!!a.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:a.ariaLabel,hasHandleBounds:!!a[Fn]?.handleBounds})})))};mi.displayName="NodeRenderer";var vi=(0,o.memo)(mi);const yi=(e,t,n)=>n===so.Left?e-t:n===so.Right?e+t:e,bi=(e,t,n)=>n===so.Top?e-t:n===so.Bottom?e+t:e,wi="react-flow__edgeupdater",xi=e=>{let{position:t,centerX:n,centerY:i,radius:a=10,onMouseDown:s,onMouseEnter:c,onMouseOut:u,type:l}=e;return o.createElement("circle",{onMouseDown:s,onMouseEnter:c,onMouseOut:u,className:(0,r.A)([wi,`${wi}-${l}`]),cx:yi(n,a,t),cy:bi(i,a,t),r:a,stroke:"transparent",fill:"transparent"})},Ei=()=>!0;var Si=e=>{const t=t=>{let{id:n,className:i,type:a,data:s,onClick:c,onEdgeDoubleClick:u,selected:l,animated:d,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,style:y,source:b,target:w,sourceX:x,sourceY:E,targetX:S,targetY:_,sourcePosition:C,targetPosition:N,elementsSelectable:M,hidden:k,sourceHandleId:A,targetHandleId:I,onContextMenu:P,onMouseEnter:O,onMouseMove:R,onMouseLeave:D,reconnectRadius:z,onReconnect:T,onReconnectStart:B,onReconnectEnd:L,markerEnd:j,markerStart:$,rfId:V,ariaLabel:Y,isFocusable:H,isReconnectable:X,pathOptions:F,interactionWidth:G,disableKeyboardA11y:Z}=t;const K=(0,o.useRef)(null),[U,W]=(0,o.useState)(!1),[q,Q]=(0,o.useState)(!1),J=Mn(),ee=(0,o.useMemo)((()=>`url('#${No($,V)}')`),[$,V]),te=(0,o.useMemo)((()=>`url('#${No(j,V)}')`),[j,V]);if(k)return null;const ne=Jn(n,J.getState,u),oe=Jn(n,J.getState,P),re=Jn(n,J.getState,O),ie=Jn(n,J.getState,R),ae=Jn(n,J.getState,D),se=(e,t)=>{if(0!==e.button)return;const{edges:o,isValidConnection:r}=J.getState(),i=t?w:b,a=(t?I:A)||null,s=t?"target":"source",c=r||Ei,u=t,l=o.find((e=>e.id===n));Q(!0),B?.(e,l,s);Yo({event:e,handleId:a,nodeId:i,onConnect:e=>T?.(l,e),isTarget:u,getState:J.getState,setState:J.setState,isValidConnection:c,edgeUpdaterType:s,onReconnectEnd:e=>{Q(!1),L?.(e,l,s)}})},ce=()=>W(!0),ue=()=>W(!1),le=!M&&!c;return o.createElement("g",{className:(0,r.A)(["react-flow__edge",`react-flow__edge-${a}`,i,{selected:l,animated:d,inactive:le,updating:U}]),onClick:e=>{const{edges:t,addSelectedEdges:o,unselectNodesAndEdges:r,multiSelectionActive:i}=J.getState(),a=t.find((e=>e.id===n));a&&(M&&(J.setState({nodesSelectionActive:!1}),a.selected&&i?(r({nodes:[],edges:[a]}),K.current?.blur()):o([n])),c&&c(e,a))},onDoubleClick:ne,onContextMenu:oe,onMouseEnter:re,onMouseMove:ie,onMouseLeave:ae,onKeyDown:H?e=>{if(!Z&&Gn.includes(e.key)&&M){const{unselectNodesAndEdges:t,addSelectedEdges:o,edges:r}=J.getState();"Escape"===e.key?(K.current?.blur(),t({edges:[r.find((e=>e.id===n))]})):o([n])}}:void 0,tabIndex:H?0:void 0,role:H?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":null===Y?void 0:Y||`Edge from ${b} to ${w}`,"aria-describedby":H?`${hr}-${V}`:void 0,ref:K},!q&&o.createElement(e,{id:n,source:b,target:w,selected:l,animated:d,label:f,labelStyle:h,labelShowBg:p,labelBgStyle:g,labelBgPadding:m,labelBgBorderRadius:v,data:s,style:y,sourceX:x,sourceY:E,targetX:S,targetY:_,sourcePosition:C,targetPosition:N,sourceHandleId:A,targetHandleId:I,markerStart:ee,markerEnd:te,pathOptions:F,interactionWidth:G}),X&&o.createElement(o.Fragment,null,("source"===X||!0===X)&&o.createElement(xi,{position:C,centerX:x,centerY:E,radius:z,onMouseDown:e=>se(e,!0),onMouseEnter:ce,onMouseOut:ue,type:"source"}),("target"===X||!0===X)&&o.createElement(xi,{position:N,centerX:S,centerY:_,radius:z,onMouseDown:e=>se(e,!1),onMouseEnter:ce,onMouseOut:ue,type:"target"})))};return t.displayName="EdgeWrapper",(0,o.memo)(t)};function _i(e){return{...{default:Si(e.default||Eo),straight:Si(e.bezier||yo),step:Si(e.step||vo),smoothstep:Si(e.step||mo),simplebezier:Si(e.simplebezier||lo)},...Object.keys(e).filter((e=>!["default","bezier"].includes(e))).reduce(((t,n)=>(t[n]=Si(e[n]||Eo),t)),{})}}function Ci(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=(n?.x||0)+t.x,r=(n?.y||0)+t.y,i=n?.width||t.width,a=n?.height||t.height;switch(e){case so.Top:return{x:o+i/2,y:r};case so.Right:return{x:o+i,y:r+a/2};case so.Bottom:return{x:o+i/2,y:r+a};case so.Left:return{x:o,y:r+a/2}}}function Ni(e,t){return e?1!==e.length&&t?t&&e.find((e=>e.id===t))||null:e[0]:null}function Mi(e){const t=e?.[Fn]?.handleBounds||null,n=t&&e?.width&&e?.height&&"undefined"!==typeof e?.positionAbsolute?.x&&"undefined"!==typeof e?.positionAbsolute?.y;return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const ki=[{level:0,isMaxLevel:!0,edges:[]}];function Ai(e,t,n){const r=Nn((0,o.useCallback)((n=>e?n.edges.filter((e=>{const o=t.get(e.source),r=t.get(e.target);return o?.width&&o?.height&&r?.width&&r?.height&&function(e){let{sourcePos:t,targetPos:n,sourceWidth:o,sourceHeight:r,targetWidth:i,targetHeight:a,width:s,height:c,transform:u}=e;const l={x:Math.min(t.x,n.x),y:Math.min(t.y,n.y),x2:Math.max(t.x+o,n.x+i),y2:Math.max(t.y+r,n.y+a)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const d=jn({x:(0-u[0])/u[2],y:(0-u[1])/u[2],width:s/u[2],height:c/u[2]}),f=Math.max(0,Math.min(d.x2,l.x2)-Math.max(d.x,l.x)),h=Math.max(0,Math.min(d.y2,l.y2)-Math.max(d.y,l.y));return Math.ceil(f*h)>0}({sourcePos:o.positionAbsolute||{x:0,y:0},targetPos:r.positionAbsolute||{x:0,y:0},sourceWidth:o.width,sourceHeight:o.height,targetWidth:r.width,targetHeight:r.height,width:n.width,height:n.height,transform:n.transform})})):n.edges),[e,t]));return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=-1;const r=e.reduce(((e,r)=>{const i=Xn(r.zIndex);let a=i?r.zIndex:0;if(n){const e=t.get(r.target),n=t.get(r.source),o=r.selected||e?.selected||n?.selected,s=Math.max(n?.[Fn]?.z||0,e?.[Fn]?.z||0,1e3);a=(i?r.zIndex:0)+(o?s:0)}return e[a]?e[a].push(r):e[a]=[r],o=a>o?a:o,e}),{}),i=Object.entries(r).map((e=>{let[t,n]=e;const r=+t;return{edges:n,level:r,isMaxLevel:r===o}}));return 0===i.length?ki:i}(r,t,n)}const Ii={[ao.Arrow]:e=>{let{color:t="none",strokeWidth:n=1}=e;return o.createElement("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[ao.ArrowClosed]:e=>{let{color:t="none",strokeWidth:n=1}=e;return o.createElement("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const Pi=e=>{let{id:t,type:n,color:r,width:i=12.5,height:a=12.5,markerUnits:s="strokeWidth",strokeWidth:c,orient:u="auto-start-reverse"}=e;const l=function(e){const t=Mn();return(0,o.useMemo)((()=>Object.prototype.hasOwnProperty.call(Ii,e)?Ii[e]:(t.getState().onError?.("009",wn(e)),null)),[e])}(n);return l?o.createElement("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${i}`,markerHeight:`${a}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:u,refX:"0",refY:"0"},o.createElement(l,{color:r,strokeWidth:c})):null},Oi=e=>{let{defaultColor:t,rfId:n}=e;const r=Nn((0,o.useCallback)((e=>{let{defaultColor:t,rfId:n}=e;return e=>{const o=[];return e.edges.reduce(((e,r)=>([r.markerStart,r.markerEnd].forEach((r=>{if(r&&"object"===typeof r){const i=No(r,n);o.includes(i)||(e.push({id:i,color:r.color||t,...r}),o.push(i))}})),e)),[]).sort(((e,t)=>e.id.localeCompare(t.id)))}})({defaultColor:t,rfId:n}),[t,n]),((e,t)=>!(e.length!==t.length||e.some(((e,n)=>e.id!==t[n].id)))));return o.createElement("defs",null,r.map((e=>o.createElement(Pi,{id:e.id,key:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient}))))};Oi.displayName="MarkerDefinitions";var Ri=(0,o.memo)(Oi);const Di=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),zi=e=>{let{defaultMarkerColor:t,onlyRenderVisibleElements:n,elevateEdgesOnSelect:i,rfId:a,edgeTypes:s,noPanClassName:c,onEdgeContextMenu:u,onEdgeMouseEnter:l,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:p,onEdgeDoubleClick:g,onReconnect:m,onReconnectStart:v,onReconnectEnd:y,reconnectRadius:b,children:w,disableKeyboardA11y:x}=e;const{edgesFocusable:E,edgesUpdatable:S,elementsSelectable:_,width:C,height:N,connectionMode:M,nodeInternals:k,onError:A}=Nn(Di,h.x),I=Ai(n,k,i);return C?o.createElement(o.Fragment,null,I.map((e=>{let{level:n,edges:i,isMaxLevel:h}=e;return o.createElement("svg",{key:n,style:{zIndex:n},width:C,height:N,className:"react-flow__edges react-flow__container"},h&&o.createElement(Ri,{defaultColor:t,rfId:a}),o.createElement("g",null,i.map((e=>{const[t,n,i]=Mi(k.get(e.source)),[h,w,C]=Mi(k.get(e.target));if(!i||!C)return null;let N=e.type||"default";s[N]||(A?.("011",Sn(N)),N="default");const I=s[N]||s.default,P=M===no.Strict?w.target:(w.target??[]).concat(w.source??[]),O=Ni(n.source,e.sourceHandle),R=Ni(P,e.targetHandle),D=O?.position||so.Bottom,z=R?.position||so.Top,T=!!(e.focusable||E&&"undefined"===typeof e.focusable),B=e.reconnectable||e.updatable,L="undefined"!==typeof m&&(B||S&&"undefined"===typeof B);if(!O||!R)return A?.("008",xn(O,e)),null;const{sourceX:j,sourceY:$,targetX:V,targetY:Y}=((e,t,n,o,r,i)=>{const a=Ci(n,e,t),s=Ci(i,o,r);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}})(t,O,D,h,R,z);return o.createElement(I,{key:e.id,id:e.id,className:(0,r.A)([e.className,c]),type:N,data:e.data,selected:!!e.selected,animated:!!e.animated,hidden:!!e.hidden,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,source:e.source,target:e.target,sourceHandleId:e.sourceHandle,targetHandleId:e.targetHandle,markerEnd:e.markerEnd,markerStart:e.markerStart,sourceX:j,sourceY:$,targetX:V,targetY:Y,sourcePosition:D,targetPosition:z,elementsSelectable:_,onContextMenu:u,onMouseEnter:l,onMouseMove:d,onMouseLeave:f,onClick:p,onEdgeDoubleClick:g,onReconnect:m,onReconnectStart:v,onReconnectEnd:y,reconnectRadius:b,rfId:a,ariaLabel:e.ariaLabel,isFocusable:T,isReconnectable:L,pathOptions:"pathOptions"in e?e.pathOptions:void 0,interactionWidth:e.interactionWidth,disableKeyboardA11y:x})}))))})),w):null};zi.displayName="EdgeRenderer";var Ti=(0,o.memo)(zi);const Bi=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function Li(e){let{children:t}=e;const n=Nn(Bi);return o.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:n}},t)}const ji={[so.Left]:so.Right,[so.Right]:so.Left,[so.Top]:so.Bottom,[so.Bottom]:so.Top},$i=e=>{let{nodeId:t,handleType:n,style:r,type:i=io.Bezier,CustomComponent:a,connectionStatus:s}=e;const{fromNode:c,handleId:u,toX:l,toY:d,connectionMode:f}=Nn((0,o.useCallback)((e=>({fromNode:e.nodeInternals.get(t),handleId:e.connectionHandleId,toX:(e.connectionPosition.x-e.transform[0])/e.transform[2],toY:(e.connectionPosition.y-e.transform[1])/e.transform[2],connectionMode:e.connectionMode})),[t]),h.x),p=c?.[Fn]?.handleBounds;let g=p?.[n];if(f===no.Loose&&(g=g||p?.["source"===n?"target":"source"]),!c||!g)return null;const m=u?g.find((e=>e.id===u)):g[0],v=m?m.x+m.width/2:(c.width??0)/2,y=m?m.y+m.height/2:c.height??0,b=(c.positionAbsolute?.x??0)+v,w=(c.positionAbsolute?.y??0)+y,x=m?.position,E=x?ji[x]:null;if(!x||!E)return null;if(a)return o.createElement(a,{connectionLineType:i,connectionLineStyle:r,fromNode:c,fromHandle:m,fromX:b,fromY:w,toX:l,toY:d,fromPosition:x,toPosition:E,connectionStatus:s});let S="";const _={sourceX:b,sourceY:w,sourcePosition:x,targetX:l,targetY:d,targetPosition:E};return i===io.Bezier?[S]=xo(_):i===io.Step?[S]=go({..._,borderRadius:0}):i===io.SmoothStep?[S]=go(_):i===io.SimpleBezier?[S]=uo(_):S=`M${b},${w} ${l},${d}`,o.createElement("path",{d:S,fill:"none",className:"react-flow__connection-path",style:r})};$i.displayName="ConnectionLine";const Vi=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function Yi(e){let{containerStyle:t,style:n,type:i,component:a}=e;const{nodeId:s,handleType:c,nodesConnectable:u,width:l,height:d,connectionStatus:f}=Nn(Vi,h.x);return!!(s&&c&&l&&u)?o.createElement("svg",{style:t,width:l,height:d,className:"react-flow__edges react-flow__connectionline react-flow__container"},o.createElement("g",{className:(0,r.A)(["react-flow__connection",f])},o.createElement($i,{nodeId:s,handleType:c,style:n,type:i,CustomComponent:a,connectionStatus:f}))):null}function Hi(e,t){(0,o.useRef)(null),Mn();return(0,o.useMemo)((()=>t(e)),[e])}const Xi=e=>{let{nodeTypes:t,edgeTypes:n,onMove:r,onMoveStart:i,onMoveEnd:a,onInit:s,onNodeClick:c,onEdgeClick:u,onNodeDoubleClick:l,onEdgeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,onSelectionContextMenu:m,onSelectionStart:v,onSelectionEnd:y,connectionLineType:b,connectionLineStyle:w,connectionLineComponent:x,connectionLineContainerStyle:E,selectionKeyCode:S,selectionOnDrag:_,selectionMode:C,multiSelectionKeyCode:N,panActivationKeyCode:M,zoomActivationKeyCode:k,deleteKeyCode:A,onlyRenderVisibleElements:I,elementsSelectable:P,selectNodesOnDrag:O,defaultViewport:R,translateExtent:D,minZoom:z,maxZoom:T,preventScrolling:B,defaultMarkerColor:L,zoomOnScroll:j,zoomOnPinch:$,panOnScroll:V,panOnScrollSpeed:Y,panOnScrollMode:H,zoomOnDoubleClick:X,panOnDrag:F,onPaneClick:G,onPaneMouseEnter:Z,onPaneMouseMove:K,onPaneMouseLeave:U,onPaneScroll:W,onPaneContextMenu:q,onEdgeContextMenu:Q,onEdgeMouseEnter:J,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:oe,onReconnectEnd:re,reconnectRadius:ie,noDragClassName:ae,noWheelClassName:se,noPanClassName:ce,elevateEdgesOnSelect:ue,disableKeyboardA11y:le,nodeOrigin:de,nodeExtent:fe,rfId:he}=e;const pe=Hi(t,pi),ge=Hi(n,_i);return function(e){const t=Pr(),n=(0,o.useRef)(!1);(0,o.useEffect)((()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout((()=>e(t)),1),n.current=!0)}),[e,t.viewportInitialized])}(s),o.createElement(hi,{onPaneClick:G,onPaneMouseEnter:Z,onPaneMouseMove:K,onPaneMouseLeave:U,onPaneContextMenu:q,onPaneScroll:W,deleteKeyCode:A,selectionKeyCode:S,selectionOnDrag:_,selectionMode:C,onSelectionStart:v,onSelectionEnd:y,multiSelectionKeyCode:N,panActivationKeyCode:M,zoomActivationKeyCode:k,elementsSelectable:P,onMove:r,onMoveStart:i,onMoveEnd:a,zoomOnScroll:j,zoomOnPinch:$,zoomOnDoubleClick:X,panOnScroll:V,panOnScrollSpeed:Y,panOnScrollMode:H,panOnDrag:F,defaultViewport:R,translateExtent:D,minZoom:z,maxZoom:T,onSelectionContextMenu:m,preventScrolling:B,noDragClassName:ae,noWheelClassName:se,noPanClassName:ce,disableKeyboardA11y:le},o.createElement(Li,null,o.createElement(Ti,{edgeTypes:ge,onEdgeClick:u,onEdgeDoubleClick:d,onlyRenderVisibleElements:I,onEdgeContextMenu:Q,onEdgeMouseEnter:J,onEdgeMouseMove:ee,onEdgeMouseLeave:te,onReconnect:ne,onReconnectStart:oe,onReconnectEnd:re,reconnectRadius:ie,defaultMarkerColor:L,noPanClassName:ce,elevateEdgesOnSelect:!!ue,disableKeyboardA11y:le,rfId:he},o.createElement(Yi,{style:w,type:b,component:x,containerStyle:E})),o.createElement("div",{className:"react-flow__edgelabel-renderer"}),o.createElement(vi,{nodeTypes:pe,onNodeClick:c,onNodeDoubleClick:l,onNodeMouseEnter:f,onNodeMouseMove:h,onNodeMouseLeave:p,onNodeContextMenu:g,selectNodesOnDrag:O,onlyRenderVisibleElements:I,noPanClassName:ce,noDragClassName:ae,disableKeyboardA11y:le,nodeOrigin:de,nodeExtent:fe,rfId:he})))};Xi.displayName="GraphView";var Fi=(0,o.memo)(Xi);const Gi=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Zi={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Gi,nodeExtent:Gi,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:no.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Zn,isValidConnection:void 0},Ki=()=>{return e=(e,t)=>({...Zi,setNodes:n=>{const{nodeInternals:o,nodeOrigin:r,elevateNodesOnSelect:i}=t();e({nodeInternals:Er(n,o,r,i)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:o={}}=t();e({edges:n.map((e=>({...o,...e})))})},setDefaultNodesAndEdges:(n,o)=>{const r="undefined"!==typeof n,i="undefined"!==typeof o,a=r?Er(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:i?o:[],hasDefaultNodes:r,hasDefaultEdges:i})},updateNodeDimensions:n=>{const{onNodesChange:o,nodeInternals:r,fitViewOnInit:i,fitViewOnInitDone:a,fitViewOnInitOptions:s,domNode:c,nodeOrigin:u}=t(),l=c?.querySelector(".react-flow__viewport");if(!l)return;const d=window.getComputedStyle(l),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=n.reduce(((e,t)=>{const n=r.get(t.id);if(n?.hidden)r.set(n.id,{...n,[Fn]:{...n[Fn],handleBounds:void 0}});else if(n){const o=On(t.nodeElement);o.width&&o.height&&(n.width!==o.width||n.height!==o.height||t.forceUpdate)&&(r.set(n.id,{...n,[Fn]:{...n[Fn],handleBounds:{source:ti(".source",t.nodeElement,f,u),target:ti(".target",t.nodeElement,f,u)}},...o}),e.push({id:n.id,type:"dimensions",dimensions:o}))}return e}),[]);xr(r,u);const p=a||i&&!a&&Sr(t,{initial:!0,...s});e({nodeInternals:new Map(r),fitViewOnInitDone:p}),h?.length>0&&o?.(h)},updateNodePositions:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{triggerNodeChanges:r}=t(),i=e.map((e=>{const t={id:e.id,type:"position",dragging:o};return n&&(t.positionAbsolute=e.positionAbsolute,t.position=e.position),t}));r(i)},triggerNodeChanges:n=>{const{onNodesChange:o,nodeInternals:r,hasDefaultNodes:i,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:c}=t();if(n?.length){if(i){const t=Er(Xr(n,s()),r,a,c);e({nodeInternals:t})}o?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:o,edges:r,getNodes:i}=t();let a,s=null;o?a=n.map((e=>Fr(e,!0))):(a=Gr(i(),n),s=Gr(r,[])),Nr({changedNodes:a,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:o,edges:r,getNodes:i}=t();let a,s=null;o?a=n.map((e=>Fr(e,!0))):(a=Gr(r,n),s=Gr(i(),[])),Nr({changedNodes:s,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:function(){let{nodes:n,edges:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:r,getNodes:i}=t(),a=o||r;Nr({changedNodes:(n||i()).map((e=>(e.selected=!1,Fr(e.id,!1)))),changedEdges:a.map((e=>Fr(e.id,!1))),get:t,set:e})},setMinZoom:n=>{const{d3Zoom:o,maxZoom:r}=t();o?.scaleExtent([n,r]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:o,minZoom:r}=t();o?.scaleExtent([r,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:o}=t();Nr({changedNodes:o().filter((e=>e.selected)).map((e=>Fr(e.id,!1))),changedEdges:n.filter((e=>e.selected)).map((e=>Fr(e.id,!1))),get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:o}=t();o.forEach((e=>{e.positionAbsolute=Dn(e.position,n)})),e({nodeExtent:n,nodeInternals:new Map(o)})},panBy:e=>{const{transform:n,width:o,height:r,d3Zoom:i,d3Selection:a,translateExtent:s}=t();if(!i||!a||!e.x&&!e.y)return!1;const c=Qt.translate(n[0]+e.x,n[1]+e.y).scale(n[2]),u=[[0,0],[o,r]],l=i?.constrain()(c,u,s);return i.transform(a,l),n[0]!==l.x||n[1]!==l.y||n[2]!==l.k},cancelConnection:()=>e({connectionNodeId:Zi.connectionNodeId,connectionHandleId:Zi.connectionHandleId,connectionHandleType:Zi.connectionHandleType,connectionStatus:Zi.connectionStatus,connectionStartHandle:Zi.connectionStartHandle,connectionEndHandle:Zi.connectionEndHandle}),reset:()=>e({...Zi})}),t=Object.is,e?f(e,t):f;var e,t},Ui=e=>{let{children:t}=e;const n=(0,o.useRef)(null);return n.current||(n.current=Ki()),o.createElement(gn,{value:n.current},t)};Ui.displayName="ReactFlowProvider";const Wi=e=>{let{children:t}=e;return(0,o.useContext)(pn)?o.createElement(o.Fragment,null,t):o.createElement(Ui,null,t)};Wi.displayName="ReactFlowWrapper";const qi={input:Wo,default:Ko,output:Qo,group:Jo},Qi={default:Eo,straight:yo,step:vo,smoothstep:mo,simplebezier:lo},Ji=[0,0],ea=[15,15],ta={x:0,y:0,zoom:1},na={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},oa=(0,o.forwardRef)(((e,t)=>{let{nodes:n,edges:i,defaultNodes:a,defaultEdges:s,className:c,nodeTypes:u=qi,edgeTypes:l=Qi,onNodeClick:d,onEdgeClick:f,onInit:h,onMove:p,onMoveStart:g,onMoveEnd:m,onConnect:v,onConnectStart:y,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:x,onNodeMouseEnter:E,onNodeMouseMove:S,onNodeMouseLeave:_,onNodeContextMenu:C,onNodeDoubleClick:N,onNodeDragStart:M,onNodeDrag:k,onNodeDragStop:A,onNodesDelete:I,onEdgesDelete:P,onSelectionChange:O,onSelectionDragStart:R,onSelectionDrag:D,onSelectionDragStop:z,onSelectionContextMenu:T,onSelectionStart:B,onSelectionEnd:L,connectionMode:j=no.Strict,connectionLineType:$=io.Bezier,connectionLineStyle:V,connectionLineComponent:Y,connectionLineContainerStyle:H,deleteKeyCode:X="Backspace",selectionKeyCode:F="Shift",selectionOnDrag:G=!1,selectionMode:Z=ro.Full,panActivationKeyCode:K="Space",multiSelectionKeyCode:U=(qn()?"Meta":"Control"),zoomActivationKeyCode:W=(qn()?"Meta":"Control"),snapToGrid:q=!1,snapGrid:Q=ea,onlyRenderVisibleElements:J=!1,selectNodesOnDrag:ee=!0,nodesDraggable:te,nodesConnectable:ne,nodesFocusable:oe,nodeOrigin:re=Ji,edgesFocusable:ie,edgesUpdatable:ae,elementsSelectable:se,defaultViewport:ce=ta,minZoom:ue=.5,maxZoom:le=2,translateExtent:de=Gi,preventScrolling:fe=!0,nodeExtent:he,defaultMarkerColor:pe="#b1b1b7",zoomOnScroll:ge=!0,zoomOnPinch:me=!0,panOnScroll:ve=!1,panOnScrollSpeed:ye=.5,panOnScrollMode:be=oo.Free,zoomOnDoubleClick:we=!0,panOnDrag:xe=!0,onPaneClick:Ee,onPaneMouseEnter:Se,onPaneMouseMove:_e,onPaneMouseLeave:Ce,onPaneScroll:Ne,onPaneContextMenu:Me,children:ke,onEdgeContextMenu:Ae,onEdgeDoubleClick:Ie,onEdgeMouseEnter:Pe,onEdgeMouseMove:Oe,onEdgeMouseLeave:Re,onEdgeUpdate:De,onEdgeUpdateStart:ze,onEdgeUpdateEnd:Te,onReconnect:Be,onReconnectStart:Le,onReconnectEnd:je,reconnectRadius:$e=10,edgeUpdaterRadius:Ve=10,onNodesChange:Ye,onEdgesChange:He,noDragClassName:Xe="nodrag",noWheelClassName:Fe="nowheel",noPanClassName:Ge="nopan",fitView:Ze=!1,fitViewOptions:Ke,connectOnClick:Ue=!0,attributionPosition:We,proOptions:qe,defaultEdgeOptions:Qe,elevateNodesOnSelect:Je=!0,elevateEdgesOnSelect:et=!1,disableKeyboardA11y:tt=!1,autoPanOnConnect:nt=!0,autoPanOnNodeDrag:ot=!0,connectionRadius:rt=20,isValidConnection:it,onError:at,style:st,id:ct,nodeDragThreshold:ut,...lt}=e;const dt=ct||"1";return o.createElement("div",{...lt,style:{...st,...na},ref:t,className:(0,r.A)(["react-flow",c]),"data-testid":"rf__wrapper",id:ct},o.createElement(Wi,null,o.createElement(Fi,{onInit:h,onMove:p,onMoveStart:g,onMoveEnd:m,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:E,onNodeMouseMove:S,onNodeMouseLeave:_,onNodeContextMenu:C,onNodeDoubleClick:N,nodeTypes:u,edgeTypes:l,connectionLineType:$,connectionLineStyle:V,connectionLineComponent:Y,connectionLineContainerStyle:H,selectionKeyCode:F,selectionOnDrag:G,selectionMode:Z,deleteKeyCode:X,multiSelectionKeyCode:U,panActivationKeyCode:K,zoomActivationKeyCode:W,onlyRenderVisibleElements:J,selectNodesOnDrag:ee,defaultViewport:ce,translateExtent:de,minZoom:ue,maxZoom:le,preventScrolling:fe,zoomOnScroll:ge,zoomOnPinch:me,zoomOnDoubleClick:we,panOnScroll:ve,panOnScrollSpeed:ye,panOnScrollMode:be,panOnDrag:xe,onPaneClick:Ee,onPaneMouseEnter:Se,onPaneMouseMove:_e,onPaneMouseLeave:Ce,onPaneScroll:Ne,onPaneContextMenu:Me,onSelectionContextMenu:T,onSelectionStart:B,onSelectionEnd:L,onEdgeContextMenu:Ae,onEdgeDoubleClick:Ie,onEdgeMouseEnter:Pe,onEdgeMouseMove:Oe,onEdgeMouseLeave:Re,onReconnect:Be??De,onReconnectStart:Le??ze,onReconnectEnd:je??Te,reconnectRadius:$e??Ve,defaultMarkerColor:pe,noDragClassName:Xe,noWheelClassName:Fe,noPanClassName:Ge,elevateEdgesOnSelect:et,rfId:dt,disableKeyboardA11y:tt,nodeOrigin:re,nodeExtent:he}),o.createElement(ur,{nodes:n,edges:i,defaultNodes:a,defaultEdges:s,onConnect:v,onConnectStart:y,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:x,nodesDraggable:te,nodesConnectable:ne,nodesFocusable:oe,edgesFocusable:ie,edgesUpdatable:ae,elementsSelectable:se,elevateNodesOnSelect:Je,minZoom:ue,maxZoom:le,nodeExtent:he,onNodesChange:Ye,onEdgesChange:He,snapToGrid:q,snapGrid:Q,connectionMode:j,translateExtent:de,connectOnClick:Ue,defaultEdgeOptions:Qe,fitView:Ze,fitViewOptions:Ke,onNodesDelete:I,onEdgesDelete:P,onNodeDragStart:M,onNodeDrag:k,onNodeDragStop:A,onSelectionDrag:D,onSelectionDragStart:R,onSelectionDragStop:z,noPanClassName:Ge,nodeOrigin:re,rfId:dt,autoPanOnConnect:nt,autoPanOnNodeDrag:ot,onError:at,connectionRadius:rt,isValidConnection:it,nodeDragThreshold:ut}),o.createElement(ir,{onSelectionChange:O}),ke,o.createElement(In,{proOptions:qe,position:We}),o.createElement(mr,{rfId:dt,disableKeyboardA11y:tt})))}));oa.displayName="ReactFlow";function ra(e){return t=>{const[n,r]=(0,o.useState)(t),i=(0,o.useCallback)((t=>r((n=>e(t,n)))),[]);return[n,r,i]}}const ia=ra(Xr),aa=ra((function(e,t){return Hr(e,t)}))},89181:(e,t,n)=>{"use strict";function o(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=o(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}n.d(t,{A:()=>o})},7059:(e,t,n)=>{"use strict";function o(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,o]of e)if(!Object.is(o,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const o of n)if(!Object.prototype.hasOwnProperty.call(t,o)||!Object.is(e[o],t[o]))return!1;return!0}n.d(t,{x:()=>o})}}]);
//# sourceMappingURL=796.91942ccf.chunk.js.map